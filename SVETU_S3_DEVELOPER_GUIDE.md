# üöÄ –†–£–ö–û–í–û–î–°–¢–í–û –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º SveTu.rs

---

## üìã –û –°–ò–°–¢–ï–ú–ï

### –ß—Ç–æ —ç—Ç–æ?
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ SveTu.rs - –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –ë–∞–ª–∫–∞–Ω—Å–∫–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ (—Ç–∏–ø–∞ OLX/Avito).

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- üì∏ **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π** - –æ—Ç —á–∞—Å—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –≤–∞—Ä–µ–Ω—å—è –¥–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- üè™ **–í–∏—Ç—Ä–∏–Ω—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –º–µ–¥–∏–∞ –¥–ª—è B2C —Å–µ–≥–º–µ–Ω—Ç–∞
- üí¨ **–§–∞–π–ª—ã –∏–∑ —á–∞—Ç–æ–≤** - –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- üìÑ **–î–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –¥–æ–≥–æ–≤–æ—Ä—ã

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã:
- **–ï–º–∫–æ—Å—Ç—å:** 1.5TB (1TB SSD + 500GB Object Storage)
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –¥–æ 500 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 5TB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ 100MB)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** 99.9% SLA
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** 1 Gbps
- **–õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** <50ms –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞ –ë–∞–ª–∫–∞–Ω
- **API:** 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å AWS S3
- **CDN Ready:** –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CloudFlare

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
‚úÖ Multipart upload –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤  
‚úÖ Presigned URLs –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏  
‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ (–ø–æ –∑–∞–ø—Ä–æ—Å—É)  
‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º  
‚úÖ Streaming –∑–∞–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞  
‚úÖ Batch –æ–ø–µ—Ä–∞—Ü–∏–∏  
‚úÖ –°–æ–±—ã—Ç–∏—è (webhooks) - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è  

---

## üîë CREDENTIALS –î–õ–Ø –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø

### Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```yaml
endpoint: https://s3.svetu.rs
access_key: production_backend
secret_key: xK9mNjR3tP5wQ2aLbV7cH8dS
region: us-east-1  # –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–≥–∏–æ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
use_ssl: true
```

### Development –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```yaml
endpoint: https://s3.svetu.rs
access_key: dev_backend
secret_key: pL4kJ8nM2qR6tY9wX5zC3vB7
region: us-east-1
use_ssl: true
```

### –ü—É–±–ª–∏—á–Ω—ã–µ URL –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
Production: https://s3.svetu.rs/production-listings/
Development: https://s3.svetu.rs/development-listings/
```

---

## üì¶ –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ö–ï–¢–û–í

### Production –±–∞–∫–µ—Ç—ã:
| –ë–∞–∫–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø | Lifecycle |
|-------|------------|--------|-----------|
| `production-listings` | –§–æ—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π | –ü—É–±–ª–∏—á–Ω—ã–π | 30 –¥–Ω–µ–π ‚Üí –∞—Ä—Ö–∏–≤ |
| `production-storefronts` | –í–∏—Ç—Ä–∏–Ω—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤ | –ü—É–±–ª–∏—á–Ω—ã–π | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ |
| `production-chat-files` | –§–∞–π–ª—ã –∏–∑ —á–∞—Ç–æ–≤ | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π | 90 –¥–Ω–µ–π ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ |
| `production-user-documents` | –î–æ–∫—É–º–µ–Ω—Ç—ã | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ |

### Development –±–∞–∫–µ—Ç—ã:
| –ë–∞–∫–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø | Lifecycle |
|-------|------------|--------|-----------|
| `development-listings` | –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–æ—Ç–æ | –ü—É–±–ª–∏—á–Ω—ã–π | 30 –¥–Ω–µ–π ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ |
| `development-storefronts` | –¢–µ—Å—Ç –≤–∏—Ç—Ä–∏–Ω—ã | –ü—É–±–ª–∏—á–Ω—ã–π | 7 –¥–Ω–µ–π ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ |
| `development-chat-files` | –¢–µ—Å—Ç —Ñ–∞–π–ª—ã | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π | 7 –¥–Ω–µ–π ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ |

---

## üíª –ü–†–ò–ú–ï–†–´ –ö–û–î–ê

### Node.js / JavaScript

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
npm install @aws-sdk/client-s3
# –∏–ª–∏
npm install minio
```

#### AWS SDK v3:
```javascript
import { S3Client, PutObjectCommand, GetObjectCommand } from "@aws-sdk/client-s3";
import { getSignedUrl } from "@aws-sdk/s3-request-presigner";

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
const s3Client = new S3Client({
  endpoint: "http://194.163.132.116:9000",
  region: "us-east-1",
  credentials: {
    accessKeyId: "production_backend",
    secretAccessKey: "xK9mNjR3tP5wQ2aLbV7cH8dS"
  },
  forcePathStyle: true // –í–∞–∂–Ω–æ –¥–ª—è MinIO!
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
async function uploadFile(file, listingId) {
  const key = `listings/${listingId}/${Date.now()}-${file.name}`;
  
  const command = new PutObjectCommand({
    Bucket: "production-listings",
    Key: key,
    Body: file.buffer,
    ContentType: file.mimetype,
    Metadata: {
      'listing-id': listingId,
      'uploaded-by': userId,
      'original-name': file.name
    }
  });
  
  await s3Client.send(command);
  
  // –ü—É–±–ª–∏—á–Ω—ã–π URL
  return `http://194.163.132.116:9000/production-listings/${key}`;
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ presigned URL –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
async function getUploadUrl(listingId, fileName) {
  const key = `listings/${listingId}/${fileName}`;
  
  const command = new PutObjectCommand({
    Bucket: "production-listings",
    Key: key
  });
  
  // URL –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 15 –º–∏–Ω—É—Ç
  const url = await getSignedUrl(s3Client, command, { expiresIn: 900 });
  return url;
}

// –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
async function deleteFile(key) {
  const command = new DeleteObjectCommand({
    Bucket: "production-listings",
    Key: key
  });
  
  await s3Client.send(command);
}
```

#### MinIO SDK:
```javascript
const Minio = require('minio');

const minioClient = new Minio.Client({
  endPoint: '194.163.132.116',
  port: 9000,
  useSSL: false,
  accessKey: 'production_backend',
  secretKey: 'xK9mNjR3tP5wQ2aLbV7cH8dS'
});

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
function uploadWithProgress(bucket, objectName, filePath) {
  return new Promise((resolve, reject) => {
    const file = fs.createReadStream(filePath);
    const stat = fs.statSync(filePath);
    
    minioClient.putObject(bucket, objectName, file, stat.size, {
      'Content-Type': 'image/jpeg',
      'X-Amz-Meta-Testing': 'metadata'
    }, (err, etag) => {
      if (err) return reject(err);
      resolve(etag);
    });
  });
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
async function listFiles(bucket, prefix) {
  const objects = [];
  const stream = minioClient.listObjectsV2(bucket, prefix, true);
  
  return new Promise((resolve, reject) => {
    stream.on('data', obj => objects.push(obj));
    stream.on('error', reject);
    stream.on('end', () => resolve(objects));
  });
}
```

### Python

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
pip install boto3
# –∏–ª–∏
pip install minio
```

#### Boto3:
```python
import boto3
from botocore.client import Config

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
s3 = boto3.client(
    's3',
    endpoint_url='http://194.163.132.116:9000',
    aws_access_key_id='production_backend',
    aws_secret_access_key='xK9mNjR3tP5wQ2aLbV7cH8dS',
    config=Config(signature_version='s3v4'),
    region_name='us-east-1'
)

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
def upload_listing_image(file_path, listing_id):
    key = f"listings/{listing_id}/{os.path.basename(file_path)}"
    
    s3.upload_file(
        file_path,
        'production-listings',
        key,
        ExtraArgs={
            'ContentType': 'image/jpeg',
            'Metadata': {
                'listing-id': str(listing_id)
            }
        }
    )
    
    return f"http://194.163.132.116:9000/production-listings/{key}"

# Multipart upload –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
def upload_large_file(file_path, bucket, key):
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç multipart –¥–ª—è —Ñ–∞–π–ª–æ–≤ > 5MB
    config = boto3.s3.transfer.TransferConfig(
        multipart_threshold=1024 * 25,  # 25MB
        max_concurrency=10,
        multipart_chunksize=1024 * 25,
        use_threads=True
    )
    
    s3.upload_file(
        file_path, bucket, key,
        Config=config,
        Callback=ProgressPercentage(file_path)
    )

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è presigned URL
def create_presigned_url(bucket, key, expiration=3600):
    return s3.generate_presigned_url(
        ClientMethod='get_object',
        Params={'Bucket': bucket, 'Key': key},
        ExpiresIn=expiration
    )
```

### Go

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
go get github.com/minio/minio-go/v7
```

#### –ü—Ä–∏–º–µ—Ä:
```go
package main

import (
    "context"
    "log"
    "github.com/minio/minio-go/v7"
    "github.com/minio/minio-go/v7/pkg/credentials"
)

func main() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    minioClient, err := minio.New("194.163.132.116:9000", &minio.Options{
        Creds:  credentials.NewStaticV4("production_backend", "xK9mNjR3tP5wQ2aLbV7cH8dS", ""),
        Secure: false,
    })
    if err != nil {
        log.Fatalln(err)
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
    bucketName := "production-listings"
    objectName := "listings/123/image.jpg"
    filePath := "/path/to/image.jpg"
    contentType := "image/jpeg"

    info, err := minioClient.FPutObject(
        context.Background(),
        bucketName,
        objectName,
        filePath,
        minio.PutObjectOptions{
            ContentType: contentType,
            UserMetadata: map[string]string{
                "listing-id": "123",
            },
        },
    )
    if err != nil {
        log.Fatalln(err)
    }

    log.Printf("Uploaded %s of size %d\n", objectName, info.Size)
}
```

### PHP

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
composer require aws/aws-sdk-php
```

#### –ü—Ä–∏–º–µ—Ä:
```php
<?php
require 'vendor/autoload.php';

use Aws\S3\S3Client;
use Aws\Exception\AwsException;

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
$s3 = new S3Client([
    'version' => 'latest',
    'region'  => 'us-east-1',
    'endpoint' => 'http://194.163.132.116:9000',
    'use_path_style_endpoint' => true,
    'credentials' => [
        'key'    => 'production_backend',
        'secret' => 'xK9mNjR3tP5wQ2aLbV7cH8dS',
    ],
]);

// –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
function uploadListingImage($filePath, $listingId) {
    global $s3;
    
    $key = "listings/{$listingId}/" . basename($filePath);
    
    try {
        $result = $s3->putObject([
            'Bucket' => 'production-listings',
            'Key'    => $key,
            'Body'   => fopen($filePath, 'r'),
            'ContentType' => 'image/jpeg',
            'Metadata' => [
                'listing-id' => $listingId
            ]
        ]);
        
        return "http://194.163.132.116:9000/production-listings/{$key}";
    } catch (AwsException $e) {
        echo $e->getMessage();
        return false;
    }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ presigned URL
function getPresignedUrl($bucket, $key, $expiration = '+15 minutes') {
    global $s3;
    
    $cmd = $s3->getCommand('GetObject', [
        'Bucket' => $bucket,
        'Key'    => $key
    ]);
    
    $request = $s3->createPresignedRequest($cmd, $expiration);
    return (string) $request->getUri();
}
?>
```

---

## üéØ BEST PRACTICES

### 1. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
```
‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
production-listings/
‚îú‚îÄ‚îÄ 2025/09/01/listing-12345/image-1.jpg
‚îú‚îÄ‚îÄ 2025/09/01/listing-12345/image-2.jpg
‚îî‚îÄ‚îÄ 2025/09/01/listing-12346/image-1.jpg

‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
production-listings/
‚îú‚îÄ‚îÄ image1.jpg
‚îú‚îÄ‚îÄ image2.jpg
‚îî‚îÄ‚îÄ photo.jpg
```

### 2. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```javascript
// ‚úÖ –•–æ—Ä–æ—à–æ
const key = `listings/${year}/${month}/${day}/${listingId}/${uuid}-${sanitizedName}`;

// ‚ùå –ü–ª–æ—Ö–æ
const key = `listings/${originalFileName}`;
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```javascript
// –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
const sizes = {
  thumbnail: { width: 150, height: 150 },
  medium: { width: 800, height: 600 },
  large: { width: 1920, height: 1080 }
};

// –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
await uploadImage(thumbnail, `${key}-thumb.jpg`);
await uploadImage(medium, `${key}-medium.jpg`);
await uploadImage(original, `${key}-original.jpg`);
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```javascript
async function safeUpload(file, bucket, key, retries = 3) {
  for (let i = 0; i < retries; i++) {
    try {
      return await s3.upload(file, bucket, key);
    } catch (error) {
      if (i === retries - 1) throw error;
      
      // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
      await new Promise(r => setTimeout(r, Math.pow(2, i) * 1000));
    }
  }
}
```

### 5. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```javascript
// –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
const metadata = {
  'content-hash': md5Hash,
  'uploaded-at': new Date().toISOString(),
  'user-id': userId,
  'listing-id': listingId,
  'environment': process.env.NODE_ENV
};
```

---

## üìä –õ–ò–ú–ò–¢–´ –ò –ö–í–û–¢–´

### –†–∞–∑–º–µ—Ä—ã:
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:** 5TB
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä:** –¥–æ 100MB
- **Multipart –ø–æ—Ä–æ–≥:** 5MB (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **–†–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏ multipart:** 5MB - 5GB

### –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
- **–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫:** 500 RPS
- **–ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:** 1000
- **Timeout –∑–∞–≥—Ä—É–∑–∫–∏:** 5 –º–∏–Ω—É—Ç
- **Presigned URL —Å—Ä–æ–∫:** –º–∞–∫—Å–∏–º—É–º 7 –¥–Ω–µ–π

### –ö–≤–æ—Ç—ã –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏–π:
| –û–∫—Ä—É–∂–µ–Ω–∏–µ | –ö–≤–æ—Ç–∞ | –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ |
|-----------|-------|-------------------------|
| Production | 1TB | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞ |
| Development | 100GB | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ |
| Staging | 50GB | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ |

---

## üîß –û–¢–õ–ê–î–ö–ê –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### MinIO CLI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
curl https://dl.min.io/client/mc/release/linux-amd64/mc -o mc
chmod +x mc

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
./mc alias set svetu http://194.163.132.116:9000 \
  production_backend xK9mNjR3tP5wQ2aLbV7cH8dS

# –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
./mc ls svetu/production-listings
./mc cp test.jpg svetu/production-listings/test.jpg
./mc stat svetu/production-listings/test.jpg
```

### cURL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl -I http://194.163.132.116:9000/minio/health/live

# –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ presigned URL
curl -X PUT --upload-file image.jpg "PRESIGNED_URL_HERE"
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```javascript
// –í–∫–ª—é—á–∏—Ç–µ debug –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
const s3Client = new S3Client({
  // ... config
  logger: console, // –∏–ª–∏ –≤–∞—à logger
});

// –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
s3Client.middlewareStack.add(
  (next) => async (args) => {
    console.log('S3 Request:', args);
    const result = await next(args);
    console.log('S3 Response:', result);
    return result;
  },
  { step: 'finalizeRequest' }
);
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
1. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ credentials –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π
3. –†–æ—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ presigned URLs –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multipart upload –¥–ª—è —Ñ–∞–π–ª–æ–≤ > 5MB
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ retry –ª–æ–≥–∏–∫—É —Å exponential backoff
3. –ö—ç—à–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CDN –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
1. –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å S3
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
4. –ê–ª–µ—Ä—Ç–∏–Ω–≥ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏

---

## üÜò –ü–û–î–î–ï–†–ñ–ö–ê

### –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞: `curl http://194.163.132.116:9000/minio/health/live`
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å credentials
3. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞ –∏ –∫–ª—é—á–∞
4. –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `AccessDenied` | –ù–µ–≤–µ—Ä–Ω—ã–µ credentials | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ access/secret key |
| `NoSuchBucket` | –ë–∞–∫–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∫–µ—Ç–∞ |
| `RequestTimeout` | –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multipart upload |
| `Connection refused` | –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É |

### –ö–æ–Ω—Ç–∞–∫—Ç—ã:
- **Email –∞–¥–º–∏–Ω–∞:** admin@svetu.rs
- **Telegram –ø–æ–¥–¥–µ—Ä–∂–∫–∏:** @svetu_dev_support
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MinIO:** https://min.io/docs/

---

## üìà ROADMAP

### –ë–ª–∏–∂–∞–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- ‚è≥ CDN –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ CloudFlare
- ‚è≥ Webhooks –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚è≥ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚è≥ –ü–æ–∏—Å–∫ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ–∏—á–∏:
- Object tagging
- Lifecycle policies –¥–ª—è –≤—Å–µ—Ö –±–∞–∫–µ—Ç–æ–≤
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –≤ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω
- S3 Select –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –¥–∞–Ω–Ω—ã–º
- Encryption at rest

---

*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 1.0*  
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –°–µ–Ω—Ç—è–±—Ä—å 2025*  
*API –≤–µ—Ä—Å–∏—è: S3 v4*