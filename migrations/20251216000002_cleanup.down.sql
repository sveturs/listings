-- ═══════════════════════════════════════════════════════════════════
-- ОТКАТ МИГРАЦИИ: 20251216000002_cleanup
-- ═══════════════════════════════════════════════════════════════════
--
-- ВАЖНО: Откат этой миграции НЕ восстанавливает старые данные!
--
-- Причина: Мы намеренно удалили "мусорные" данные и начали с чистого листа.
-- Если нужно восстановить БД - используйте бэкапы:
--   /tmp/category-migration-backups/listings_dev_db_backup_*.sql
--
-- Эта миграция существует только для соответствия формату golang-migrate
-- и не выполняет никаких действий.
--
-- ═══════════════════════════════════════════════════════════════════

BEGIN;

DO $$
BEGIN
    RAISE NOTICE '════════════════════════════════════════════════════════';
    RAISE NOTICE '⚠️  ОТКАТ МИГРАЦИИ 20251216000002_cleanup';
    RAISE NOTICE '════════════════════════════════════════════════════════';
    RAISE NOTICE '';
    RAISE NOTICE 'ВАЖНО: Откат НЕ восстанавливает старые данные!';
    RAISE NOTICE '';
    RAISE NOTICE 'Для восстановления БД используйте бэкапы:';
    RAISE NOTICE '  /tmp/category-migration-backups/listings_dev_db_backup_*.sql';
    RAISE NOTICE '';
    RAISE NOTICE 'Команда восстановления:';
    RAISE NOTICE '  psql "postgres://listings_user:listings_secret@localhost:35434/listings_dev_db" < backup.sql';
    RAISE NOTICE '';
    RAISE NOTICE '════════════════════════════════════════════════════════';
END $$;

-- Никаких действий не выполняем
-- Старые категории и атрибуты НЕ восстанавливаются намеренно

COMMIT;
