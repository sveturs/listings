# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π - –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
3. [Backend API](#backend-api)
4. [Frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#frontend-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
5. [–†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
6. [–°–∏—Å—Ç–µ–º–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-–∞—Ç—Ä–∏–±—É—Ç–æ–≤)
7. [–ü–æ–∏—Å–∫–æ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è](#–ø–æ–∏—Å–∫–æ–≤–∞—è-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è)
8. [–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏–∏](#–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–ü—É—Ç—å**: `/profile/listings/[id]/edit`
- **–§–∞–π–ª**: `frontend/svetu/src/app/[locale]/profile/listings/[id]/edit/page.tsx`
- **–°—Ç–∞—Ç—É—Å**: –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤, —Ñ–æ—Ç–æ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å:
- –ü–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –ø–æ–ª–µ–π –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ (–∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### marketplace_listings
```sql
- id: integer (PK)
- user_id: integer (FK -> users)
- category_id: integer (FK -> marketplace_categories)
- title: varchar(255)
- description: text
- price: numeric(12,2)
- condition: varchar(50) -- 'new', 'used', 'refurbished'
- status: varchar(20) -- 'active', 'inactive', 'sold'
- location: varchar(255)
- latitude: numeric(10,8)
- longitude: numeric(11,8)
- address_city: varchar(100)
- address_country: varchar(100)
- views_count: integer
- show_on_map: boolean
- original_language: varchar(10)
- storefront_id: integer (FK -> user_storefronts, nullable)
- metadata: jsonb
- created_at: timestamp
- updated_at: timestamp
```

#### listing_attribute_values
```sql
- id: integer (PK)
- listing_id: integer (FK -> marketplace_listings)
- attribute_id: integer (FK -> category_attributes)
- text_value: text
- numeric_value: numeric(20,5)
- boolean_value: boolean
- json_value: jsonb
- unit: varchar(20)
- value_type: varchar(20) -- 'text', 'numeric', 'boolean', 'json'
```

#### category_attributes
```sql
- id: integer (PK)
- name: varchar(100) -- —Å–∏—Å—Ç–µ–º–Ω–æ–µ –∏–º—è (brand, model, year)
- display_name: varchar(255) -- –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
- attribute_type: varchar(50) -- 'text', 'numeric', 'select', 'multiselect', 'boolean'
- options: jsonb -- –¥–ª—è select/multiselect
- validation_rules: jsonb
- is_searchable: boolean
- is_filterable: boolean
- is_required: boolean
- sort_order: integer
```

#### marketplace_images
```sql
- id: integer (PK)
- listing_id: integer (FK -> marketplace_listings)
- file_path: varchar(255)
- file_name: varchar(255)
- file_size: integer
- content_type: varchar(100)
- is_main: boolean
- created_at: timestamp
- storage_type: varchar(50) -- 'minio'
- storage_bucket: varchar(100) -- 'listings'
- public_url: varchar(500)
```

## üîå Backend API

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### GET /api/v1/marketplace/listings/{id}
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –≤–∫–ª—é—á–∞—è:
- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ö–∞—Ç–µ–≥–æ—Ä–∏—é —Å –ø—É—Ç–µ–º (category_path)
- –ê—Ç—Ä–∏–±—É—Ç—ã (attributes)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (images)
- –ü–µ—Ä–µ–≤–æ–¥—ã (translations)

#### PUT /api/v1/marketplace/listings/{id}
```typescript
interface UpdateListingRequest {
  title: string;
  description: string;
  price: number;
  condition: 'new' | 'used' | 'refurbished';
  city?: string;
  country?: string;
  location?: string;
  latitude?: number;
  longitude?: number;
  show_on_map?: boolean;
  category_id: number;
  attributes?: Array<{
    attribute_id: number;
    value: string | number | boolean;
  }>;
}
```

#### POST /api/v1/marketplace/listings/{id}/images
- Multipart form-data
- –ü–æ–ª–µ: `file` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- –ü–æ–ª–µ: `main_image_index` (–∏–Ω–¥–µ–∫—Å –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–æ—Ç–æ)

#### DELETE /api/v1/marketplace/listings/{id}/images/{imageId}
–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### PUT /api/v1/marketplace/listings/{id}/images/reorder
```typescript
interface ReorderImagesRequest {
  image_ids: number[]; // –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ ID –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  main_image_id: number; // ID –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
}
```

## üé® Frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
/profile/listings/[id]/edit/
‚îú‚îÄ‚îÄ page.tsx                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ BasicInfoSection.tsx    # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ImagesSection.tsx       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ
‚îÇ   ‚îú‚îÄ‚îÄ AttributesSection.tsx   # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ LocationSection.tsx     # –õ–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ SEOSection.tsx          # SEO –∏ –ø–µ—Ä–µ–≤–æ–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ PreviewCard.tsx         # –ü—Ä–µ–≤—å—é –æ–±—ä—è–≤–ª–µ–Ω–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ —Ö—É–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã

```typescript
// –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º
const useListingEdit = (listingId: string) => {
  const [listing, setListing] = useState<Listing | null>(null);
  const [isDirty, setIsDirty] = useState(false);
  const [errors, setErrors] = useState<ValidationErrors>({});
  
  // –ó–∞–≥—Ä—É–∑–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è
  return { listing, save, validate, isDirty, errors };
};

// –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const useCategoryAttributes = (categoryId: number) => {
  const [attributes, setAttributes] = useState<CategoryAttribute[]>([]);
  const [values, setValues] = useState<AttributeValues>({});
  
  return { attributes, values, updateValue };
};
```

## üì∏ –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### MinIO –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Bucket**: listings
- **–ü—É—Ç—å**: `{listing_id}/{timestamp}_{random}.{ext}`
- **–ü—É–±–ª–∏—á–Ω—ã–π URL**: `/listings/{path}`

### –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ multipart/form-data
2. Backend –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç (—Ç–∏–ø, —Ä–∞–∑–º–µ—Ä < 10MB)
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Å timestamp
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ MinIO
5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –ë–î
6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ URL

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ JPEG (–∫–∞—á–µ—Å—Ç–≤–æ 85%)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é (300x300)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebP –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

## üè∑Ô∏è –°–∏—Å—Ç–µ–º–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤

### –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```sql
SELECT ca.*, cam.is_required as category_required
FROM category_attributes ca
JOIN category_attribute_mapping cam ON ca.id = cam.attribute_id
WHERE cam.category_id = $1
ORDER BY cam.sort_order, ca.sort_order;
```

### –¢–∏–ø—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤

#### text
```typescript
<input type="text" value={value} onChange={onChange} />
```

#### numeric
```typescript
<input type="number" value={value} onChange={onChange} />
{attribute.unit && <span>{attribute.unit}</span>}
```

#### select
```typescript
<select value={value} onChange={onChange}>
  {attribute.options.map(opt => (
    <option key={opt.value} value={opt.value}>{opt.label}</option>
  ))}
</select>
```

#### multiselect
```typescript
<MultiSelect 
  options={attribute.options}
  value={value as string[]}
  onChange={onChange}
/>
```

#### boolean
```typescript
<input type="checkbox" checked={value} onChange={onChange} />
```

## üîç –ü–æ–∏—Å–∫–æ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–∏:
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ title, description, price
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ (active/inactive)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–æ—Ç–æ

### –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–µ –ø–æ–ª—è
```typescript
interface SearchDocument {
  id: number;
  title: string;
  title_ngram: string; // –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  description: string;
  price: number;
  category_id: number;
  category_path: string[]; // –¥–ª—è —Ñ–∞—Å–µ—Ç–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  attributes: {
    [key: string]: string | number | boolean;
  };
  location: {
    lat: number;
    lon: number;
  };
  city: string;
  country: string;
  images_count: number;
  has_images: boolean;
  created_at: string;
  updated_at: string;
}
```

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–µ—Ä—Å–∏–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (2-3 –¥–Ω—è)
1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –£–ª—É—á—à–µ–Ω–∏–µ UX (loading states, error handling)

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
   - Drag & drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
   - –í—ã–±–æ—Ä –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–æ—Ç–æ
   - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ

3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (2-3 –¥–Ω—è)
1. **–õ–æ–∫–∞—Ü–∏—è –∏ –∫–∞—Ä—Ç–∞**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LocationPicker
   - –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –∞–¥—Ä–µ—Å–∞
   - –û–ø—Ü–∏—è "–°–∫—Ä—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ"

2. **SEO –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –°—á–µ—Ç—á–∏–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤
   - SEO-—Å–∫–æ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

3. **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä**
   - –†–µ–∞–ª—Ç–∞–π–º –ø—Ä–µ–≤—å—é –∫–∞—Ä—Ç–æ—á–∫–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞ (—Å–ø–∏—Å–æ–∫/—Å–µ—Ç–∫–∞)
   - –ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥

### –§–∞–∑–∞ 3: –£–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –¥–Ω—è)
1. **–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞**
   - –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ü–µ–Ω–µ

2. **AI-–ø–æ–º–æ—â–Ω–∏–∫** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –£–ª—É—á—à–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏

3. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏

```bash
# 1. –û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
code /data/hostel-booking-system/frontend/svetu/src/app/[locale]/profile/listings/[id]/edit/page.tsx

# 2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã UI
http://localhost:3001/ru/examples/listing-edit-ux

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
cd /data/hostel-booking-system/backend/docs && python3 -m http.server 8888
# –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON MCP –¥–ª—è –ø–æ–∏—Å–∫–∞ PUT /api/v1/marketplace/listings/{id}

# 4. –ù–∞—á–∞—Ç—å —Å —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø–∞–ø–∫–µ
mkdir -p /data/hostel-booking-system/frontend/svetu/src/app/[locale]/profile/listings/[id]/edit/components
```

## ‚ö° –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –Ω–∞ backend –∏ frontend
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å validation_rules –∏–∑ –ë–î
3. **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É, –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–µ
4. **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
6. **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: `/frontend/svetu/src/app/[locale]/profile/listings/[id]/edit/page.tsx`
- **API handler**: `/backend/internal/proj/marketplace/handler/listings.go` (—Ñ—É–Ω–∫—Ü–∏—è UpdateListing)
- **–ü—Ä–∏–º–µ—Ä—ã UI**: `/frontend/svetu/src/app/[locale]/examples/listing-edit-ux/page.tsx`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç LocationPicker**: —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é `LOCATION_PICKER_INSTRUCTION.md`
- **–°–∏—Å—Ç–µ–º–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤**: —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é `CATEGORY_ATTRIBUTES_STATUS.md`