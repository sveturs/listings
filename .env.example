# Listings Service Configuration
# Copy this file to .env and configure for your environment

# ========================================
# Application Settings
# ========================================
SVETULISTINGS_ENV=development
SVETULISTINGS_LOG_LEVEL=debug
SVETULISTINGS_LOG_FORMAT=json

# ========================================
# Server Ports
# ========================================
# gRPC Internal API
SVETULISTINGS_GRPC_PORT=50053
SVETULISTINGS_GRPC_HOST=0.0.0.0

# HTTP REST API
SVETULISTINGS_HTTP_PORT=8086
SVETULISTINGS_HTTP_HOST=0.0.0.0

# Prometheus Metrics
SVETULISTINGS_METRICS_PORT=9093
SVETULISTINGS_METRICS_HOST=0.0.0.0

# ========================================
# Database Configuration (PostgreSQL)
# ========================================
SVETULISTINGS_DB_HOST=localhost
SVETULISTINGS_DB_PORT=35433
SVETULISTINGS_DB_USER=listings_user
SVETULISTINGS_DB_PASSWORD=listings_password
SVETULISTINGS_DB_NAME=listings_db
SVETULISTINGS_DB_SSLMODE=disable

# Connection Pool Settings
SVETULISTINGS_DB_MAX_OPEN_CONNS=25
SVETULISTINGS_DB_MAX_IDLE_CONNS=10
SVETULISTINGS_DB_CONN_MAX_LIFETIME=5m
SVETULISTINGS_DB_CONN_MAX_IDLE_TIME=10m

# ========================================
# Redis Configuration
# ========================================
SVETULISTINGS_REDIS_HOST=localhost
SVETULISTINGS_REDIS_PORT=36380
SVETULISTINGS_REDIS_PASSWORD=redis_password
SVETULISTINGS_REDIS_DB=0

# Redis Connection Pool
SVETULISTINGS_REDIS_POOL_SIZE=10
SVETULISTINGS_REDIS_MIN_IDLE_CONNS=5

# Cache TTL Settings
SVETULISTINGS_CACHE_LISTING_TTL=5m
SVETULISTINGS_CACHE_SEARCH_TTL=2m

# ========================================
# OpenSearch Configuration
# ========================================
SVETULISTINGS_OPENSEARCH_ADDRESSES=http://localhost:9200
SVETULISTINGS_OPENSEARCH_USERNAME=admin
SVETULISTINGS_OPENSEARCH_PASSWORD=admin
SVETULISTINGS_OPENSEARCH_INDEX=marketplace_listings

# ========================================
# MinIO Configuration (S3-compatible storage)
# ========================================
SVETULISTINGS_MINIO_ENDPOINT=localhost:9000
SVETULISTINGS_MINIO_ACCESS_KEY=minioadmin
SVETULISTINGS_MINIO_SECRET_KEY=minioadmin
SVETULISTINGS_MINIO_USE_SSL=false
SVETULISTINGS_MINIO_BUCKET=listings-images

# ========================================
# Auth Service Integration
# ========================================
SVETULISTINGS_AUTH_SERVICE_URL=http://localhost:8081
SVETULISTINGS_AUTH_PUBLIC_KEY_PATH=/path/to/auth/public.pem

# ========================================
# Worker Configuration
# ========================================
SVETULISTINGS_WORKER_ENABLED=true
SVETULISTINGS_WORKER_CONCURRENCY=5
SVETULISTINGS_WORKER_QUEUE_NAME=listings_indexing

# ========================================
# Rate Limiting
# ========================================
SVETULISTINGS_RATE_LIMIT_ENABLED=true
SVETULISTINGS_RATE_LIMIT_RPS=100
SVETULISTINGS_RATE_LIMIT_BURST=200

# ========================================
# Tracing & Monitoring
# ========================================
SVETULISTINGS_TRACING_ENABLED=false
SVETULISTINGS_JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ========================================
# CORS Configuration
# ========================================
SVETULISTINGS_CORS_ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000
SVETULISTINGS_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
SVETULISTINGS_CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ========================================
# Feature Flags
# ========================================
SVETULISTINGS_FEATURE_ASYNC_INDEXING=true
SVETULISTINGS_FEATURE_IMAGE_OPTIMIZATION=true
SVETULISTINGS_FEATURE_CACHE_ENABLED=true
