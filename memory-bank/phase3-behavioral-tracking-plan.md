# –ü–ª–∞–Ω –§–∞–∑—ã 3: Behavioral Tracking & Optimization
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-07
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-01-07 (–≤–µ—á–µ—Ä)
**–í–µ—Ç–∫–∞**: feature/phase3-behavioral-tracking
**–°—Ç–∞—Ç—É—Å**: üèóÔ∏è –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è ‚úÖ
- ‚úÖ –§–∞–∑–∞ 2.5 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∏—Å–∫–æ–º)
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã (–≤–∫–ª—é—á–∞—è –≤–µ—Å–∞ –ø–æ–∏—Å–∫–∞)
- ‚úÖ –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (2025-01-07 –≤–µ—á–µ—Ä)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–¥–º–∏–Ω–∫–∏ –ø–æ–∏—Å–∫–∞ (–û–±–∑–æ—Ä, –ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –í–µ—Å–∞, –°–∏–Ω–æ–Ω–∏–º—ã, –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è, –ù–∞—Å—Ç—Ä–æ–π–∫–∏)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ 500 –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–µ—Å–æ–≤ (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ 0-100 ‚Üî 0-10)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ –ø–æ–∏—Å–∫–∞ (125 –∫–ª—é—á–µ–π)
- ‚úÖ Frontend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (2025-01-08 –Ω–æ—á—å)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω—É–ª–µ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ –ø–æ–∏—Å–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ UnifiedSearchHandler
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–æ–∏—Å–∫–∞ (—É–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π useEffect)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –±–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤ (–≥–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–∏—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

## –¶–µ–ª–∏ –§–∞–∑—ã 3
1. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - –ö–ª–∏–∫–∏ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞
   - –í—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ (–∫–æ–Ω—Ç–∞–∫—Ç—ã, –∑–∞–∫–∞–∑—ã)
   - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –≤–µ—Å–æ–≤
   - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –û—Ç—á–µ—Ç—ã –ø–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
   - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤

## –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞ (2-3 –¥–Ω—è)

#### 1.1 Backend - –°–æ–±—ã—Ç–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE user_behavior_events (
    id BIGSERIAL PRIMARY KEY,
    user_id INTEGER,
    session_id VARCHAR(255),
    event_type VARCHAR(50), -- click, view, scroll, search, contact
    event_target VARCHAR(100), -- listing, category, search_result
    target_id INTEGER,
    event_data JSONB,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_behavior_user (user_id),
    INDEX idx_user_behavior_session (session_id),
    INDEX idx_user_behavior_type (event_type),
    INDEX idx_user_behavior_created (created_at)
);

-- –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
CREATE TABLE search_behavior_metrics (
    id SERIAL PRIMARY KEY,
    query VARCHAR(255),
    listing_id INTEGER,
    clicks INTEGER DEFAULT 0,
    views INTEGER DEFAULT 0,
    avg_time_on_page FLOAT DEFAULT 0,
    conversion_rate FLOAT DEFAULT 0,
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 1.2 API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- `POST /api/v1/analytics/track` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π
- `GET /api/v1/analytics/behavior/summary` - —Å–≤–æ–¥–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- `GET /api/v1/analytics/behavior/search` - –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∏—Å–∫–∞

#### 1.3 Frontend - –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç—Ä–µ–∫–∏–Ω–≥
```typescript
// hooks/useBehaviorTracking.ts
export const useBehaviorTracking = () => {
  const trackEvent = async (event: BehaviorEvent) => {
    await fetch('/api/analytics/track', {
      method: 'POST',
      body: JSON.stringify(event)
    });
  };
  
  const trackClick = (resultId: number, position: number) => {
    trackEvent({
      type: 'search_result_click',
      target: 'listing',
      targetId: resultId,
      data: { position, query: currentQuery }
    });
  };
  
  return { trackClick, trackEvent };
};
```

### –≠—Ç–∞–ø 2: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (1-2 –¥–Ω—è)

#### 2.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–∏–Ω–≥–∞
- SearchResults –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –∫–ª–∏–∫–∏ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ListingPage - –≤—Ä–µ–º—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —Å–∫—Ä–æ–ª–ª
- ContactForm - –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- CategoryBrowse - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### 2.2 –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```go
// worker –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
type BehaviorAggregator struct {
    db *postgres.Database
}

func (ba *BehaviorAggregator) AggregateMetrics() {
    // –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –æ–±–Ω–æ–≤–ª—è–µ–º –º–µ—Ç—Ä–∏–∫–∏
    // CTR = clicks / impressions
    // Bounce rate = single page sessions / total sessions
    // Conversion rate = contacts / views
}
```

### –≠—Ç–∞–ø 3: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (3-4 –¥–Ω—è)

#### 3.1 –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –≤–µ—Å–æ–≤
```go
type DynamicWeightOptimizer struct {
    baseWeights  SearchWeights
    behaviorData BehaviorMetrics
}

func (dwo *DynamicWeightOptimizer) OptimizeWeights() SearchWeights {
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º CTR –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–µ—Å–∞ –ø–æ–ª–µ–π —Å –≤—ã—Å–æ–∫–∏–º CTR
    // –£–º–µ–Ω—å—à–∞–µ–º –≤–µ—Å–∞ –ø–æ–ª–µ–π —Å –Ω–∏–∑–∫–∏–º CTR
    
    adjustedWeights := dwo.baseWeights
    
    // –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ title –∏–º–µ–µ—Ç CTR > 30%, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–µ—Å
    if metrics.TitleCTR > 0.3 {
        adjustedWeights.Title *= 1.1
    }
    
    return adjustedWeights
}
```

#### 3.2 –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–¥ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –≠—Ç–∞–ø 4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç—á–µ—Ç—ã (2-3 –¥–Ω—è)

#### 4.1 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "–ü–æ–≤–µ–¥–µ–Ω–∏–µ"
- –ì—Ä–∞—Ñ–∏–∫–∏ CTR –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∫–ª–∏–∫–æ–≤
- –í–æ—Ä–æ–Ω–∫–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

#### 4.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
```typescript
// components/admin/BehaviorDashboard.tsx
- SearchPerformanceChart - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ClickHeatmap - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–∫–æ–≤
- ConversionFunnel - –≤–æ—Ä–æ–Ω–∫–∞ –æ—Ç –ø–æ–∏—Å–∫–∞ –¥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- UserJourneyFlow - –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### –≠—Ç–∞–ø 5: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)

#### 5.1 –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```sql
CREATE TABLE ab_tests (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    description TEXT,
    variant_a JSONB, -- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è A
    variant_b JSONB, -- –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è B
    start_date TIMESTAMP,
    end_date TIMESTAMP,
    status VARCHAR(20) -- active, completed, cancelled
);

CREATE TABLE ab_test_assignments (
    user_id INTEGER,
    test_id INTEGER,
    variant CHAR(1), -- 'A' or 'B'
    assigned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 5.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- Middleware –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–µ–¥–µ–ª—è 1 (–¢–µ–∫—É—â–∞—è)
1. ‚è≥ –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Å–æ–±—ã—Ç–∏–π
2. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ –∫–ª–∏–∫–æ–≤
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å API –¥–ª—è —Å–±–æ—Ä–∞ —Å–æ–±—ã—Ç–∏–π
4. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ SearchResults

### –ù–µ–¥–µ–ª—è 2
5. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫
6. ‚è≥ –°–æ–∑–¥–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–µ—Å–æ–≤
7. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∞–¥–º–∏–Ω–∫—É
8. ‚è≥ –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–µ—Ä–≤—ã–µ —Ç–µ—Å—Ç—ã

### –ù–µ–¥–µ–ª—è 3
9. ‚è≥ –í–Ω–µ–¥—Ä–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
10. ‚è≥ –†–∞—Å—à–∏—Ä–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É
11. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
12. ‚è≥ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ
- ‚Üë CTR –Ω–∞ 15-20%
- ‚Üë –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ–∏—Å–∫‚Üí–∫–æ–Ω—Ç–∞–∫—Ç –Ω–∞ 10%
- ‚Üì Bounce rate –Ω–∞ 20%
- ‚Üì –í—Ä–µ–º—è –¥–æ –∫–ª–∏–∫–∞ –Ω–∞ 25%

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ
- –ë–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º —Å–æ–±—ã—Ç–∏–π
- **–†–µ—à–µ–Ω–∏–µ**: –ë–∞—Ç—á–∏–Ω–≥, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–∏—Å–∫ 2: –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- **–ü—Ä–æ–±–ª–µ–º–∞**: GDPR compliance
- **–†–µ—à–µ–Ω–∏–µ**: –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è, opt-in, –ø—Ä–∞–≤–æ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ

### –†–∏—Å–∫ 3: –ü–µ—Ä–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
- **–†–µ—à–µ–Ω–∏–µ**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è, A/B —Ç–µ—Å—Ç—ã

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –§–∞–∑–∞ 2.5 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 2025-01-08)
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚è≥ –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü —Å–æ–±—ã—Ç–∏–π
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ –∫–ª–∏–∫–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å —Ö—É–∫ useBehaviorTracking
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SearchResults
5. –ù–∞—á–∞—Ç—å —Å–±–æ—Ä –ø–µ—Ä–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:
```bash
# –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
cd backend
migrate create -ext sql -dir migrations -seq create_behavior_tracking_tables
```

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –Ω–∞—á–∞–ª—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ —Ç—Ä–µ–∫–∏–Ω–≥–∞!