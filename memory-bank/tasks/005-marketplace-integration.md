# Интеграция объявлений marketplace на главную страницу

## Дата: 30.05.2025

## Описание задачи
Реализовать получение и отображение объявлений marketplace на главной странице из API http://localhost:3000/api/v1/marketplace/search

## Выполненные действия

1. **Создание типов TypeScript**
   - Создан файл `/src/types/marketplace.ts` с интерфейсами:
     - `MarketplaceItem` - тип для одного объявления
     - `MarketplaceSearchResponse` - тип для ответа API
     - `MarketplaceSearchParams` - тип для параметров поиска

2. **Создание сервиса для работы с API**
   - Создан файл `/src/services/marketplace.ts`
   - Реализован класс `MarketplaceService` с методом `search`
   - Поддержка всех параметров поиска (сортировка, пагинация, фильтры)

3. **Создание компонента карточки объявления**
   - Создан файл `/src/components/MarketplaceCard.tsx`
   - Использование daisyUI для стилизации (card компонент)
   - Форматирование цены с учетом локали
   - Отображение времени публикации в человекопонятном формате
   - Плейсхолдер для объявлений без изображений

4. **Интеграция на главную страницу**
   - Обновлен файл `/src/app/[locale]/page.tsx`
   - Получение данных при загрузке страницы (SSR)
   - Обработка ошибок с выводом сообщения
   - Адаптивная сетка для карточек (1-4 колонки)
   - Кнопка "Загрузить еще" (без функционала)

5. **Добавление переводов**
   - Обновлены файлы локализации:
     - `/src/messages/en.json`
     - `/src/messages/ru.json`
   - Добавлены ключи: marketplace, errorLoadingData, noItems, loadMore

## Результат
- Главная страница успешно отображает объявления из API
- Поддержка интернационализации
- Адаптивный дизайн с использованием daisyUI
- Код прошел проверки `yarn lint` и `yarn build`

## Дополнительные изменения (30.05.2025)

### Настройка MinIO для изображений
- Обновлен `next.config.ts` для поддержки MinIO:
  - Локально: http://localhost:9000
  - Production: https://svetu.rs
- Обновлена логика формирования URL изображений в `MarketplaceCard.tsx`
- Добавлена поддержка переменной окружения `NEXT_PUBLIC_MINIO_URL`

## Статус: Завершено