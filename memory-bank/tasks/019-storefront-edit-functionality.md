# –ó–∞–¥–∞—á–∞ 019: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏—Ç—Ä–∏–Ω

**–î–∞—Ç–∞**: 22.07.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π  
**–¢–∏–ø**: Feature Implementation

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤–∏—Ç—Ä–∏–Ω:
1. –ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–ª–∞, –Ω–æ –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è - –Ω–µ—Ç
2. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –ø–µ—Ä–µ–≤–æ–¥—ã
3. –ë–∞–Ω–Ω–µ—Ä –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –≤—ã–±–æ—Ä–æ–º —Ñ–∞–π–ª–æ–≤

## üéØ –†–µ—à–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤—ã–∑—ã–≤–∞–ª–∏ –æ—à–∏–±–∫–∏ IntlError
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `/frontend/svetu/src/messages/ru.json`:
  ```json
  "editStorefront": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ç—Ä–∏–Ω—É",
  "media": "–ú–µ–¥–∏–∞", 
  "payment": "–û–ø–ª–∞—Ç–∞",
  "logoRemoved": "–õ–æ–≥–æ—Ç–∏–ø —É–¥–∞–ª–µ–Ω",
  "bannerRemoved": "–ë–∞–Ω–Ω–µ—Ä —É–¥–∞–ª–µ–Ω",
  // ... –∏ –¥—Ä—É–≥–∏–µ
  ```

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ—á–∏—â–∞–ª–∏ –ø—Ä–µ–≤—å—é, –Ω–æ –Ω–µ —É–¥–∞–ª—è–ª–∏ –∏–∑ –ë–î
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–∏–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è:
  ```typescript
  onClick={async () => {
    if (currentStorefront.logo_url) {
      const updates: StorefrontUpdateDTO = {
        logo_url: "",
      };
      await dispatch(updateStorefront({
        id: currentStorefront.id!,
        data: updates,
      })).unwrap();
      toast.success(t('storefronts.logoRemoved'));
      dispatch(fetchStorefrontBySlug(slug));
    }
    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–≤—å—é –∏ input
    setLogoPreview(null);
    const input = document.getElementById('logo-upload') as HTMLInputElement;
    if (input) input.value = '';
  }}
  ```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–∫–µ—Ç–∞
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–∞–Ω–Ω–µ—Ä –∏–º–µ–ª –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –≤—ã—Å–æ—Ç—É –∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª –∫–Ω–æ–ø–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å `max-h-48` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### 4. UX —É–ª—É—á—à–µ–Ω–∏—è
- –°–±—Ä–æ—Å input –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π (`e.target.value = ''`)
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

#### Frontend
1. **`/frontend/svetu/src/app/[locale]/storefronts/[slug]/edit/page.tsx`**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –±–∞–Ω–Ω–µ—Ä–∞
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **`/frontend/svetu/src/messages/ru.json`**
   - –î–æ–±–∞–≤–ª–µ–Ω–æ 15+ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤
   - –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Backend API
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints:
- `PUT /api/v1/storefronts/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `POST /api/v1/storefronts/{id}/logo` - –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
- `POST /api/v1/storefronts/{id}/banner` - –∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–Ω–Ω–µ—Ä–∞

### –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ `""` –≤ –ø–æ–ª—è `logo_url`/`banner_url`
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: FormData —Å —Ñ–∞–π–ª–æ–º —á–µ—Ä–µ–∑ multipart/form-data
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: MinIO storage —Å –ø—É—Ç—è–º–∏ `/listings/storefronts/{id}/logo/` –∏ `/listings/storefronts/{id}/banner/`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
1. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ - —É—Å–ø–µ—à–Ω–æ (–≤–∏–¥–∏–º –≤ –ª–æ–≥–∞—Ö backend)
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–Ω–Ω–µ—Ä–∞ - —É—Å–ø–µ—à–Ω–æ  
3. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ - —É—Å–ø–µ—à–Ω–æ (PUT –∑–∞–ø—Ä–æ—Å —Å `{"logo_url":""}`)
4. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞ - —É—Å–ø–µ—à–Ω–æ (PUT –∑–∞–ø—Ä–æ—Å —Å `{"banner_url":""}`)
5. ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã - –≤—Å–µ –æ—à–∏–±–∫–∏ IntlError –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
6. ‚úÖ –ú–∞–∫–µ—Ç - –±–∞–Ω–Ω–µ—Ä –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏
7. ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### Backend –ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —Ä–∞–±–æ—Ç—É:
```
[11:33PM] INF Uploading file to MinIO contentType=image/jpeg size=448502
[11:33PM] INF File successfully uploaded to MinIO filePath=/listings/storefronts/1/logo/...
[11:33PM] INF RESPONSE status=200 method=POST path=/api/v1/storefronts/1/logo
[11:33PM] INF REQUEST BODY body="{\"logo_url\":\"\"}" method=PUT path=/api/v1/storefronts/1
[11:33PM] INF RESPONSE status=200 method=PUT path=/api/v1/storefronts/1
```

## üé® UX —É–ª—É—á—à–µ–Ω–∏—è

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –û—à–∏–±–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚ùå –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞
- ‚ùå –ë–∞–Ω–Ω–µ—Ä –∑–∞–∫—Ä—ã–≤–∞–ª –∫–Ω–æ–ø–∫–∏
- ‚ùå –ù–µ–ª—å–∑—è –±—ã–ª–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ß–∏—Å—Ç–∞—è –∫–æ–Ω—Å–æ–ª—å –±–µ–∑ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–∞–∫–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–π
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. **STOREFRONTS_STATUS.md** - –æ–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
2. **STOREFRONT_EDIT_FUNCTIONALITY.md** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ó–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏—Ç—Ä–∏–Ω `http://localhost:3001/ru/storefronts/agenstvo/edit` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤–∏—Ç—Ä–∏–Ω—ã.

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~2 —á–∞—Å–∞  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è  
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤**: 3 (2 frontend + 1 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

–í—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.