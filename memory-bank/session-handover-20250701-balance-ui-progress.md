# Session Handover - 2025-07-01 - Balance UI Progress

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏

### 1. ‚úÖ –ò–∑—É—á–µ–Ω–∞ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª**: `/memory-bank/FINANCIAL_SYSTEM_COMPLETE_PLAN.md`
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- –ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è marketplace –∏ –≤–∏—Ç—Ä–∏–Ω
- –≠—Å–∫—Ä–æ—É —Å–∏—Å—Ç–µ–º–∞ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ —Å—Ä–æ–∫–∞–º–∏ (3-30 –¥–Ω–µ–π)
- –ü—Ä–æ—Ü–µ—Å—Å—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AllSecure –∏ Stripe

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–∞–ª–∞–Ω—Å–∞
**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `/frontend/svetu/src/services/balance.ts` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –±–∞–ª–∞–Ω—Å–∞
- `/frontend/svetu/src/hooks/useBalance.ts` - —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–∞–ª–∞–Ω—Å–∞
- `/frontend/svetu/src/components/balance/BalanceWidget.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ —Å —É—á—ë—Ç–æ–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∞–ª—é—Ç (RSD/EUR/USD)
- –ö–Ω–æ–ø–∫–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (EN/RU)

### 3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
- –û–±–Ω–æ–≤–ª—ë–Ω `/frontend/svetu/src/app/[locale]/profile/page.tsx`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `en.json` –∏ `ru.json`
- –°–µ–∫—Ü–∏—è "–ú–æ–π –±–∞–ª–∞–Ω—Å" –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 4. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –æ–±—â–∏–π –ø–ª–∞–Ω
- –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω `/memory-bank/current-task.md`
- –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ API –∫–ª–∏–µ–Ω—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: –í `balance.ts` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç
```javascript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
import { apiClient } from '@/services/api';

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
import { apiClient } from '@/services/api-client';
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
- Frontend —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ screen —Å–µ—Å—Å–∏–∏ `frontend-3001`
- Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞

## üéØ –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/balance/deposit`
2. –§–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ —Å—É–º–º—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AllSecure Mock —Å–∏—Å—Ç–µ–º–æ–π
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

## üìä –ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ Backend API (–≥–æ—Ç–æ–≤–æ):
```bash
GET /api/v1/balance                 # –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/v1/balance/deposit        # –°–æ–∑–¥–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç
GET /api/v1/balance/transactions    # –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```

### ‚úÖ AllSecure Mock —Å–∏—Å—Ç–µ–º–∞:
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Mock endpoints –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞

### ‚úÖ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- BalanceWidget - –≥–æ—Ç–æ–≤
- balanceService - –≥–æ—Ç–æ–≤  
- useBalance hook - –≥–æ—Ç–æ–≤
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è - –≥–æ—Ç–æ–≤–∞

## üîó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å—É–º–º—É ‚Üí 
2. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ AllSecure ‚Üí 
3. Webhook –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å ‚Üí
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:
**Marketplace –æ–±—ä—è–≤–ª–µ–Ω–∏—è**:
- –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å: 1% (–º–∏–Ω. 50‚Ç¨, –º–∞–∫—Å. 500‚Ç¨)
- –ê–≤—Ç–æ–º–æ–±–∏–ª–∏: 2% (–º–∏–Ω. 20‚Ç¨, –º–∞–∫—Å. 200‚Ç¨)
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞: 5%
- –£—Å–ª—É–≥–∏: 10%

**–í–∏—Ç—Ä–∏–Ω—ã (storefronts)**:
- Starter: 0‚Ç¨/–º–µ—Å, 3% –∫–æ–º–∏—Å—Å–∏—è
- Professional: 10‚Ç¨/–º–µ—Å, 2% –∫–æ–º–∏—Å—Å–∏—è
- Business: 25‚Ç¨/–º–µ—Å, 1% –∫–æ–º–∏—Å—Å–∏—è
- Enterprise: 100‚Ç¨/–º–µ—Å, 0.5% –∫–æ–º–∏—Å—Å–∏—è

### –≠—Å–∫—Ä–æ—É –ø–µ—Ä–∏–æ–¥—ã:
- –ù–æ–≤—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã: 7 –¥–Ω–µ–π
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ: 5 –¥–Ω–µ–π
- Gold –ø—Ä–æ–¥–∞–≤—Ü—ã: 3 –¥–Ω—è
- –í–∏—Ç—Ä–∏–Ω—ã: 3-7 –¥–Ω–µ–π
- –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å/–∞–≤—Ç–æ: –¥–æ 14 –¥–Ω–µ–π

## üöÄ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –§–∞–∑–∞ 1 - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç API** (‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±–∞–ª–∞–Ω—Å–∞**
3. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/balance/deposit`**
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AllSecure Widget**

### –§–∞–∑–∞ 2 - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
5. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π `/balance/history`
6. –§–æ—Ä–º–∞ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ `/balance/withdraw`
7. KYC –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è UI
8. –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**:
   ```bash
   cd /data/hostel-booking-system/frontend/svetu
   yarn format && yarn lint && yarn build
   ```

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ screen —Å–µ—Å—Å–∏–π
   screen -ls
   
   # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ frontend
   screen -r frontend-3001
   
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ frontend
   /home/dim/.local/bin/kill-port-3001.sh && /home/dim/.local/bin/start-frontend-screen.sh
   ```

3. **API —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –Ω—É–∂–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

## üîÑ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

- **Backend**: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000
- **Frontend**: –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –≥–æ—Ç–æ–≤–∞, API endpoints —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- **AllSecure Mock**: –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

**–°—Ç–∞—Ç—É—Å**: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª UI –±–∞–ª–∞–Ω—Å–∞ —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è.