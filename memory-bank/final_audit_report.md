# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –ø–æ –∞—É–¥–∏—Ç—É –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ Sve Tu Platform

## üìä –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

### –û–±—ä—ë–º –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ 50+ —Ç–∞–±–ª–∏—Ü, –≤–∫–ª—é—á–∞—è –∏–Ω–¥–µ–∫—Å—ã, —Ç—Ä–∏–≥–≥–µ—Ä—ã, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **Backend (Go)**: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ SQL-–∑–∞–ø—Ä–æ—Å—ã
- **Frontend (TypeScript)**: –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã API –∏ Redux state
- **OpenSearch**: –ò–∑—É—á–µ–Ω—ã –º–∞–ø–ø–∏–Ω–≥–∏ 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ (listings, users, storefronts)
- **MinIO**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ–±—ä–µ–∫—Ç–æ–≤

### –ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
–î–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `marketplace_listings` - –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞  
- `storefronts` - –≤–∏—Ç—Ä–∏–Ω—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- `storefront_orders` - –∑–∞–∫–∞–∑—ã
- `payment_transactions` - –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `marketplace_categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- `attribute_groups`, `category_attributes` - —Å–∏—Å—Ç–µ–º–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)
1. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –∞–¥—Ä–µ—Å–∞**
   - –í –ë–î: `address_city`, `address_country`
   - –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª–æ—è—Ö: `city`, `country`
   - **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –°—Ä–µ–¥–Ω–∏–µ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
2. **–í—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è**
   - –ü–æ–ª—è `average_rating`, `review_count`, `is_favorite` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ API –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ë–î
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π**
   - Frontend –¥–µ–ª–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ (`?`)
   - –í –ë–î –º–Ω–æ–≥–∏–µ –ø–æ–ª—è `NOT NULL`
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–∏–ø–∞—Ö

4. **Metadata –≤ OpenSearch**
   - JSONB –ø–æ–ª–µ `metadata` –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è –ø–æ–∏—Å–∫–∞

### –ù–∏–∑–∫–∏–µ
5. **–ß–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã**
   - PostgreSQL `numeric` vs Go `float64`
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å decimal –±–∏–±–ª–∏–æ—Ç–µ–∫—É

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- Migration 000093_fix_marketplace_listings_field_names.up.sql
ALTER TABLE marketplace_listings RENAME COLUMN address_city TO city;
ALTER TABLE marketplace_listings RENAME COLUMN address_country TO country;
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Backend –∫–æ–¥–∞
–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:
- `backend/internal/proj/marketplace/storage/postgres/marketplace.go`
- `backend/internal/proj/marketplace/service/map.go`

–ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è `address_city` ‚Üí `city` –∏ `address_country` ‚Üí `country`

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã –≤ `memory-bank/system-passports/`:
- `field-naming-conventions.md` - —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏
- `field-mapping-matrix.md` - –º–∞—Ç—Ä–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª–µ–π

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Backend
```
ok  backend/internal/pkg/allsecure         (cached)
ok  backend/internal/proj/marketplace/service      0.009s
ok  backend/internal/proj/marketplace/storage/postgres     0.013s
```
‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### Frontend
- 4 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- 2 —Ç–µ—Å—Ç–∞ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –ø–æ–ª–µ–π (mock payment service)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–æ–≤–ª–∏—è–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å pre-commit —Ö—É–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä—ã –¥–ª—è SQL, Go, TypeScript

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –ø–æ–ª–µ–π
- –£–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–µ–π –Ω–µ —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –≤ –ë–î

### 3. –¢–∏–ø–∏–∑–∞—Ü–∏—è
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –º–µ–∂–¥—É –ë–î –∏ TypeScript
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é JSONB –ø–æ–ª–µ–π –≤ OpenSearch
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π –≤ –ë–î

### 5. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ decimal —Ç–∏–ø–æ–≤ –¥–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—É–º–º
- –•—Ä–∞–Ω–∏—Ç—å —Å—É–º–º—ã –≤ –∫–æ–ø–µ–π–∫–∞—Ö (integer) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫—É—é —Å—Ç–µ–ø–µ–Ω—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏:**

‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã** (`id`, `user_id`, `category_id`, `storefront_id`) –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã

‚úÖ **JSON API** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π snake_case —Ñ–æ—Ä–º–∞—Ç

‚úÖ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è** —É—Å–ø–µ—à–Ω–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

‚úÖ **–¢–µ—Å—Ç—ã** –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã** –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞.

---

*–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞: 08.01.2025*  
*–í–µ—Ä—Å–∏—è: 1.0*