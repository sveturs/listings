# üìã –ü–∞—Å–ø–æ—Ä—Ç Redis Configuration

## üè∑Ô∏è –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** In-memory –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ session storage (–ü–õ–ê–ù–ò–†–£–ï–¢–°–Ø)
- **–¢–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ / Cache & Session Store
- **–°—Ç–∞—Ç—É—Å:** –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø (–í –ü–õ–ê–ù–ê–•)
- **–í–µ—Ä—Å–∏—è:** Redis 7.x (–ø–ª–∞–Ω–∏—Ä—É–µ–º–∞—è)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** –°—Ä–µ–¥–Ω–∏–π

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Redis –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è API –æ—Ç–≤–µ—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏, rate limiting –∏ real-time —Ñ—É–Ω–∫—Ü–∏–π –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Sve Tu.

## ‚ùå –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### Redis –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- **–ö–æ–¥:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–º–ø–æ—Ä—Ç—ã Redis –≤ Go —Ñ–∞–π–ª–∞—Ö
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç Redis –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ `go.mod`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Docker:** –ù–µ—Ç —Å–µ—Ä–≤–∏—Å–∞ Redis –≤ compose —Ñ–∞–π–ª–∞—Ö
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –ù–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ production

### –¢–µ–∫—É—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ Redis

#### Session Management
```go\n// backend/internal/proj/auth/service/auth_service.go\ntype AuthService struct {\n    sessions     sync.Map  // In-memory —Å–µ—Å—Å–∏–∏ (–ù–ï —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ)\n    storage      storage.Storage\n    jwtSecret    string\n    jwtExpHours  int\n}\n\n// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ sync.Map\nfunc (s *AuthService) SaveSession(token string, data *SessionData) {\n    s.sessions.Store(token, data)\n}\n```\n\n**–ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**\n- –°–µ—Å—Å–∏–∏ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞\n- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ backend –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤\n- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç TTL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏\n- –ù–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏\n\n#### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ\n**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é:**\n- –ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –≤ PostgreSQL/OpenSearch\n- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã\n- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç cache invalidation —Å—Ç—Ä–∞—Ç–µ–≥–∏—è\n\n#### Rate Limiting\n**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:**\n- –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS –∞—Ç–∞–∫\n- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤\n- –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è —á–∞—Å—Ç–æ—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π\n\n## üéØ –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Redis\n\n### 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è\n\n#### Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n```yaml\n# –î–æ–±–∞–≤–∏—Ç—å –≤ docker-compose.yml\nservices:\n  redis:\n    image: redis:7-alpine\n    container_name: redis\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n    command: redis-server --appendonly yes --maxmemory 512mb --maxmemory-policy allkeys-lru\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 3\n    networks:\n      - hostel_network\n\n  # Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n  redis:\n    image: harbor.svetu.rs/svetu/cache/redis:7-alpine\n    volumes:\n      - /opt/hostel-data/redis:/data\n    environment:\n      - REDIS_PASSWORD=secure_redis_password\n    command: redis-server --requirepass secure_redis_password --appendonly yes\n\nvolumes:\n  redis_data:\n```\n\n#### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n```bash\n# Development\nREDIS_URL=redis://localhost:6379\nREDIS_PASSWORD=\nREDIS_DB=0\nREDIS_POOL_SIZE=10\nREDIS_TIMEOUT=5s\nREDIS_ENABLED=true\n\n# Production  \nREDIS_URL=redis://redis:6379\nREDIS_PASSWORD=secure_redis_password\nREDIS_DB=0\nREDIS_POOL_SIZE=20\nREDIS_TIMEOUT=3s\nREDIS_ENABLED=true\n```\n\n### 2. Go –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è\n\n#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ config.go\n```go\ntype RedisConfig struct {\n    URL      string        `env:\"REDIS_URL\" envDefault:\"redis://localhost:6379\"`\n    Password string        `env:\"REDIS_PASSWORD\"`\n    DB       int           `env:\"REDIS_DB\" envDefault:\"0\"`\n    PoolSize int           `env:\"REDIS_POOL_SIZE\" envDefault:\"10\"`\n    Timeout  time.Duration `env:\"REDIS_TIMEOUT\" envDefault:\"5s\"`\n    Enabled  bool          `env:\"REDIS_ENABLED\" envDefault:\"false\"`\n}\n\ntype Config struct {\n    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è\n    Redis RedisConfig\n}\n```\n\n#### Redis –∫–ª–∏–µ–Ω—Ç\n```go\n// backend/internal/storage/redis/client.go\npackage redis\n\nimport (\n    \"context\"\n    \"encoding/json\"\n    \"time\"\n    \"github.com/redis/go-redis/v9\"\n)\n\ntype Client struct {\n    rdb *redis.Client\n}\n\nfunc NewClient(config RedisConfig) (*Client, error) {\n    opt, err := redis.ParseURL(config.URL)\n    if err != nil {\n        return nil, err\n    }\n    \n    opt.Password = config.Password\n    opt.DB = config.DB\n    opt.PoolSize = config.PoolSize\n    opt.ReadTimeout = config.Timeout\n    opt.WriteTimeout = config.Timeout\n    \n    rdb := redis.NewClient(opt)\n    \n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n    ctx, cancel := context.WithTimeout(context.Background(), config.Timeout)\n    defer cancel()\n    \n    if err := rdb.Ping(ctx).Err(); err != nil {\n        return nil, fmt.Errorf(\"redis connection failed: %w\", err)\n    }\n    \n    return &Client{rdb: rdb}, nil\n}\n\nfunc (c *Client) Set(ctx context.Context, key string, value interface{}, expiry time.Duration) error {\n    data, err := json.Marshal(value)\n    if err != nil {\n        return err\n    }\n    return c.rdb.Set(ctx, key, data, expiry).Err()\n}\n\nfunc (c *Client) Get(ctx context.Context, key string, dest interface{}) error {\n    data, err := c.rdb.Get(ctx, key).Result()\n    if err != nil {\n        if err == redis.Nil {\n            return fmt.Errorf(\"key not found: %s\", key)\n        }\n        return err\n    }\n    return json.Unmarshal([]byte(data), dest)\n}\n\nfunc (c *Client) Delete(ctx context.Context, key string) error {\n    return c.rdb.Del(ctx, key).Err()\n}\n\nfunc (c *Client) Exists(ctx context.Context, key string) (bool, error) {\n    count, err := c.rdb.Exists(ctx, key).Result()\n    return count > 0, err\n}\n```\n\n### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏\n```bash\n# –î–æ–±–∞–≤–∏—Ç—å –≤ go.mod\ngo get github.com/redis/go-redis/v9\n```\n\n## üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\n\n### 1. Session Storage (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)\n\n#### –ó–∞–º–µ–Ω–∞ sync.Map –Ω–∞ Redis\n```go\n// backend/internal/proj/auth/storage/redis_session.go\ntype RedisSessionStore struct {\n    client *redis.Client\n    prefix string\n    ttl    time.Duration\n}\n\nfunc NewRedisSessionStore(client *redis.Client) *RedisSessionStore {\n    return &RedisSessionStore{\n        client: client,\n        prefix: \"session:\",\n        ttl:    24 * time.Hour,\n    }\n}\n\nfunc (r *RedisSessionStore) SaveSession(ctx context.Context, token string, data *SessionData) error {\n    key := r.prefix + token\n    return r.client.Set(ctx, key, data, r.ttl).Err()\n}\n\nfunc (r *RedisSessionStore) GetSession(ctx context.Context, token string) (*SessionData, error) {\n    key := r.prefix + token\n    var data SessionData\n    err := r.client.Get(ctx, key, &data)\n    return &data, err\n}\n\nfunc (r *RedisSessionStore) DeleteSession(ctx context.Context, token string) error {\n    key := r.prefix + token\n    return r.client.Delete(ctx, key)\n}\n\nfunc (r *RedisSessionStore) RefreshSession(ctx context.Context, token string) error {\n    key := r.prefix + token\n    return r.client.Expire(ctx, key, r.ttl).Err()\n}\n```\n\n#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ AuthService\n```go\ntype AuthService struct {\n    // sessions     sync.Map  // –£–î–ê–õ–ò–¢–¨\n    sessionStore SessionStore  // –î–û–ë–ê–í–ò–¢–¨ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\n    storage      storage.Storage\n    jwtSecret    string\n    jwtExpHours  int\n}\n\ntype SessionStore interface {\n    SaveSession(ctx context.Context, token string, data *SessionData) error\n    GetSession(ctx context.Context, token string) (*SessionData, error)\n    DeleteSession(ctx context.Context, token string) error\n    RefreshSession(ctx context.Context, token string) error\n}\n```\n\n### 2. API Response Caching (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)\n\n#### Cache middleware\n```go\n// backend/internal/middleware/cache.go\ntype CacheMiddleware struct {\n    client *redis.Client\n    ttl    time.Duration\n}\n\nfunc (c *CacheMiddleware) Handler() fiber.Handler {\n    return func(ctx *fiber.Ctx) error {\n        // –¢–æ–ª—å–∫–æ GET –∑–∞–ø—Ä–æ—Å—ã\n        if ctx.Method() != \"GET\" {\n            return ctx.Next()\n        }\n        \n        cacheKey := \"api:\" + ctx.OriginalURL()\n        \n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à\n        cached, err := c.client.Get(ctx.Context(), cacheKey)\n        if err == nil {\n            return ctx.JSON(cached)\n        }\n        \n        // –í—ã–ø–æ–ª–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å\n        if err := ctx.Next(); err != nil {\n            return err\n        }\n        \n        // –ö–µ—à–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç\n        if ctx.Response().StatusCode() == 200 {\n            c.client.Set(ctx.Context(), cacheKey, ctx.Response().Body(), c.ttl)\n        }\n        \n        return nil\n    }\n}\n```\n\n#### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n```go\n// backend/internal/proj/marketplace/storage/cached_search.go\ntype CachedSearchRepository struct {\n    opensearch OpenSearchRepository\n    cache      *redis.Client\n    ttl        time.Duration\n}\n\nfunc (c *CachedSearchRepository) SearchListings(ctx context.Context, params SearchParams) (*SearchResult, error) {\n    // –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –∫–µ—à–∞ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞\n    cacheKey := fmt.Sprintf(\"search:%s\", hashSearchParams(params))\n    \n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à\n    var result SearchResult\n    err := c.cache.Get(ctx, cacheKey, &result)\n    if err == nil {\n        return &result, nil\n    }\n    \n    // –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫ –≤ OpenSearch\n    result, err := c.opensearch.SearchListings(ctx, params)\n    if err != nil {\n        return nil, err\n    }\n    \n    // –ö–µ—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n    c.cache.Set(ctx, cacheKey, result, c.ttl)\n    \n    return result, nil\n}\n```\n\n### 3. Rate Limiting (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)\n\n#### Rate limiter middleware\n```go\n// backend/internal/middleware/rate_limit.go\ntype RateLimiter struct {\n    client *redis.Client\n    limit  int           // –ó–∞–ø—Ä–æ—Å–æ–≤\n    window time.Duration // –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ\n}\n\nfunc (r *RateLimiter) Handler() fiber.Handler {\n    return func(ctx *fiber.Ctx) error {\n        userIP := ctx.IP()\n        key := fmt.Sprintf(\"rate_limit:%s\", userIP)\n        \n        // –ò—Å–ø–æ–ª—å–∑—É–µ–º Redis sliding window\n        count, err := r.client.Incr(ctx.Context(), key).Result()\n        if err != nil {\n            return err\n        }\n        \n        if count == 1 {\n            r.client.Expire(ctx.Context(), key, r.window)\n        }\n        \n        if count > int64(r.limit) {\n            return ctx.Status(429).JSON(fiber.Map{\n                \"error\": \"rate limit exceeded\",\n            })\n        }\n        \n        return ctx.Next()\n    }\n}\n```\n\n### 4. Real-time Features (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)\n\n#### Pub/Sub –¥–ª—è WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\n```go\n// backend/internal/realtime/pubsub.go\ntype PubSubManager struct {\n    client *redis.Client\n}\n\nfunc (p *PubSubManager) PublishNotification(ctx context.Context, userID int, notification Notification) error {\n    channel := fmt.Sprintf(\"user:%d:notifications\", userID)\n    data, _ := json.Marshal(notification)\n    return p.client.Publish(ctx, channel, data).Err()\n}\n\nfunc (p *PubSubManager) SubscribeToUser(ctx context.Context, userID int) <-chan *redis.Message {\n    channel := fmt.Sprintf(\"user:%d:notifications\", userID)\n    pubsub := p.client.Subscribe(ctx, channel)\n    return pubsub.Channel()\n}\n```\n\n## üöÄ –ü–ª–∞–Ω –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è\n\n### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1 –Ω–µ–¥–µ–ª—è)\n1. **–î–æ–±–∞–≤–∏—Ç—å Redis –≤ docker-compose.yml**\n2. **–°–æ–∑–¥–∞—Ç—å Redis –∫–ª–∏–µ–Ω—Ç –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**\n3. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**\n4. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å healthcheck**\n\n### –§–∞–∑–∞ 2: Session Management (1 –Ω–µ–¥–µ–ª—è)\n1. **–°–æ–∑–¥–∞—Ç—å RedisSessionStore –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**\n2. **–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AuthService —Å sync.Map –Ω–∞ Redis**\n3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π —Å TTL**\n4. **Graceful fallback –Ω–∞ JWT –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis**\n\n### –§–∞–∑–∞ 3: API Caching (2 –Ω–µ–¥–µ–ª–∏)\n1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å cache middleware**\n2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ OpenSearch**\n3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π**\n4. **Cache invalidation —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**\n\n### –§–∞–∑–∞ 4: Rate Limiting (1 –Ω–µ–¥–µ–ª—è)\n1. **Rate limiter middleware**\n2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoints**\n3. **Whitelist –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö IP**\n4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ rate limiting**\n\n### –§–∞–∑–∞ 5: Real-time Features (2 –Ω–µ–¥–µ–ª–∏)\n1. **Pub/Sub –¥–ª—è WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**\n2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤**\n3. **–°—á–µ—Ç—á–∏–∫–∏ –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**\n4. **Distributed locks –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**\n\n## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\n\n### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è Redis\n- **Session lookup:** O(1) –≤ sync.Map, –Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ\n- **API response time:** 50-200ms (–∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤ DB)\n- **Search latency:** 100-500ms (–∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤ OpenSearch)\n- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ–¥–Ω–∏–º backend –∏–Ω—Å—Ç–∞–Ω—Å–æ–º\n\n### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è Redis\n- **Session lookup:** O(1) –≤ Redis —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º\n- **API response time:** 5-20ms (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)\n- **Search latency:** 10-50ms (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)\n- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ backend –∏–Ω—Å—Ç–∞–Ω—Å—ã\n\n### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞\n```go\ntype RedisMetrics struct {\n    CacheHitRate    float64 // –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π –≤ –∫–µ—à\n    CacheMissRate   float64 // –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ–º–∞—Ö–æ–≤\n    AvgResponseTime time.Duration\n    MemoryUsage     int64\n    ConnectionCount int\n    ErrorRate       float64\n}\n```\n\n## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥\n\n### Development\n```yaml\nredis:\n  image: redis:7-alpine\n  ports:\n    - \"6379:6379\"\n  command: redis-server --maxmemory 128mb\n```\n\n### Production\n```yaml\nredis:\n  image: harbor.svetu.rs/svetu/cache/redis:7-alpine\n  environment:\n    - REDIS_PASSWORD=secure_password\n  volumes:\n    - /opt/hostel-data/redis:/data\n  command: redis-server --requirepass secure_password --maxmemory 2gb --maxmemory-policy allkeys-lru\n  deploy:\n    resources:\n      limits:\n        memory: 2.5G\n      reservations:\n        memory: 2G\n```\n\n### –ö–ª–∞—Å—Ç–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±—É–¥—É—â–µ–µ)\n```yaml\nredis-cluster:\n  image: redis:7-alpine\n  command: redis-server --cluster-enabled yes --cluster-config-file nodes.conf\n  deploy:\n    replicas: 6\n```\n\n## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Redis\n\n### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n```bash\n# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è\nREQUIREPASS secure_redis_password\n\n# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥\nRENAME-COMMAND FLUSHDB \"\"\nRENAME-COMMAND FLUSHALL \"\"\nRENAME-COMMAND KEYS \"\"\nRENAME-COMMAND CONFIG \"CONFIG_b9f8c5a7\"\n\n# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–µ—Ç–∏\nBIND 127.0.0.1 ::1\nPROTECTED-MODE yes\n\n# –õ–∏–º–∏—Ç—ã\nMAXCLIENTS 10000\nTIMEOUT 300\n```\n\n### SSL/TLS (Production)\n```bash\n# TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\nTLS-PORT 6380\nTLS-CERT-FILE /tls/redis.crt\nTLS-KEY-FILE /tls/redis.key\nTLS-CA-CERT-FILE /tls/ca.crt\n```\n\n---\n**–ü–∞—Å–ø–æ—Ä—Ç —Å–æ–∑–¥–∞–Ω:** 2025-06-29  \n**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** Redis Configuration  \n**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é  \n**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π