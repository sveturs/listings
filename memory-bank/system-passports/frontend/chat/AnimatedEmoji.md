# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: AnimatedEmoji

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/frontend/svetu/src/components/Chat/AnimatedEmoji.tsx`
- **–†–æ–ª—å**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏
- **–¢–∏–ø**: Client Component
- **–†–∞–∑–º–µ—Ä**: 125 —Å—Ç—Ä–æ–∫

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —ç–º–æ–¥–∑–∏ –∏—Å–ø–æ–ª—å–∑—É—è:
- Lottie –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç Google Noto Animated Emoji
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
- Fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π —ç–º–æ–¥–∑–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Props
```typescript
interface AnimatedEmojiProps {
  emoji: string;    // –≠–º–æ–¥–∑–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
  size?: number;    // –†–∞–∑–º–µ—Ä –≤ –ø–∏–∫—Å–µ–ª—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 96)
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `lottie-react` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Lottie –∞–Ω–∏–º–∞—Ü–∏–π
- React hooks: `useState`, `useEffect`

### API —Ä–µ—Å—É—Ä—Å—ã:
- Google Fonts CDN: `https://fonts.gstatic.com/s/e/notoemoji/latest/{unicode}/lottie.json`

## üß† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```typescript
const [animationData, setAnimationData] = useState<object | null>(null);  // –î–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
const [loading, setLoading] = useState(true);                            // –§–ª–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏
const [error, setError] = useState(false);                               // –§–ª–∞–≥ –æ—à–∏–±–∫–∏
```

### –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à:
```typescript
const animationCache: Record<string, object> = {};  // –ö—ç—à –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
```

## üíº –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### 1. –°–ª–æ–≤–∞—Ä—å –∞–Ω–∏–º–∞—Ü–∏–π:
- 31 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —ç–º–æ–¥–∑–∏
- –ú–∞–ø–ø–∏–Ω–≥ —ç–º–æ–¥–∑–∏ ‚Üí URL –∞–Ω–∏–º–∞—Ü–∏–∏
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è —ç–º–æ–¥–∑–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚ù§Ô∏è)

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback

### 3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. –°–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
- **–ó–∞–≥—Ä—É–∑–∫–∞**: –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π placeholder
- **–û—à–∏–±–∫–∞**: –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–º–æ–¥–∑–∏
- **–£—Å–ø–µ—Ö**: Lottie –∞–Ω–∏–º–∞—Ü–∏—è

## üé® UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏:
```html
<div className="inline-block animate-pulse bg-base-300 rounded-lg"
     style={{ width: size, height: size }} />
```

### Fallback (–æ—à–∏–±–∫–∞ –∏–ª–∏ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —ç–º–æ–¥–∑–∏):
```html
<span className="text-6xl leading-none inline-block"
      style={{ fontSize: size }}>
  {emoji}
</span>
```

### –ê–Ω–∏–º–∞—Ü–∏—è:
```html
<div className="inline-block" style={{ width: size, height: size }}>
  <Lottie animationData={animationData}
          loop={true}
          autoplay={true}
          style={{ width: '100%', height: '100%' }} />
</div>
```

## üîÑ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```tsx
// –í MessageItem –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö —ç–º–æ–¥–∑–∏
<AnimatedEmoji emoji="üòä" size={64} />

// –° –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
<AnimatedEmoji emoji="üéâ" size={128} />

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤ MessageItem
const AnimatedEmoji = dynamic(() => import('./AnimatedEmoji'), {
  ssr: false,
  loading: () => null,
});
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à**: –ù–µ –æ—á–∏—â–∞–µ—Ç—Å—è, –º–æ–∂–µ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –ø–∞–º—è—Ç—å

2. **SSR**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Next.js

3. **–°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–µ–≥–æ CDN

4. **–†–∞–∑–º–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–π**: JSON —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º–∏

5. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —ç–º–æ–¥–∑–∏**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω —Å–ø–∏—Å–∫–æ–º –∏–∑ 31 —ç–º–æ–¥–∑–∏

6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 
   - –ö–∞–∂–¥—ã–π —ç–º–æ–¥–∑–∏ - –æ—Ç–¥–µ–ª—å–Ω—ã–π Lottie —ç–∫–∑–µ–º–ø–ª—è—Ä
   - –ú–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ