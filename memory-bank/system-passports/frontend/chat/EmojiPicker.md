# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: EmojiPicker

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/frontend/svetu/src/components/Chat/EmojiPicker.tsx`
- **–†–æ–ª—å**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏ –¥–ª—è —á–∞—Ç–∞
- **–¢–∏–ø**: Client Component
- **–†–∞–∑–º–µ—Ä**: 729 —Å—Ç—Ä–æ–∫

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–∏–∫–µ—Ä —ç–º–æ–¥–∑–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π:
- 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —ç–º–æ–¥–∑–∏ + –≤—Å–µ —ç–º–æ–¥–∑–∏ + –Ω–µ–¥–∞–≤–Ω–∏–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏ –≤ localStorage
- –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å blur —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Props
```typescript
interface EmojiPickerProps {
  onSelect: (emoji: string) => void;  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∑–∏
  onClose: () => void;               // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `next-intl` - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- React hooks: `useState`, `useEffect`, `useRef`

### Browser APIs:
- `localStorage` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–¥–∞–≤–Ω–∏—Ö —ç–º–æ–¥–∑–∏
- `mousedown` event - –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ

## üß† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```typescript
const [selectedCategory, setSelectedCategory] = useState<keyof typeof EMOJI_CATEGORIES>('all');
const [recentEmojis, setRecentEmojis] = useState<string[]>([]);
const pickerRef = useRef<HTMLDivElement>(null);
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —ç–º–æ–¥–∑–∏:
- `all` - –≤—Å–µ —ç–º–æ–¥–∑–∏ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è)
- `recent` - –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ (–∏–∑ localStorage)
- `smileys` - —Å–º–∞–π–ª–∏–∫–∏ –∏ —ç–º–æ—Ü–∏–∏ (115 —ç–º–æ–¥–∑–∏)
- `gestures` - –∂–µ—Å—Ç—ã —Ä—É–∫–∞–º–∏ (33 —ç–º–æ–¥–∑–∏)
- `hearts` - —Å–µ—Ä–¥—Ü–∞ –∏ –ª—é–±–æ–≤—å (18 —ç–º–æ–¥–∑–∏)
- `animals` - –∂–∏–≤–æ—Ç–Ω—ã–µ (143 —ç–º–æ–¥–∑–∏)
- `food` - –µ–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏ (108 —ç–º–æ–¥–∑–∏)
- `objects` - –æ–±—ä–µ–∫—Ç—ã –∏ –≤–µ—â–∏ (203 —ç–º–æ–¥–∑–∏)

## üíº –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:
- –ú–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —ç–º–æ–¥–∑–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π —Å–ø–∏—Å–æ–∫
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ `categoryIcons`

### 2. –ò—Å—Ç–æ—Ä–∏—è —ç–º–æ–¥–∑–∏:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —ç–º–æ–¥–∑–∏
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ `localStorage` –ø–æ–¥ –∫–ª—é—á–æ–º 'recentEmojis'
- –ù–æ–≤—ã–µ —ç–º–æ–¥–∑–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
- –î—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è

### 3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:
- –ö–ª–∏–∫ –ø–æ —ç–º–æ–¥–∑–∏ –≤—ã–∑—ã–≤–∞–µ—Ç onSelect –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é
- –ö–ª–∏–∫ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç onClose
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

## üé® UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
- –†–∞–∑–º–µ—Ä: w-80 sm:w-96
- –§–æ–Ω: –±–µ–ª—ã–π —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é –∏ blur —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- –ì—Ä–∞–Ω–∏—Ü–∞ –∏ —Ç–µ–Ω—å –¥–ª—è –≥–ª—É–±–∏–Ω—ã
- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ: rounded-2xl

### –ü–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –±–µ–∑ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
- –ö–Ω–æ–ø–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏ —ç–º–æ–¥–∑–∏
- –ê–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: —Å–∏–Ω–∏–π —Ñ–æ–Ω —Å —Ç–µ–Ω—å—é
- Hover: —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω

### –°–µ—Ç–∫–∞ —ç–º–æ–¥–∑–∏:
- 6 –∫–æ–ª–æ–Ω–æ–∫ (grid-cols-6)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ 56 (max-h-56)
- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Å —Ç–æ–Ω–∫–æ–π –ø–æ–ª–æ—Å–æ–π
- –ö–Ω–æ–ø–∫–∏: aspect-square —Å hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

### –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –Ω–µ—Ç —ç–º–æ–¥–∑–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –≠–º–æ–¥–∑–∏ üòÖ –∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π glassmorphism –¥–∏–∑–∞–π–Ω
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã (duration-150/200)
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ hover (scale-110)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–æ–≤

## üîÑ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```tsx
// –í MessageInput
const [showEmojiPicker, setShowEmojiPicker] = useState(false);

{showEmojiPicker && (
  <div className="absolute bottom-full mb-2 right-0 z-[9999]">
    <EmojiPicker
      onSelect={(emoji) => {
        setMessage(prev => prev + emoji);
        setShowEmojiPicker(false);
      }}
      onClose={() => setShowEmojiPicker(false)}
    />
  </div>
)}
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä**: 620+ —ç–º–æ–¥–∑–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É

2. **localStorage**: –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

3. **–î—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `${emoji}-${index}` –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

4. **–°–∫—Ä–æ–ª–ª–±–∞—Ä—ã**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

5. **z-index**: –¢—Ä–µ–±—É–µ—Ç –≤—ã—Å–æ–∫–∏–π z-index (9999) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 
   - –†–µ–Ω–¥–µ—Ä–∏—Ç –≤—Å–µ —ç–º–æ–¥–∑–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ä–∞–∑—É
   - –ù–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
   - –ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª—è—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö