# BasicInfoStep.tsx

## Метаданные
- **Путь**: `frontend/svetu/src/components/create-listing/steps/BasicInfoStep.tsx`
- **Роль**: UI компонент формы
- **Тип**: Step компонент мастера создания объявления
- **Размер**: 399 строк

## Назначение
Первый шаг мастера создания объявления. Собирает базовую информацию: название, описание, цену, валюту, состояние товара и скрипт локализации (кириллица/латиница).

## Props структура
```typescript
interface BasicInfoStepProps {
  onNext: () => void;   // Переход к следующему шагу
  onBack: () => void;   // Возврат к предыдущему шагу
}
```

## Зависимости
### Внешние зависимости
- `react` - состояние и эффекты
- `next-intl` - интернационализация

### Внутренние зависимости
- `@/contexts/CreateListingContext` - общий контекст создания объявления
- DaisyUI классы для стилизации

## Управление состоянием
### Локальное состояние
```typescript
const [formData, setFormData] = useState({
  title: string,           // Название объявления (до 80 символов)
  description: string,     // Описание (до 1000 символов)
  price: number,          // Цена товара
  currency: string,       // Код валюты (RSD, EUR, HRK, MKD)
  condition: string,      // Состояние: new/used/refurbished
});

const [scriptMode, setScriptMode] = useState<'cyrillic' | 'latin' | 'mixed'>();
```

### Интеграция с контекстом
- При изменении формы автоматически обновляет глобальный контекст
- Синхронизирует данные между шагами мастера
- Сохраняет прогресс при навигации между шагами

## Бизнес-логика
### Валидация формы
```typescript
const canProceed = 
  formData.title.trim() && 
  formData.description.trim() && 
  formData.price > 0;
```

### Локализация и скрипты
- **Кириллица**: автоматическое преобразование латинских символов
- **Латиница**: стандартный ввод без преобразования
- **Смешанный режим**: пользователь сам выбирает скрипт

### Конвертация кириллицы
- Встроенная карта преобразования латинских символов в кириллические
- Поддержка специальных символов: ђ, ж, љ, њ, ћ, ч, џ, ш
- Автоматическое преобразование при переключении в кириллицу

### Региональные валюты
- **Популярные**: RSD (Српски динар), EUR (Евро)
- **Дополнительные**: HRK (Хрватска куна), MKD (Македонски денар)
- Группировка в select по популярности

## UI структура
### Главная форма
- **Card layout** с тенью для визуального выделения
- **Grid responsive** для цены и валюты
- **Character counters** для всех текстовых полей

### Поля формы
1. **Переключатель скрипта** - кнопки-табы
2. **Название** - input с placeholder на выбранном скрипте
3. **Описание** - textarea с адаптивным placeholder
4. **Цена/Валюта** - числовое поле + select с группировкой
5. **Состояние товара** - radio cards с иконками

### Интерактивные элементы
- **Радио-карточки** для выбора состояния товара
- **Популярные варианты** выделены badges
- **Визуальная обратная связь** при выборе опций
- **Региональные подсказки** в alert-блоке

## Примеры использования
```tsx
// В родительском мастере
<BasicInfoStep
  onNext={() => setCurrentStep(1)}
  onBack={() => setCurrentStep(-1)}
/>

// С контекстом CreateListing
const { state, setBasicInfo } = useCreateListing();
// Автоматическая синхронизация данных
```

## Известные особенности
### Позитивные
- ✅ Полная интернационализация текстов
- ✅ Автоматическая конвертация скриптов
- ✅ Региональная адаптация валют
- ✅ Валидация в реальном времени
- ✅ Сохранение прогресса в контексте
- ✅ Адаптивный дизайн (mobile/desktop)

### Технический долг
- ⚠️ Hardcoded placeholder тексты вместо переводов
- ⚠️ Console.log оставлен в production коде (строка 28)
- ⚠️ Конвертер кириллицы может не покрывать все случаи
- ⚠️ Type assertion `as any` для валюты и состояния (строки 256, 299)

### Потенциальные улучшения
- Вынести конвертер кириллицы в утилиты
- Добавить debouncing для автосохранения
- Улучшить типизацию валют и состояний
- Добавить preview режим для длинных описаний
- Реализовать автокомплит для названий товаров