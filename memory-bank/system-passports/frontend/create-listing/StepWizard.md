# StepWizard.tsx

## Метаданные
- **Путь**: `frontend/svetu/src/components/create-listing/StepWizard.tsx`
- **Роль**: UI компонент навигации
- **Тип**: Презентационный компонент
- **Размер**: 140 строк

## Назначение
Компонент пошагового мастера создания объявления. Отображает прогресс-бар, список шагов с возможностью навигации и региональные подсказки для пользователя.

## Props структура
```typescript
interface Step {
  id: string;        // Уникальный идентификатор шага
  label: string;     // Ключ перевода для названия шага
}

interface StepWizardProps {
  steps: Step[];           // Массив шагов мастера
  currentStep: number;     // Индекс текущего шага (0-based)
  onStepClick: (step: number) => void; // Callback навигации по шагам
}
```

## Зависимости
### Внешние зависимости
- `next-intl` - интернационализация

### Внутренние зависимости
- DaisyUI классы для стилизации
- Tailwind CSS для адаптивности

## Управление состоянием
- **Нет локального состояния** - полностью контролируется parent компонентом
- Принимает текущий шаг и список шагов как props
- Уведомляет parent о смене шага через callback

## Бизнес-логика
### Навигация по шагам
- Пользователь может кликнуть только на завершенные шаги (index <= currentStep)
- Будущие шаги недоступны для клика (disabled)
- Завершенные шаги показывают галочку ✓

### Визуальные состояния
- **Завершенный шаг**: зеленый фон, галочка, интерактивный
- **Текущий шаг**: синий фон, номер шага, неинтерактивный  
- **Будущий шаг**: серый фон, номер шага, заблокированный

### Прогресс-бар
- Показывает общий прогресс: `(currentStep + 1) / steps.length * 100%`
- Плавная анимация при изменении шага (transition 300ms)

## UI структура
### Десктопная версия (sm:block)
- Горизонтальный список всех шагов
- Соединительные линии между шагами
- Номера/галочки в кружках
- Подписи под каждым шагом

### Мобильная версия (sm:hidden)
- Компактный вид только текущего шага
- Номер + название в rounded pill
- Без соединительных линий

### Общие элементы
- **Прогресс-бар** в верхней части (всегда видим)
- **Счетчик** "N / Total" справа от прогресс-бара
- **Региональные подсказки** внизу для некоторых шагов

## Примеры использования
```tsx
// Базовое использование
const steps = [
  { id: 'category', label: 'create_listing.steps.category' },
  { id: 'basic-info', label: 'create_listing.steps.basic_info' },
  { id: 'photos', label: 'create_listing.steps.photos' },
  // ...
];

<StepWizard
  steps={steps}
  currentStep={2}
  onStepClick={(stepIndex) => setCurrentStep(stepIndex)}
/>
```

## Известные особенности
### Позитивные
- ✅ Полная адаптивность (desktop/mobile)
- ✅ Accessibility: disabled состояния, роли кнопок
- ✅ Интернационализация всех текстов
- ✅ Плавные анимации переходов
- ✅ Региональные подсказки для UX

### Технический долг
- ⚠️ Hardcoded индексы шагов для подсказок (0, 2, 6)
- ⚠️ Стиль ширины линий вычисляется через style атрибут
- ⚠️ Эмодзи в подсказках (не через иконки)

### Потенциальные улучшения
- Вынести конфигурацию подсказок в props
- Использовать CSS переменные вместо inline стилей
- Добавить анимации появления подсказок
- Заменить эмодзи на иконки для консистентности