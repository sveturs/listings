# Паспорт компонента: BusinessHoursStep

## Метаданные
- **Путь**: `/frontend/svetu/src/components/storefronts/create/steps/BusinessHoursStep.tsx`
- **Роль**: Настройка рабочего времени витрины
- **Тип**: Компонент формы с интерактивными элементами
- **Размер**: 139 строк

## Назначение
Четвертый шаг мастера создания витрины. Позволяет настроить график работы магазина для каждого дня недели с возможностью указать выходные дни и время открытия/закрытия.

## Props
```typescript
interface BusinessHoursStepProps {
  onNext: () => void;  // Переход к следующему шагу
  onBack: () => void;  // Возврат к предыдущему шагу
}
```

## Зависимости
### Внешние
- `next-intl` - локализация

### Внутренние
- `@/contexts/CreateStorefrontContext` - контекст формы создания

## Управление состоянием
### Локальное состояние
- Нет локального состояния

### Контекст
- `formData.businessHours` - массив с часами работы для каждого дня
- `updateFormData` - обновление данных

## Бизнес-логика
1. **Структура данных часов работы**:
   ```typescript
   businessHours: Array<{
     dayOfWeek: number;    // 0-6 (воскресенье-суббота)
     isClosed: boolean;    // Выходной день
     openTime: string;     // Время открытия (HH:MM)
     closeTime: string;    // Время закрытия (HH:MM)
   }>
   ```

2. **Дни недели**:
   - Порядок: воскресенье (0) до субботы (6)
   - Локализованные названия через переводы

3. **Логика переключения**:
   - Toggle для открыто/закрыто
   - Поля времени скрываются для закрытых дней
   - Валидация времени не требуется (шаг опциональный)

4. **Информационное сообщение**:
   - Подсказка о возможности изменения графика позже

## UI структура
```
<div className="card"> // Карточка формы
  └── <div className="card-body">
      ├── <h2> // "Часы работы"
      ├── <p> // Подзаголовок
      ├── <div> // Список дней
      │   └── {businessHours.map()} // Для каждого дня
      │       ├── День недели (фиксированная ширина)
      │       ├── Toggle открыто/закрыто
      │       └── {!isClosed && // Если открыто
      │           ├── <input type="time"> // Время открытия
      │           ├── "-"
      │           └── <input type="time"> // Время закрытия
      │
      ├── <divider>
      ├── <alert> // Информационное сообщение
      └── <div className="card-actions"> // Кнопки
          ├── Назад (ghost)
          └── Далее (primary)
```

## Примеры использования
```typescript
// В мастере создания витрины
<BusinessHoursStep
  onNext={() => setCurrentStep(5)}
  onBack={() => setCurrentStep(3)}
/>

// Начальные данные в контексте
businessHours: [
  { dayOfWeek: 0, isClosed: true, openTime: '09:00', closeTime: '18:00' },
  { dayOfWeek: 1, isClosed: false, openTime: '09:00', closeTime: '18:00' },
  // ... для всех 7 дней
]
```

## Известные особенности
### Позитивные
- Интуитивный toggle для выходных дней
- Автоскрытие полей времени для закрытых дней
- Информационная подсказка об изменении позже
- Нет обязательной валидации

### Технический долг
- Нет проверки что время закрытия больше времени открытия
- Нет поддержки работы через полночь (например, 22:00-02:00)
- Нет быстрых действий (копировать на все дни)

### Возможные улучшения
- Добавить кнопку "Применить ко всем будням"
- Поддержка перерывов на обед
- Валидация логичности времени
- Поддержка специальных часов (праздники)
- Предустановленные шаблоны (9-5, круглосуточно)