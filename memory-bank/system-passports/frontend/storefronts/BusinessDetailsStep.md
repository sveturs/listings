# Паспорт компонента: BusinessDetailsStep

## Метаданные
- **Путь**: `/frontend/svetu/src/components/storefronts/create/steps/BusinessDetailsStep.tsx`
- **Роль**: Шаг ввода бизнес-деталей при создании витрины
- **Тип**: Компонент формы с валидацией
- **Размер**: 199 строк

## Назначение
Второй шаг мастера создания витрины. Собирает юридическую и контактную информацию о бизнесе: регистрационные номера, налоговые данные, контакты и веб-сайт.

## Props
```typescript
interface BusinessDetailsStepProps {
  onNext: () => void;  // Переход к следующему шагу
  onBack: () => void;  // Возврат к предыдущему шагу
}
```

## Зависимости
### Внешние
- `react` - хук состояния
- `next-intl` - локализация

### Внутренние
- `@/contexts/CreateStorefrontContext` - контекст формы создания

## Управление состоянием
### Локальное состояние
- `errors` - объект с ошибками валидации

### Контекст
- `formData` - данные всей формы
- `updateFormData` - обновление данных

## Бизнес-логика
1. **Поля формы**:
   - `registrationNumber` - Регистрационный номер компании
   - `taxNumber` - Налоговый номер
   - `vatNumber` - НДС номер
   - `phone` - Телефон (с валидацией)
   - `email` - Email (с валидацией)
   - `website` - Веб-сайт (с валидацией)

2. **Валидация**:
   - **Email**: стандартный формат email
   - **Телефон**: только цифры, пробелы, дефисы, плюс, скобки
   - **Веб-сайт**: должен начинаться с http:// или https://
   - Все поля опциональные

3. **Региональная специфика**:
   - Поддержка местных регистрационных номеров
   - Налоговые идентификаторы для Сербии/Балкан

## UI структура
```
<div className="card"> // Карточка формы
  └── <div className="card-body">
      ├── <h2> // Заголовок шага
      ├── <p> // Подзаголовок с пояснением
      ├── <div className="grid"> // Сетка 2 колонки
      │   ├── Регистрационный номер
      │   ├── Налоговый номер
      │   ├── НДС номер
      │   ├── Телефон (с ошибкой)
      │   ├── Email (с ошибкой)
      │   └── Веб-сайт (с ошибкой)
      │
      └── <div className="card-actions"> // Кнопки
          ├── Назад (ghost)
          └── Далее (primary)
```

## Примеры использования
```typescript
// В мастере создания витрины
<BusinessDetailsStep
  onNext={() => setCurrentStep(3)}
  onBack={() => setCurrentStep(1)}
/>
```

## Известные особенности
### Позитивные
- Все поля опциональные для гибкости
- Валидация только при наличии значений
- Адаптивная сетка (1 колонка на мобильных)
- Показ ошибок под полями

### Технический долг
- Нет маски ввода для телефона
- Простая валидация URL (можно улучшить)
- Нет автодополнения для налоговых номеров

### Возможные улучшения
- Добавить маски ввода для номеров
- Валидация налоговых номеров по алгоритмам страны
- Автозаполнение данных по регистрационному номеру
- Подсказки с примерами форматов
- Проверка уникальности регистрационных номеров