# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: AddressSearch

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/frontend/svetu/src/components/storefronts/Map/AddressSearch.tsx`
- **–†–æ–ª—å**: –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ —Å –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–¢–∏–ø**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –≤–Ω–µ—à–Ω–∏–º API
- **–†–∞–∑–º–µ—Ä**: 285 —Å—Ç—Ä–æ–∫

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ OpenStreetMap Nominatim API. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ debounce –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

## Props
```typescript
interface AddressSearchProps {
  onLocationSelect: (location: GeocodeResult) => void; // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∞–¥—Ä–µ—Å–∞
  placeholder?: string;                                // –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å...")
  className?: string;                                  // CSS –∫–ª–∞—Å—Å—ã
  showCurrentLocation?: boolean;                       // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)
  disabled?: boolean;                                  // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
}
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
### –í–Ω–µ—à–Ω–∏–µ
- `react` - —Ö—É–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ —Ä–µ—Ñ–æ–≤
- OpenStreetMap Nominatim API - –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Browser Geolocation API - —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ
- `@/types/storefront` - —Ç–∏–ø—ã GeocodeResult, AutocompleteItem

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `query` - —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
- `suggestions` - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- `isLoading` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- `isOpen` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è dropdown
- `selectedIndex` - –∏–Ω–¥–µ–∫—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)

### Refs
- `inputRef` - —Å—Å—ã–ª–∫–∞ –Ω–∞ input —ç–ª–µ–º–µ–Ω—Ç
- `dropdownRef` - —Å—Å—ã–ª–∫–∞ –Ω–∞ dropdown
- `debounceTimeout` - —Ç–∞–π–º–µ—Ä –¥–ª—è debounce

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
1. **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤**:
   - –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
   - Debounce 300–º—Å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –±–∞–ª–∫–∞–Ω—Å–∫–∏–º–∏ —Å—Ç—Ä–∞–Ω–∞–º–∏ (rs,ba,hr,me,mk,si)
   - –ú–∞–∫—Å–∏–º—É–º 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

2. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
   - –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —É –±—Ä–∞—É–∑–µ—Ä–∞
   - –û–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
   - –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å, —Ç–∞–π–º–∞—É—Ç 10 —Å–µ–∫—É–Ω–¥
   - –ö–µ—à –ø–æ–∑–∏—Ü–∏–∏ 5 –º–∏–Ω—É—Ç

3. **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**:
   - ArrowDown/Up - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–ø–∏—Å–∫—É
   - Enter - –≤—ã–±–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
   - Escape - –∑–∞–∫—Ä—ã—Ç–∏–µ dropdown

4. **–§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**:
   ```typescript
   GeocodeResult {
     address: string;      // –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å
     latitude: number;     // –®–∏—Ä–æ—Ç–∞
     longitude: number;    // –î–æ–ª–≥–æ—Ç–∞
     city?: string;        // –ì–æ—Ä–æ–¥
     country?: string;     // –°—Ç—Ä–∞–Ω–∞
     postalCode?: string;  // –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
   }
   ```

## UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
<div className="relative"> // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä
  ‚îú‚îÄ‚îÄ <div className="relative"> // Input wrapper
  ‚îÇ   ‚îú‚îÄ‚îÄ <input> // –ü–æ–ª–µ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
  ‚îÇ   ‚îî‚îÄ‚îÄ <div> // –ö–æ–Ω—Ç—Ä–æ–ª—ã —Å–ø—Ä–∞–≤–∞
  ‚îÇ       ‚îú‚îÄ‚îÄ {isLoading && <Spinner>}
  ‚îÇ       ‚îî‚îÄ‚îÄ {showCurrentLocation && <Button>} // üìç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
  ‚îÇ
  ‚îî‚îÄ‚îÄ {isOpen && <Dropdown>} // –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
      ‚îî‚îÄ‚îÄ {suggestions.map()} // –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
          ‚îú‚îÄ‚îÄ –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç –∞–¥—Ä–µ—Å–∞
          ‚îî‚îÄ‚îÄ –û–ø–∏—Å–∞–Ω–∏–µ (—Ç–∏–ø –∏ –≥–æ—Ä–æ–¥)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```typescript
// –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ç—Ä–∏–Ω—ã
<AddressSearch
  onLocationSelect={(location) => {
    setFormData({
      address: location.address,
      latitude: location.latitude,
      longitude: location.longitude,
      city: location.city
    });
  }}
  placeholder="–ê–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞"
  showCurrentLocation={true}
/>

// –ù–∞ –∫–∞—Ä—Ç–µ –ø–æ–∏—Å–∫–∞
<AddressSearch
  onLocationSelect={handleCenterMap}
  className="w-full max-w-md"
/>
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
### –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ
- Debounce –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ (–ë–∞–ª–∫–∞–Ω—ã)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Å –æ–±—Ä–∞—Ç–Ω—ã–º –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
- –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –±–µ–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- alert() –¥–ª—è –æ—à–∏–±–æ–∫ –≤–º–µ—Å—Ç–æ toast
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω useTranslations
- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- console.error –±–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤
- –ó–∞–º–µ–Ω–∏—Ç—å alert –Ω–∞ toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –º–∏–Ω–∏-–∫–∞—Ä—Ç–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö API –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è