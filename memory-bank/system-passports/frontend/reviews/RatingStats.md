# ะะฐัะฟะพัั ะบะพะผะฟะพะฝะตะฝัะฐ: RatingStats

## ๐ ะะตัะฐะดะฐะฝะฝัะต
- **ะััั**: `/frontend/svetu/src/components/reviews/RatingStats.tsx`
- **ะะพะปั**: UI Component - Review Statistics Display
- **ะขะธะฟ**: React Client Component
- **ะะฐะทะผะตั**: 122 ัััะพะบะธ

## ๐ฏ ะะฐะทะฝะฐัะตะฝะธะต
ะะพะผะฟะพะฝะตะฝั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ััะฐัะธััะธะบะธ ะพัะทัะฒะพะฒ ั ะฒะธะทัะฐะปะธะทะฐัะธะตะน ะพะฑัะตะณะพ ัะตะนัะธะฝะณะฐ, ัะฐัะฟัะตะดะตะปะตะฝะธั ะพัะตะฝะพะบ ะฟะพ ะทะฒัะทะดะฐะผ, ะบะพะปะธัะตััะฒะฐ ะฟะพะดัะฒะตัะถะดัะฝะฝัั ะพัะทัะฒะพะฒ ะธ ะพัะทัะฒะพะฒ ั ัะพัะพะณัะฐัะธัะผะธ.

## ๐ง Props ััััะบัััะฐ

```typescript
interface RatingStatsProps {
  stats: ReviewStats;      // ะะฑัะตะบั ัะพ ััะฐัะธััะธะบะพะน ะพัะทัะฒะพะฒ
  className?: string;      // ะะพะฟะพะปะฝะธัะตะปัะฝัะต CSS ะบะปะฐััั
}

// ะกัััะบัััะฐ ReviewStats (ะธะท @/types/review)
interface ReviewStats {
  total_reviews: number;                      // ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะพัะทัะฒะพะฒ
  average_rating: number;                     // ะกัะตะดะฝะธะน ัะตะนัะธะฝะณ
  verified_reviews: number;                   // ะะพะดัะฒะตัะถะดัะฝะฝัะต ะพัะทัะฒั
  rating_distribution: Record<number, number>; // ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฟะพ ะทะฒัะทะดะฐะผ
  photo_reviews: number;                      // ะัะทัะฒั ั ัะพัะพะณัะฐัะธัะผะธ
}
```

## ๐ ะะฐะฒะธัะธะผะพััะธ

### ะะฝะตัะฝะธะต ะฑะธะฑะปะธะพัะตะบะธ
- `next-intl` - ะธะฝัะตัะฝะฐัะธะพะฝะฐะปะธะทะฐัะธั

### ะะฝัััะตะฝะฝะธะต ะบะพะผะฟะพะฝะตะฝัั
- `RatingDisplay` - ะพัะพะฑัะฐะถะตะฝะธะต ะทะฒัะทะด
- `@/types/review` - ัะธะฟั ะดะฐะฝะฝัั

## ๐ ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ
- Stateless ะบะพะผะฟะพะฝะตะฝั
- ะัะต ะดะฐะฝะฝัะต ะฟัะธัะพะดัั ัะตัะตะท props
- ะะตั ะปะพะบะฐะปัะฝะพะณะพ ัะพััะพัะฝะธั

## ๐งฉ ะะธะทะฝะตั-ะปะพะณะธะบะฐ

### ะะฐัััั ะฟัะพัะตะฝัะพะฒ
```typescript
getRatingPercentage(count: number) {
  if (stats.total_reviews === 0) return 0;
  return (count / stats.total_reviews) * 100;
}
```

### ะจะธัะธะฝะฐ ะฟัะพะณัะตัั-ะฑะฐัะพะฒ
```typescript
getBarWidth(count: number) {
  if (maxCount === 0) return 0;
  return (count / maxCount) * 100;
}
```

### ะัะพัะตะฝั ะฟะพะดัะฒะตัะถะดัะฝะฝัั ะพัะทัะฒะพะฒ
```typescript
Math.round((stats.verified_reviews / stats.total_reviews) * 100)
```

## ๐จ UI ััััะบัััะฐ

### ะัะฝะพะฒะฝะพะน ะผะฐะบะตั
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [4.5]      โ ะะฐัะฟัะตะดะตะปะตะฝะธะต ัะตะนัะธะฝะณะฐ         โ
โ โโโโโ     โ 5โ โโโโโโโโโโโโโโโโ 25 (50%)  โ
โ 120 ะพัะทัะฒะพะฒโ 4โ โโโโโโโโโโโโ     15 (30%)  โ
โ 85% ะฟัะพะฒ.  โ 3โ โโโโ             8 (16%)   โ
โ            โ 2โ โโ               2 (4%)    โ
โ            โ 1โ                  0 (0%)    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ท 45 ะพัะทัะฒะพะฒ ั ัะพัะพะณัะฐัะธัะผะธ                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะกัััะบัััะฐ ะบะพะผะฟะพะฝะตะฝัะฐ

1. **ะะตะฒะฐั ะฟะฐะฝะตะปั (ะะฑัะธะน ัะตะนัะธะฝะณ)**
   - ะััะฟะฝัะน ััะตะดะฝะธะน ัะตะนัะธะฝะณ (text-4xl)
   - ะะฒัะทะดั ัะตัะตะท RatingDisplay
   - ะะพะปะธัะตััะฒะพ ะพัะทัะฒะพะฒ
   - ะัะพัะตะฝั ะฟะพะดัะฒะตัะถะดัะฝะฝัั (ะตัะปะธ ะตััั)

2. **ะัะฐะฒะฐั ะฟะฐะฝะตะปั (ะะฐัะฟัะตะดะตะปะตะฝะธะต)**
   - ะะฐะณะพะปะพะฒะพะบ "ะะฐัะฟัะตะดะตะปะตะฝะธะต ัะตะนัะธะฝะณะฐ"
   - ะกััะพะบะธ ะดะปั ะบะฐะถะดะพะน ะพัะตะฝะบะธ (5-1):
     - ะัะตะฝะบะฐ + ะทะฒะตะทะดะฐ
     - ะัะพะณัะตัั-ะฑะฐั (ะถัะปััะน)
     - ะะพะปะธัะตััะฒะพ ะพัะทัะฒะพะฒ
     - ะัะพัะตะฝั

3. **ะคััะตั (ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ััะฐัะธััะธะบะฐ)**
   - ะะพะปะธัะตััะฒะพ ะพัะทัะฒะพะฒ ั ัะพัะพะณัะฐัะธัะผะธ
   - ะะบะพะฝะบะฐ ะบะฐะผะตัั

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

```typescript
// ะัะธะผะตั ะดะฐะฝะฝัั
const reviewStats: ReviewStats = {
  total_reviews: 120,
  average_rating: 4.5,
  verified_reviews: 102,
  rating_distribution: {
    5: 60,  // 50%
    4: 36,  // 30%
    3: 19,  // 16%
    2: 5,   // 4%
    1: 0    // 0%
  },
  photo_reviews: 45
};

// ะะฐะทะพะฒะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต
<RatingStats stats={reviewStats} />

// ะก ะดะพะฟะพะปะฝะธัะตะปัะฝัะผะธ ััะธะปัะผะธ
<RatingStats 
  stats={reviewStats}
  className="shadow-lg border"
/>

// ะ ะบะฐััะพัะบะต ัะพะฒะฐัะฐ
function ProductCard({ product }) {
  return (
    <div className="product-card">
      <h1>{product.title}</h1>
      <RatingStats stats={product.review_stats} />
    </div>
  );
}

// ะ ัะตะบัะธะธ ะพัะทัะฒะพะฒ
function ReviewsSection({ productId }) {
  const { data: stats } = useReviewStats(productId);
  
  return (
    <div>
      <h2>ะัะทัะฒั ะฟะพะบัะฟะฐัะตะปะตะน</h2>
      {stats && <RatingStats stats={stats} />}
    </div>
  );
}
```

## โ๏ธ ะะทะฒะตััะฝัะต ะพัะพะฑะตะฝะฝะพััะธ

### ะะพะบะฐะปะธะทะฐัะธั
- ะัะฟะพะปัะทัะตั i18n ะฟะตัะตะฒะพะดั ะธะท `reviews.stats`
- ะะปััะธ: `reviews`, `verified`, `ratingDistribution`, `withPhotos`

### ะกัะธะปะธะทะฐัะธั
- ะะดะฐะฟัะธะฒะฝัะน ะผะฐะบะตั (flex-col โ flex-row ะฝะฐ md+)
- DaisyUI ะบะพะผะฟะพะฝะตะฝัั (bg-base-100, text-primary)
- ะัะปััะต ะฟัะพะณัะตัั-ะฑะฐัั (bg-yellow-400)

### ะััะธัะปะตะฝะธั
- ะะฐัะธัะฐ ะพั ะดะตะปะตะฝะธั ะฝะฐ ะฝะพะปั
- ะะบััะณะปะตะฝะธะต ะฟัะพัะตะฝัะพะฒ ะดะพ ัะตะปัั
- ะกัะตะดะฝะธะน ัะตะนัะธะฝะณ ั ะพะดะฝะธะผ ะทะฝะฐะบะพะผ ะฟะพัะปะต ะทะฐะฟััะพะน

### ะฃัะปะพะฒะฝะพะต ะพัะพะฑัะฐะถะตะฝะธะต
- ะัะพัะตะฝั ะฟะพะดัะฒะตัะถะดัะฝะฝัั ะพัะทัะฒะพะฒ (ะตัะปะธ > 0)
- ะกะตะบัะธั ั ัะพัะพะณัะฐัะธัะผะธ (ะตัะปะธ > 0)
- ะัะพะฒะตัะบะฐ ะฝะฐ ะฟัััะพะต ัะฐัะฟัะตะดะตะปะตะฝะธะต

### ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- Math.max ะดะปั ะฝะฐัะพะถะดะตะฝะธั ะผะฐะบัะธะผะฐะปัะฝะพะณะพ ะบะพะปะธัะตััะฒะฐ
- Inline ััะธะปะธ ะดะปั ัะธัะธะฝั ะฟัะพะณัะตัั-ะฑะฐัะพะฒ
- ะะฝะธะผะฐัะธะธ transition ะดะปั ะฟะปะฐะฒะฝะพััะธ

### ะะธะทัะฐะปะธะทะฐัะธั
- ะัะพะณัะตัั-ะฑะฐัั ะพัะฝะพัะธัะตะปัะฝะพ ะผะฐะบัะธะผะฐะปัะฝะพะณะพ ะทะฝะฐัะตะฝะธั
- ะฆะฒะตัะพะฒะฐั ััะตะผะฐ: ะถัะปััะน ะดะปั ะฐะบัะธะฒะฝัั ัะปะตะผะตะฝัะพะฒ
- ะะบะพะฝะบะธ SVG ะดะปั ะทะฒัะทะด ะธ ะบะฐะผะตัั