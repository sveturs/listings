# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: ImageGallery (Reviews)

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/frontend/svetu/src/components/reviews/ImageGallery.tsx`
- **–†–æ–ª—å**: UI Component - Review Images Gallery Viewer
- **–¢–∏–ø**: React Client Component
- **–†–∞–∑–º–µ—Ä**: 424 —Å—Ç—Ä–æ–∫–∏

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –æ—Ç–∑—ã–≤–æ–≤ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –∂–µ—Å—Ç–æ–≤, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –∏ —Ä–µ–∂–∏–º–∞ fullscreen. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∏–∑ CLAUDE.md.

## üîß Props —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```typescript
interface ImageGalleryProps {
  images: string[];           // –ú–∞—Å—Å–∏–≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  initialIndex?: number;      // –ù–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
  isOpen: boolean;           // –§–ª–∞–≥ –æ—Ç–∫—Ä—ã—Ç–∏—è –≥–∞–ª–µ—Ä–µ–∏
  onClose: () => void;       // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- `next/image` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `next-intl` - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

### –•—É–∫–∏
- `useState` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- `useEffect` - side effects
- `useCallback` - –º–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- `useRef` - —Å—Å—ã–ª–∫–∞ –Ω–∞ DOM —ç–ª–µ–º–µ–Ω—Ç

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```typescript
currentIndex: number         // –¢–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
isFullscreen: boolean       // –†–µ–∂–∏–º –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
touchStart: number | null   // –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –∫–∞—Å–∞–Ω–∏—è
touchEnd: number | null     // –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –∫–∞—Å–∞–Ω–∏—è
isMobile: boolean          // –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
```

## üß© –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
```typescript
goToNext(): void      // –°–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏)
goToPrevious(): void  // –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ fullscreen
```typescript
toggleFullscreen(): Promise<void>  // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–µ—Å—Ç–æ–≤ (swipe)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è —Å–≤–∞–π–ø–∞: 50px
- –°–≤–∞–π–ø –≤–ª–µ–≤–æ: —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ: –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
- `Escape` - –≤—ã–π—Ç–∏ –∏–∑ fullscreen –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –≥–∞–ª–µ—Ä–µ—é
- `ArrowLeft` - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `ArrowRight` - —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `F` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å fullscreen

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–æ–ª–µ—Å–æ–º –º—ã—à–∏
- –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑: —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–≤–µ—Ä—Ö: –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

## üé® UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (z-index: 101)
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º (bg-base-300/5 backdrop-blur-sm)
- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–∞–ª–µ—Ä–µ–∏

1. **–§–æ–Ω–æ–≤—ã–π overlay**
   - –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è

2. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–∞–ª–µ—Ä–µ–∏**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (fullscreen –∏–ª–∏ max-w-5xl)
   - –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º
   - –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã (–Ω–µ –≤ fullscreen)

3. **–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏**
   - –°—á–µ—Ç—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–µ—Å–ª–∏ > 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
   - –ö–Ω–æ–ø–∫–∞ fullscreen
   - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è

4. **–û–±–ª–∞—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ã—Å–æ—Ç–∞
   - –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - object-contain –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–π
   - –ë–æ–ª—å—à–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –±–æ–∫–∞–º

5. **–§—É—Ç–µ—Ä —Å –º–∏–Ω–∏–∞—Ç—é—Ä–∞–º–∏**
   - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –º–∏–Ω–∏–∞—Ç—é—Ä
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä—ã
   - –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≥–∞–ª–µ—Ä–µ–∏

6. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–≤–∞–π–ø–∞ (–º–æ–±–∏–ª—å–Ω—ã–µ)**
   - –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≤–∞–π–ø–∞

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const [galleryOpen, setGalleryOpen] = useState(false);
const [selectedImageIndex, setSelectedImageIndex] = useState(0);

<ImageGallery
  images={reviewImages}
  initialIndex={selectedImageIndex}
  isOpen={galleryOpen}
  onClose={() => setGalleryOpen(false)}
/>

// –û—Ç–∫—Ä—ã—Ç–∏–µ –≥–∞–ª–µ—Ä–µ–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
<div onClick={() => {
  setSelectedImageIndex(2);
  setGalleryOpen(true);
}}>
  <img src={reviewImages[2]} alt="Review photo" />
</div>

// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç–∑—ã–≤–∞–º–∏
function ReviewItem({ review }) {
  const [showGallery, setShowGallery] = useState(false);
  const [startIndex, setStartIndex] = useState(0);
  
  return (
    <>
      <div className="review-images">
        {review.images.map((img, idx) => (
          <img
            key={idx}
            src={img}
            onClick={() => {
              setStartIndex(idx);
              setShowGallery(true);
            }}
          />
        ))}
      </div>
      
      <ImageGallery
        images={review.images}
        initialIndex={startIndex}
        isOpen={showGallery}
        onClose={() => setShowGallery(false)}
      />
    </>
  );
}
```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –ø–æ —à–∏—Ä–∏–Ω–µ <= 768px
- –°–∫—Ä—ã—Ç–∏–µ —Ñ—É—Ç–µ—Ä–∞ –≤ fullscreen –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–≤–∞–π–ø–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- Priority –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ sizes –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è wheel —Å–æ–±—ã—Ç–∏—è

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DaisyUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (btn, backdrop-blur)
- –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ñ–æ–Ω—ã —Å —Ä–∞–∑–º—ã—Ç–∏–µ–º
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ hover

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- aria-label –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ñ–æ–∫—É—Å–∞

### –ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```
reviews.gallery.closeGallery
reviews.gallery.photo
reviews.gallery.of
reviews.gallery.previousImage
reviews.gallery.nextImage
reviews.gallery.fullscreenMode
reviews.gallery.close
reviews.gallery.swipeToNavigate
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–æ–ª–ª–∞ body –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ fullscreen API —Å try-catch
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç fullscreen
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ backdrop-blur –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞