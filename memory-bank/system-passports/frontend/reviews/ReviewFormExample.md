# Паспорт компонента: ReviewFormExample

## 📋 Метаданные
- **Путь**: `/frontend/svetu/src/components/reviews/ReviewFormExample.tsx`
- **Роль**: Example/Demo Component - ReviewForm Usage Demonstration
- **Тип**: React Client Component
- **Размер**: 109 строк

## 🎯 Назначение
Демонстрационный компонент, показывающий правильное использование обновлённого компонента ReviewForm с двухэтапным процессом создания отзывов. Служит документацией и примером интеграции для разработчиков.

## 🔧 Props структура
Компонент не принимает props - это автономный пример.

```typescript
export const ReviewFormExample: React.FC = () => {
  // Только внутреннее состояние
}
```

## 🔗 Зависимости

### Внешние библиотеки
- React (useState)

### Внутренние зависимости
- `./ReviewForm` - основной компонент формы отзыва

## 🔄 Управление состоянием

### Локальное состояние
```typescript
const [showForm, setShowForm] = useState(false); // Переключение между описанием и формой
```

### Обработчики
```typescript
const handleSuccess = () => {
  console.log('Отзыв успешно создан и опубликован!');
  setShowForm(false);
  // Здесь можно добавить уведомление об успехе
};

const handleCancel = () => {
  setShowForm(false);
};
```

## 🎨 UI структура

### Режим описания (showForm = false)
```
┌─ Заголовок ───────────────────────────────────┐
│ Пример использования ReviewForm               │
└───────────────────────────────────────────────┘
┌─ Описание функциональности ──────────────────┐
│ Новый компонент ReviewForm поддерживает       │
│ двухэтапный процесс создания отзывов:         │
│ • Этап 1: Создание черновика отзыва          │
│ • Этап 2a: Загрузка фотографий               │
│ • Этап 2b: Публикация отзыва                 │
└───────────────────────────────────────────────┘
┌─ Кнопка действия ────────────────────────────┐
│              [Открыть форму отзыва]           │
└───────────────────────────────────────────────┘
┌─ Примеры кода ───────────────────────────────┐
│ Новый API                                     │
│ ┌─────────────────────────────────────────┐   │
│ │ <ReviewForm                             │   │
│ │   entityType="listing"                  │   │
│ │   entityId={123}                        │   │
│ │   storefrontId={456}                    │   │
│ │   onSuccess={() => console.log('OK!')}  │   │
│ │   onCancel={() => setShowForm(false)}   │   │
│ │ />                                      │   │
│ └─────────────────────────────────────────┘   │
│                                               │
│ Обратная совместимость                       │
│ ┌─────────────────────────────────────────┐   │
│ │ <ReviewForm                             │   │
│ │   entityType="listing"                  │   │
│ │   entityId={123}                        │   │
│ │   legacyOnSubmit={handleOldSubmit}      │   │
│ │   onCancel={() => setShowForm(false)}   │   │
│ │ />                                      │   │
│ └─────────────────────────────────────────┘   │
└───────────────────────────────────────────────┘
```

### Режим формы (showForm = true)
```
┌─ Заголовок ───────────────────────────────────┐
│ Создать отзыв                                 │
└───────────────────────────────────────────────┘
┌─ Живой пример ───────────────────────────────┐
│ < ReviewForm компонент >                      │
│ • Рейтинг: [★★★★☆]                          │
│ • Комментарий: [текстовое поле]              │
│ • Плюсы/Минусы: [опциональные поля]          │
│ • Фотографии: [drag & drop зона]             │
│ • Кнопки: [Отправить] [Отмена]               │
└───────────────────────────────────────────────┘
```

## 🧩 Бизнес-логика

### Демонстрируемые возможности

#### Новый API (рекомендуемый)
```typescript
<ReviewForm
  entityType="listing"     // Тип сущности
  entityId={123}          // ID сущности
  storefrontId={456}      // ID витрины (опционально)
  onSuccess={handleSuccess}   // Обработчик успеха
  onCancel={handleCancel}     // Обработчик отмены
/>
```

#### Legacy API (обратная совместимость)
```typescript
<ReviewForm
  entityType="listing"
  entityId={123}
  legacyOnSubmit={handleOldSubmit}  // Старый обработчик
  onCancel={handleCancel}
/>
```

### Демонстрируемые этапы процесса
1. **Этап 1**: Создание черновика отзыва с текстовыми данными
2. **Этап 2a**: Загрузка фотографий (если есть)
3. **Этап 2b**: Публикация отзыва

## 🔧 Функциональные возможности

### Образовательная ценность
- Показывает правильную интеграцию ReviewForm
- Демонстрирует обработку событий успеха и отмены
- Объясняет двухэтапный процесс создания отзывов
- Предоставляет готовые примеры кода

### Интерактивность
- Переключение между описанием и живым примером
- Реальная работающая форма отзыва
- Консольное логирование для отладки

### Документация в коде
```typescript
/**
 * Пример использования обновленного компонента ReviewForm
 * с двухэтапным процессом создания отзывов
 */
```

## 🎨 Стилизация

### DaisyUI компоненты
- `btn btn-primary` - основные кнопки
- `mockup-code` - блоки с примерами кода
- `divider` - разделители секций
- `max-w-2xl mx-auto` - ограничение ширины и центрирование

### Структура примеров кода
```typescript
<div className="mockup-code">
  <pre data-prefix="1"><code>{`<ReviewForm`}</code></pre>
  <pre data-prefix="2"><code>{`  entityType="listing"`}</code></pre>
  <pre data-prefix="3"><code>{`  entityId={123}`}</code></pre>
  // ... остальные строки
</div>
```

## 💡 Примеры использования

### Интеграция в Storybook
```typescript
// stories/ReviewFormExample.stories.tsx
export default {
  title: 'Components/Reviews/ReviewFormExample',
  component: ReviewFormExample,
};

export const Default = () => <ReviewFormExample />;
```

### Использование в документации
```typescript
// pages/docs/reviews.tsx
import { ReviewFormExample } from '@/components/reviews';

export default function ReviewsDocsPage() {
  return (
    <div>
      <h1>Система отзывов</h1>
      <ReviewFormExample />
    </div>
  );
}
```

### Демонстрация в админ-панели
```typescript
// pages/admin/components-demo.tsx
<section>
  <h2>Review Form</h2>
  <ReviewFormExample />
</section>
```

## ⚠️ Известные особенности

### Ограничения
- Хардкодированные значения (entityId: 123, storefrontId: 456)
- Нет реальной интеграции с бэкендом
- Консольное логирование вместо реальных уведомлений

### Предназначение
- **НЕ для продакшена** - только для демонстрации
- Предназначен для разработчиков и документации
- Не содержит реальной бизнес-логики

### Поддержка
- Показывает как старый, так и новый API
- Помогает с миграцией legacy кода
- Документирует best practices

### Развитие
- Может быть расширен дополнительными примерами
- Может включать примеры обработки ошибок
- Возможно добавление интеграции с разными entity типами

### Техническая реализация
- Простой компонент без сложной логики
- Фокус на демонстрации использования
- Готовый код для копирования разработчиками