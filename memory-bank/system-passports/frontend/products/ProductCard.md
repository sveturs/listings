# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: ProductCard

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `frontend/svetu/src/components/products/ProductCard.tsx`
- **–†–æ–ª—å**: –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–¢–∏–ø**: Presentation Component (memoized)
- **–†–∞–∑–º–µ—Ä**: 255 —Å—Ç—Ä–æ–∫

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
- Grid view - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- List view - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- Table view - —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã —Å –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

## Props —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```typescript
interface ProductCardProps {
  product: StorefrontProduct;      // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞
  storefrontSlug: string;          // –°–ª–∞–≥ –≤–∏—Ç—Ä–∏–Ω—ã
  isSelected?: boolean;            // –í—ã–±—Ä–∞–Ω –ª–∏ —Ç–æ–≤–∞—Ä
  isSelectMode?: boolean;          // –†–µ–∂–∏–º –º–∞—Å—Å–æ–≤–æ–≥–æ –≤—ã–±–æ—Ä–∞
  onToggleSelect?: (id: number) => void;  // Callback –≤—ã–±–æ—Ä–∞
  viewMode?: 'grid' | 'list' | 'table';   // –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
}
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏**: React (memo), Next.js (Link), next-intl
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `SafeImage` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–¢–∏–ø—ã**: `StorefrontProduct` –∏–∑ types/storefront
- **–ò–∫–æ–Ω–∫–∏**: FiEdit2, FiEye, FiPackage, FiAlertCircle

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```typescript
const mainImage = product.images?.find((img) => img.is_default) || product.images?.[0];

const stockStatusColor = {
  in_stock: 'text-success',
  low_stock: 'text-warning', 
  out_of_stock: 'text-error'
}[product.stock_status] || 'text-base-content';
```

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- `handleCardClick` - –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ —Å —É—á–µ—Ç–æ–º —Ä–µ–∂–∏–º–∞ –≤—ã–±–æ—Ä–∞
- `handleCheckboxChange` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ–∫–±–æ–∫—Å–∞

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞
```typescript
const handleCardClick = (e: React.MouseEvent) => {
  // –ù–µ –≤—ã–∑—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –µ—Å–ª–∏ –∫–ª–∏–∫–Ω—É–ª–∏ –Ω–∞ —á–µ–∫–±–æ–∫—Å
  if (isSelectMode && onToggleSelect && product.id && e.target !== e.currentTarget) {
    const target = e.target as HTMLElement;
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–ª–∏–∫ –Ω–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å–µ –∏–ª–∏ label
    if (!target.closest('input[type="checkbox"]') && !target.closest('label')) {
      e.preventDefault();
      onToggleSelect(product.id);
    }
  }
};
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–∫–ª–∞–¥–∞
- **in_stock**: –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç (success)
- **low_stock**: –∂–µ–ª—Ç—ã–π —Ü–≤–µ—Ç (warning)
- **out_of_stock**: –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç (error)

## UI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Table View (—Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã)
- –ß–µ–∫–±–æ–∫—Å –≤—ã–±–æ—Ä–∞ (–µ—Å–ª–∏ selectMode)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ + –Ω–∞–∑–≤–∞–Ω–∏–µ + SKU
- –°—Ç–∞—Ç—É—Å —Å–∫–ª–∞–¥–∞ + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- –¶–µ–Ω–∞ —Å –≤–∞–ª—é—Ç–æ–π
- –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (badge)
- –î–µ–π—Å—Ç–≤–∏—è: –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Card View (grid/list)
1. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
   - SafeImage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - Placeholder –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
   - Badge –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

2. **–ö–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏**
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º out_of_stock
   - SKU –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –¶–µ–Ω–∞ –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
   - –°—Ç–∞—Ç—É—Å —Å–∫–ª–∞–¥–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

3. **–î–µ–π—Å—Ç–≤–∏—è**
   - –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ selectMode)
   - –ß–µ–∫–±–æ–∫—Å –≤—ã–±–æ—Ä–∞ (–µ—Å–ª–∏ selectMode)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í —Ä–µ–∂–∏–º–µ —Å–µ—Ç–∫–∏
```tsx
<ProductCard
  product={product}
  storefrontSlug="my-store"
  viewMode="grid"
/>
```

### –í —Ä–µ–∂–∏–º–µ –º–∞—Å—Å–æ–≤–æ–≥–æ –≤—ã–±–æ—Ä–∞
```tsx
<ProductCard
  product={product}
  storefrontSlug="my-store"
  isSelectMode={true}
  isSelected={selectedIds.includes(product.id)}
  onToggleSelect={handleToggleSelect}
  viewMode="list"
/>
```

### –í —Ç–∞–±–ª–∏—Ü–µ
```tsx
<table>
  <tbody>
    {products.map(product => (
      <ProductCard
        key={product.id}
        product={product}
        storefrontSlug={slug}
        viewMode="table"
        isSelectMode={isSelectMode}
        isSelected={isSelected}
        onToggleSelect={onToggle}
      />
    ))}
  </tbody>
</table>
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ
- ‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å - —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ (—Ä–∞–∑–ª–∏—á–∞–µ—Ç –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ SafeImage
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
- ‚ö†Ô∏è –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª—é—Ç–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- ‚ö†Ô∏è –ù–µ—Ç lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ grid —Ä–µ–∂–∏–º–µ
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç skeleton loading

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- üí° –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–æ–≤–∞—Ä–∞
- üí° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∫–∏–¥–æ–∫ –∏ —Å—Ç–∞—Ä–æ–π —Ü–µ–Ω—ã
- üí° Quick view —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üí° Drag handle –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- üí° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤–∏–Ω–∫–∏/–∞–∫—Ü–∏–∏