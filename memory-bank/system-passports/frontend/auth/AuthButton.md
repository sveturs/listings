# –ü–∞—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: AuthButton

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/frontend/svetu/src/components/AuthButton.tsx`
- **–†–æ–ª—å**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Header
- **–¢–∏–ø**: Client Component
- **–†–∞–∑–º–µ—Ä**: 207 —Å—Ç—Ä–æ–∫

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
- –ö–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–≤–∞—Ç–∞—Ä —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º –º–µ–Ω—é –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ
- –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Props
```typescript
interface AuthButtonProps {
  onLoginClick?: () => void;  // –ö–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ Login
}
```

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `@/contexts/AuthContext` - –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `@/i18n/routing` - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- `@/hooks/useChat` - —Ö—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- `next-intl` - –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- `next/image` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- React hooks: `useState`, `useEffect`

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API/Hooks:
```typescript
const {
  user,              // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  isAuthenticated,   // –§–ª–∞–≥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  isLoading,        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  isLoggingOut,     // –ü—Ä–æ—Ü–µ—Å—Å –≤—ã—Ö–æ–¥–∞
  error,            // –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
  login,            // –§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞
  logout,           // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
  clearError        // –û—á–∏—Å—Ç–∫–∞ –æ—à–∏–±–∫–∏
} = useAuth();

const { unreadCount } = useChat();  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
```

## üé® UI —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ (SSR + initial mount):
```html
<div className="skeleton h-10 w-24"></div>
```

### 2. –û—à–∏–±–∫–∞:
```html
<div className="alert alert-error py-2 px-4">
  <span>{error}</span>
  <button onClick={clearError}>‚úï</button>
</div>
```

### 3. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:
```html
<button className="btn btn-primary btn-sm">
  {t('login.enter')}
</button>
```

### 4. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:
- –ò–∫–æ–Ω–∫–∞ —á–∞—Ç–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª—ã)
- –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏

## üìê –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:
1. **Mounted state** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç hydration mismatch
2. **Image error handling** - fallback –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∞
3. **Auto-clear errors** - –æ—à–∏–±–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
4. **Unread indicator** - –ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

### –ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ò–º—è –∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å (`/profile`)
- –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç—ã (`/user-contacts`)
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞

## üåç –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
```typescript
const t = useTranslations('auth');
const tCommon = useTranslations('common');
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª—é—á–∏:
- `auth.login.enter`
- `auth.profile`
- `auth.myContacts`
- `auth.adminPanel`
- `auth.logout`
- `auth.loggingOut`
- `common.documentation`

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DaisyUI –∫–ª–∞—Å—Å—ã
- Skeleton –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- Alert –¥–ª—è –æ—à–∏–±–æ–∫
- Dropdown –¥–ª—è –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Avatar —Å fallback –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª—ã
- –ü—É–ª—å—Å–∏—Ä—É—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö

## ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. SSR —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
```typescript
const [mounted, setMounted] = useState(false);
useEffect(() => { setMounted(true); }, []);
if (!mounted || isLoading) return <skeleton>;
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Next.js Image —Å `fill` –∏ `sizes="40px"`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å fallback

### 3. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö:
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Tailwind –∞–Ω–∏–º–∞—Ü–∏–∏ (`animate-ping`)

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í Header:
```tsx
<AuthButton />
```

### –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º:
```tsx
<AuthButton onLoginClick={() => openLoginModal()} />
```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
1. –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `unreadCount` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 35)
2. –¢—Ä–µ–±—É–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (`'use client'`)
3. –ó–∞–≤–∏—Å–∏—Ç –æ—Ç AuthContext –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ AuthProvider

## üîÑ –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `Header` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AuthButton
- `LoginModal` - –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω —á–µ—Ä–µ–∑ `onLoginClick`
- `AuthContext` - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `Chat` - —Å–≤—è–∑—å —á–µ—Ä–µ–∑ unreadCount