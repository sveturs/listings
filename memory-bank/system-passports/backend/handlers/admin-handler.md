# üë®‚Äçüíº Admin Handler - –ü–∞—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–ü—É—Ç—å**: `/backend/internal/handlers/admin.go`, `/backend/internal/proj/admin/`
- **–†–æ–ª—å**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ú–æ–¥—É–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### Endpoints
- **GET** `/api/v1/admin/users` - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - Query: `page`, `limit`, `search`, `status`
  - Response: –ü–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **GET** `/api/v1/admin/users/:id` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  - Response: –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- **PUT** `/api/v1/admin/users/:id` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - Body: `name`, `phone`, `avatar_url`, –∏ –¥—Ä.
  - Response: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

- **PUT** `/api/v1/admin/users/:id/status` - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - Body: `status` (active/blocked/pending)
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **DELETE** `/api/v1/admin/users/:id` - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **GET** `/api/v1/admin/users/:id/balance` - –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - Response: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–ª–∞–Ω—Å–µ

- **GET** `/api/v1/admin/users/:id/transactions` - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - Query: `page`, `limit`, `type`
  - Response: –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

#### Endpoints
- **GET** `/api/v1/admin/admins` - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  - Response: –°–ø–∏—Å–æ–∫ email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

- **POST** `/api/v1/admin/admins` - –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - Body: `email`
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **DELETE** `/api/v1/admin/admins/:email` - –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **GET** `/api/v1/admin/admins/check/:email` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∞
  - Response: `{isAdmin: boolean}`

### üìÇ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

#### Endpoints
- **POST** `/api/v1/admin/categories` - –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  - Body: `name`, `parent_id`, `icon`, `translations`
  - Response: –°–æ–∑–¥–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è

- **GET** `/api/v1/admin/categories` - –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - Query: `parent_id`, `with_tree`
  - Response: –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

- **GET** `/api/v1/admin/categories/:id` - –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  - Response: –î–µ—Ç–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

- **PUT** `/api/v1/admin/categories/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  - Body: `name`, `icon`, `display_order`, –∏ –¥—Ä.
  - Response: –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è

- **DELETE** `/api/v1/admin/categories/:id` - –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **POST** `/api/v1/admin/categories/:id/reorder` - –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
  - Body: `display_order`
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **PUT** `/api/v1/admin/categories/:id/move` - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏
  - Body: `parent_id`
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

### üè∑Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

#### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **POST** `/api/v1/admin/attributes` - –°–æ–∑–¥–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç
  - Body: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ç—Ä–∏–±—É—Ç–∞
  - Response: –°–æ–∑–¥–∞–Ω–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç

- **GET** `/api/v1/admin/attributes` - –°–ø–∏—Å–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
  - Query: `page`, `limit`, `search`, `type`, `category_id`
  - Response: –ü–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫

- **GET** `/api/v1/admin/attributes/:id` - –ü–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç
  - Response: –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Ç—Ä–∏–±—É—Ç–µ

- **PUT** `/api/v1/admin/attributes/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç
  - Body: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è –∞—Ç—Ä–∏–±—É—Ç–∞
  - Response: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç

- **DELETE** `/api/v1/admin/attributes/:id` - –£–¥–∞–ª–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **POST** `/api/v1/admin/attributes/:id/translate` - –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –∞—Ç—Ä–∏–±—É—Ç–∞
  - Body: `targetLanguages[]`
  - Response: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç

- **POST** `/api/v1/admin/attributes/bulk-update` - –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - Body: `attributes[]`
  - Response: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã

#### –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **POST** `/api/v1/admin/categories/:id/attributes` - –î–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - Body: `attribute_id`, `is_required`, `display_order`
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **DELETE** `/api/v1/admin/categories/:id/attributes/:attr_id` - –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

- **PUT** `/api/v1/admin/categories/:id/attributes/:attr_id` - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - Body: `is_required`, `display_order`
  - Response: –£—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞

### üì¶ –ì—Ä—É–ø–ø—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤

#### Endpoints
- **GET** `/api/v1/admin/attribute-groups` - –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
- **POST** `/api/v1/admin/attribute-groups` - –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
- **GET** `/api/v1/admin/attribute-groups/:id` - –ü–æ–ª—É—á–∏—Ç—å –≥—Ä—É–ø–ø—É
- **PUT** `/api/v1/admin/attribute-groups/:id` - –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
- **DELETE** `/api/v1/admin/attribute-groups/:id` - –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≥—Ä—É–ø–ø
- **GET** `/api/v1/admin/attribute-groups/:id/items` - –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä—É–ø–ø—ã
- **POST** `/api/v1/admin/attribute-groups/:id/items` - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
- **DELETE** `/api/v1/admin/attribute-groups/:id/items/:attributeId` - –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç

#### –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **GET** `/api/v1/admin/categories/:id/attribute-groups` - –ì—Ä—É–ø–ø—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **POST** `/api/v1/admin/categories/:id/attribute-groups` - –ü—Ä–∏–≤—è–∑–∞—Ç—å –≥—Ä—É–ø–ø—É
- **DELETE** `/api/v1/admin/categories/:id/attribute-groups/:groupId` - –û—Ç–≤—è–∑–∞—Ç—å –≥—Ä—É–ø–ø—É

### üé® –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

#### –®–∞–±–ª–æ–Ω—ã
- **GET** `/api/v1/admin/custom-components/templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- **POST** `/api/v1/admin/custom-components/templates` - –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **POST** `/api/v1/admin/custom-components` - –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **GET** `/api/v1/admin/custom-components` - –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **GET** `/api/v1/admin/custom-components/:id` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **PUT** `/api/v1/admin/custom-components/:id` - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **DELETE** `/api/v1/admin/custom-components/:id` - –£–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- **GET** `/api/v1/admin/custom-components/usage` - –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- **POST** `/api/v1/admin/custom-components/usage` - –î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- **DELETE** `/api/v1/admin/custom-components/usage/:id` - –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üîÑ –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
- **POST** `/api/v1/admin/reindex-listings` - –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ OpenSearch
  - Response: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

- **POST** `/api/v1/admin/reindex-listings-with-translations` - –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
  - Response: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

- **POST** `/api/v1/admin/reindex-ratings` - –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
  - Response: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **POST** `/api/v1/admin/sync-discounts` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∫–∏–¥–æ–∫
  - Response: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π

### üñºÔ∏è –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

- **POST** `/api/v1/marketplace/moderate-image` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - Body: `image_url`
  - Response: –†–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (AI-powered —á–µ—Ä–µ–∑ Cloudinary)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```go
// –í—Å–µ admin endpoints –∑–∞—â–∏—â–µ–Ω—ã middleware
adminRoutes := app.Group("/api/v1/admin", 
    mw.AuthRequiredJWT,    // JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    mw.AdminRequired       // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
1. **Hardcoded ID** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å ID 1, 2, 3
2. **–¢–∞–±–ª–∏—Ü–∞ admin_users** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î
3. **Hardcoded emails** - —Å–ø–∏—Å–æ–∫ email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
   - bevzenko.sergey@gmail.com
   - voroshilovdo@gmail.com
   - admin@svetu.rs

### Rate Limiting
- –û–±—â–∏–µ –ª–∏–º–∏—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –≤—ã—à–µ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–º–µ—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- `admin_users` - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- `users` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `marketplace_categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- `category_attributes` - –ê—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `attribute_groups` - –ì—Ä—É–ø–ø—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- `custom_ui_components` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **UserService** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **CategoryService** - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- **AttributeService** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
- **BalanceService** - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **OpenSearchService** - –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- **Google Translate API** - –ê–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- **Cloudinary** - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **OpenSearch** - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- **MinIO** - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è zerolog
- –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç: user_id, email, action, parameters

### –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤
```go
log.Info().
    Int("admin_id", userID).
    Str("admin_email", adminEmail).
    Str("action", "delete_user").
    Int("target_user_id", targetUserID).
    Msg("Admin deleted user")
```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç dashboard API** - –Ω–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/–º–µ—Ç—Ä–∏–∫
2. **–ù–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ env
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. **–ù–µ—Ç –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** - —Ç–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
5. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç API –∞—É–¥–∏—Ç–∞** - –ª–æ–≥–∏ —Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª–∞—Ö
6. **–ù–µ—Ç backup/restore** - —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
7. **–ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã** - health checks –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
8. **–ù–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è email** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è
9. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç** - —Ç–æ–ª—å–∫–æ –∞—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
10. **–ù–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - —Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤
- Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∑–∞–¥–∞—á

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏
- –í—ã–ø–æ–ª–Ω—è—Ç—å —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –≤ –ø–µ—Ä–∏–æ–¥—ã –Ω–∏–∑–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```bash
curl -X POST /api/v1/admin/admins \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"email": "newadmin@example.com"}'
```

### –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
```bash
curl -X POST /api/v1/admin/reindex-listings \
  -H "Authorization: Bearer $TOKEN"
```

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X PUT /api/v1/admin/users/123/status \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"status": "blocked"}'
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º
4. **–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** —Ç—â–∞—Ç–µ–ª—å–Ω–æ
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã** –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫/—É–¥–∞–ª–µ–Ω–∏–π
6. **–°–æ–∑–¥–∞–≤–∞—Ç—å backup** –ø–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
- [Users Handler](./users-handler.md) - –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [Marketplace Handler](./marketplace-handler.md) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
- [Balance Handler](./balance-handler.md) - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏