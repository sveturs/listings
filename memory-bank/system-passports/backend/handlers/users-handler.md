# –ü–∞—Å–ø–æ—Ä—Ç: Users Handler Module

**–§–∞–π–ª**: `/backend/internal/proj/users/handler/`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: HTTP handlers –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞**: 2025-06-29

## üìã –û–±–∑–æ—Ä –º–æ–¥—É–ª—è

Users Handler Module –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å–µ HTTP endpoints —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ. –ú–æ–¥—É–ª—å —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: AuthHandler –∏ UserHandler.

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
backend/internal/proj/users/handler/
‚îú‚îÄ‚îÄ handler.go          # –û—Å–Ω–æ–≤–Ω–æ–π handler —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ auth.go             # AuthHandler - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ users.go            # UserHandler - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
‚îú‚îÄ‚îÄ admin.go            # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ admin_balance.go    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ admin_users.go      # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ responses.go        # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è API
‚îî‚îÄ‚îÄ routes.go           # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Handler (handler.go)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –≤—Å–µ sub-handlers

```go
type Handler struct {
    Auth *AuthHandler  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    User *UserHandler  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
}
```

**–§—É–Ω–∫—Ü–∏–∏**:
- `NewHandler(services)` - —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ handler

### 2. AuthHandler (auth.go)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `GoogleAuth()` - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Google OAuth
- `GoogleCallback()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ OAuth callback
- `GetSession()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `Logout()` - –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `Login()` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ email/password
- `Register()` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `RefreshToken()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**:
- Google OAuth 2.0
- Email/Password —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- Session cookies (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

### 3. UserHandler (users.go)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `GetProfile()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `UpdateProfile()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `GetProfileByID()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ ID
- `IsAdminSimple()` - –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω —Å—Ç–∞—Ç—É—Å–∞
- `RegisterOld()` - —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (deprecated)
- `LoginOld()` - —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥ –ª–æ–≥–∏–Ω–∞ (deprecated)

## üåê API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
```
POST   /api/v1/auth/register        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST   /api/v1/auth/login           # –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
POST   /api/v1/auth/logout          # –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã  
POST   /api/v1/auth/refresh         # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
GET    /api/v1/auth/session         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
GET    /api/v1/auth/google          # OAuth Google
GET    /api/v1/auth/google/callback # OAuth callback
GET    /api/v1/admin-check/:email   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω —Å—Ç–∞—Ç—É—Å–∞
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
```
GET    /api/v1/users/me             # –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
PUT    /api/v1/users/me             # –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
GET    /api/v1/users/profile        # –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å (–∞–ª—å—Ç)
PUT    /api/v1/users/profile        # –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (–∞–ª—å—Ç)
GET    /api/v1/users/:id/profile    # –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
```

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è admin –ø—Ä–∞–≤–∞)
```
GET    /api/v1/admin/users          # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET    /api/v1/admin/users/:id      # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ ID
PUT    /api/v1/admin/users/:id      # –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT    /api/v1/admin/users/:id/status  # –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
DELETE /api/v1/admin/users/:id      # –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /api/v1/admin/users/:id/balance    # –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /api/v1/admin/users/:id/transactions # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
GET    /api/v1/admin/admins         # –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
POST   /api/v1/admin/admins         # –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
DELETE /api/v1/admin/admins/:email  # –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
GET    /api/v1/admin/admins/check/:email # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω —Å—Ç–∞—Ç—É—Å
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Middleware –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –∫ —Ä–æ—É—Ç–∞–º:
- **RegistrationRateLimit**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **AuthRateLimit**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- **RateLimitByIP**: –æ–±—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ IP
- **CSRFProtection**: –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫
- **AuthRequiredJWT**: –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞
- **AdminRequired**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω –ø—Ä–∞–≤

### –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤:
- **Access Token**: JWT —Ç–æ–∫–µ–Ω (—Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
- **Refresh Token**: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ httpOnly cookie
- **Session Token**: –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üìä –°–≤—è–∑–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- `user_profiles` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- `refresh_tokens` - refresh —Ç–æ–∫–µ–Ω—ã –¥–ª—è JWT
- `admin_users` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —Å–∏—Å—Ç–µ–º—ã
- `user_balances` - –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `balance_transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## üîÑ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
1. **Google OAuth**: redirect ‚Üí callback ‚Üí session/JWT
2. **Email/Password**: –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí JWT + refresh token
3. **Refresh**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ ‚Üí –Ω–æ–≤—ã–µ —Ç–æ–∫–µ–Ω—ã

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
2. –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è
3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT —Ç–æ–∫–µ–Ω–æ–≤
5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ cookies

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ session cookies (legacy)
- JWT —Ç–æ–∫–µ–Ω—ã –≤ Authorization header
- Refresh —Ç–æ–∫–µ–Ω—ã –≤ httpOnly cookies
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤**: –í –º–æ–¥—É–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- OAuth flow —Å Google
- Refresh token –º–µ—Ö–∞–Ω–∏–∑–º
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ –∞–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
- Rate limiting

## üìù Response —Ç–∏–ø—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤**:
- `AuthResponse` - –æ—Ç–≤–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- `SessionResponse` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
- `UserProfileResponse` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `MessageResponse` - –ø—Ä–æ—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `TokenResponse` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫**:
- JWT —Å–µ–∫—Ä–µ—Ç –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏
- Cookie –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (secure, samesite)
- Google OAuth credentials
- Rate limiting –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- Frontend URL –¥–ª—è redirects

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ:
- `internal/proj/global/service` - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- `internal/proj/users/service` - –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `internal/types` - –æ–±—â–∏–µ —Ç–∏–ø—ã
- `internal/logger` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `pkg/jwt` - JWT —É—Ç–∏–ª–∏—Ç—ã
- `pkg/utils` - –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã

### –í–Ω–µ—à–Ω–∏–µ:
- `github.com/gofiber/fiber/v2` - HTTP framework

## üö® –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö session cookies
- Deprecated endpoints –¥–ª—è legacy –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ IP –∏ User-Agent

### –ê–¥–º–∏–Ω –ø—Ä–∞–≤–∞:
- –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ ID (1,2,3) –≤ IsAdminSimple
- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ admin_users —Ç–∞–±–ª–∏—Ü—É
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ endpoints –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–π

## üìã TODO –∏ —É–ª—É—á—à–µ–Ω–∏—è

1. **–£–¥–∞–ª–∏—Ç—å deprecated –º–µ—Ç–æ–¥—ã** –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ frontend
2. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç–∏** (/api/v1/users/me vs /api/v1/users/profile)
3. **–£–ª—É—á—à–∏—Ç—å rate limiting** –¥–ª—è refresh endpoint
4. **–î–æ–±–∞–≤–∏—Ç—å 2FA** –ø–æ–¥–¥–µ—Ä–∂–∫—É
5. **–†–∞—Å—à–∏—Ä–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏