# üéØ –°–µ—Å—Å–∏—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã - –ó–∞–≤–µ—Ä—à–µ–Ω–∞

**–î–∞—Ç–∞**: 2025-01-06  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –º–æ–¥—É–ª–µ–º zod
- –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π frontend
- –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ —Å–±–æ—Ä–∫–∏
- –£—Å–ø–µ—à–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 2. ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –§–∞–∑—ã 2 - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL):
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è 000084: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è pg_trgm –∏ unaccent
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è 000085: –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å–∏–Ω–æ–Ω–∏–º–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è 3 —è–∑—ã–∫–æ–≤
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è 000086: –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

#### Backend (Go):
- ‚úÖ –°–µ—Ä–≤–∏—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ—á–µ—Ç–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å OpenSearch
- ‚úÖ –ù–æ–≤—ã–µ API endpoints —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π fuzzy –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### Frontend (React/Next.js):
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—á–µ—Ç–∫–∏–º –ø–æ–∏—Å–∫–æ–º
- ‚úÖ –ß–µ–∫–±–æ–∫—Å –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è ru/en –ª–æ–∫–∞–ª–µ–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –¥–ª—è storefront products
- –ò–∑–º–µ–Ω–µ–Ω—ã —Å—Å—ã–ª–∫–∏ —Å `/listing/[N]` –Ω–∞ `/marketplace/[N]`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SearchBar

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- ‚úÖ –ü–æ–∏—Å–∫ "–∫–≤–æ—Ä—Ç–∏—Ä–∞" –Ω–∞—Ö–æ–¥–∏—Ç "–∫–≤–∞—Ä—Ç–∏—Ä–∞" —Å –Ω–µ—á–µ—Ç–∫–∏–º –ø–æ–∏—Å–∫–æ–º
- ‚úÖ UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç fuzzy –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
- ‚úÖ –°—Å—ã–ª–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤–µ–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:
- ‚ö†Ô∏è –ù—É–∂–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –º–∞—à–∏–Ω–∞–º–∏)
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î:
- `/backend/migrations/000084_add_text_search_extensions.*`
- `/backend/migrations/000085_create_search_synonyms.*`
- `/backend/migrations/000086_add_category_search_indexes.*`

### Backend —Ñ–∞–π–ª—ã:
- `/backend/internal/proj/marketplace/service/search_query_expansion.go`
- `/backend/internal/storage/postgres/fuzzy_search.go`
- `/backend/internal/proj/marketplace/handler/fuzzy_search.go`

### Frontend —Ñ–∞–π–ª—ã:
- `/frontend/svetu/src/components/SearchBar/SearchBar.tsx`
- `/frontend/svetu/src/app/[locale]/search/SearchPage.tsx`
- `/frontend/svetu/src/messages/{ru,en}.json`

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –Ω–µ—á–µ—Ç–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
3. **–°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏** –æ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ –§–∞–∑–µ 3** - –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:

- ‚úÖ –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ù—É–ª–µ–≤–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3 —è–∑—ã–∫–æ–≤ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (< 50ms)

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `/memory-bank/phase2-fuzzy-search-implementation.md` - –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –§–∞–∑—ã 2
- `/memory-bank/updated-search-improvement-plan.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
- `/memory-bank/session-20250106-search-improvements-completed.md` - –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª