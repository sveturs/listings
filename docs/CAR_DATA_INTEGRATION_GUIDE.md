# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **`CarSelectorCompact`** (`/frontend/svetu/src/components/cars/CarSelectorCompact.tsx`)
  - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Ä–∫–∏ –∏ –º–æ–¥–µ–ª–∏
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç dropdown –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API

#### Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **`CarsHandler`** (`/backend/internal/proj/marketplace/handler/cars.go`)
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **`CarsService`** (`/backend/internal/proj/marketplace/service/cars.go`)
  - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ä–∫–∞–º–∏ –∏ –º–æ–¥–µ–ª—è–º–∏
- **Storage** (`/backend/internal/storage/postgres/cars.go`)
  - PostgreSQL —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è car_makes, car_models, car_generations

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```
GET /api/v1/marketplace/cars/makes              # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–∞—Ä–æ–∫
GET /api/v1/marketplace/cars/makes/{slug}/models # –ú–æ–¥–µ–ª–∏ –¥–ª—è –º–∞—Ä–∫–∏
GET /api/v1/marketplace/cars/models/{id}/generations # –ü–æ–∫–æ–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
GET /api/v1/marketplace/cars/makes/search?q=... # –ü–æ–∏—Å–∫ –º–∞—Ä–æ–∫
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```go
// –ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
type CarMake struct {
    ID           int       `json:"id"`
    Name         string    `json:"name"`
    Slug         string    `json:"slug"`
    Country      string    `json:"country"`
    LogoURL      string    `json:"logo_url"`
    IsActive     bool      `json:"is_active"`
    IsDomestic   bool      `json:"is_domestic"`
    PopularityRS int       `json:"popularity_rs"` // –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –≤ –°–µ—Ä–±–∏–∏
    CreatedAt    time.Time `json:"created_at"`
    UpdatedAt    time.Time `json:"updated_at"`
}

// –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
type CarModel struct {
    ID        int       `json:"id"`
    MakeID    int       `json:"make_id"`
    Name      string    `json:"name"`
    Slug      string    `json:"slug"`
    IsActive  bool      `json:"is_active"`
    SortOrder int       `json:"sort_order"`
    CreatedAt time.Time `json:"created_at"`
    UpdatedAt time.Time `json:"updated_at"`
}

// –ü–æ–∫–æ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
type CarGeneration struct {
    ID         int       `json:"id"`
    ModelID    int       `json:"model_id"`
    Name       string    `json:"name"`
    YearStart  int       `json:"year_start"`
    YearEnd    int       `json:"year_end"`
    IsActive   bool      `json:"is_active"`
    CreatedAt  time.Time `json:"created_at"`
    UpdatedAt  time.Time `json:"updated_at"`
}
```

## Workflow –≤—ã–±–æ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è

1. **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
   - –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–∞–∑–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Volkswagen Golf") —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–ê–≤—Ç–æ–º–æ–±–∏–ª–∏"
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `detectCategory()` —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞**
   - –ö–æ–≥–¥–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–∞–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è (`isCarCategory()`), –ø–æ—è–≤–ª—è–µ—Ç—Å—è `CarSelectorCompact`
   - –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è slug –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: 'automotive', 'cars', 'licni-automobili'

3. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä**
   - –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –º–∞—Ä–æ–∫ (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ `popularity_rs`)
   - –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –º–∞—Ä–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –µ—ë –º–æ–¥–µ–ª–∏
   - –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö —Ñ–æ—Ä–º—ã

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏**
   - –í—ã–±—Ä–∞–Ω–Ω—ã–µ –º–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ –∞—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

### 1. CarAPI.app (–†–ï–ö–û–ú–ï–ù–î–£–Æ) ‚≠ê
- **URL**: https://carapi.app/
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–∞—Ä–∏—Ñ**: Base - $199/–≥–æ–¥ ($16.58/–º–µ—Å—è—Ü)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
  - ‚úÖ –î–∞–Ω–Ω—ã–µ 1900-2026 –≥–æ–¥–æ–≤ (—Å–∞–º—ã–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ!)
  - ‚úÖ 1,500 API –≤—ã–∑–æ–≤–æ–≤ –≤ –¥–µ–Ω—å
  - ‚úÖ VIN –¥–µ–∫–æ–¥–µ—Ä –≤–∫–ª—é—á–µ–Ω
  - ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è REST API
  - ‚úÖ –û—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**:
  - Year/Make/Models (1900-2026)
  - Sub Models (1900-2026)
  - Trims (1990-2026)
  - OBD-II –∫–æ–¥—ã

### 2. Auto-Data.net API (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ï–≤—Ä–æ–ø—ã)
- **URL**: https://api.auto-data.net/
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
  - 54,000+ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
  - –§–æ–∫—É—Å –Ω–∞ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏—Ö –∞–≤—Ç–æ (50%+)
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - 120+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –î–æ—Ä–æ–∂–µ, —Å–ª–æ–∂–Ω–µ–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 3. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
- **NHTSA vPIC API**: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π VIN –¥–µ–∫–æ–¥–µ—Ä –°–®–ê (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: Open source –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è**: –†–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö API

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CarAPI.app

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```env
# .env —Ñ–∞–π–ª
CARAPI_TOKEN=1a0bef70-bdd4-4b43-afea-5836c36d32b1
CARAPI_BASE_URL=https://carapi.app/api
CARAPI_RATE_LIMIT=1500  # –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –¥–ª—è Base —Ç–∞—Ä–∏—Ñ–∞
```

#### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏
curl -H "Authorization: Bearer 1a0bef70-bdd4-4b43-afea-5836c36d32b1" \
  "https://carapi.app/api/makes"

# –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –º–∞—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Volkswagen)
curl -H "Authorization: Bearer 1a0bef70-bdd4-4b43-afea-5836c36d32b1" \
  "https://carapi.app/api/models?make_id=123"

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ (trims) –¥–ª—è –º–æ–¥–µ–ª–∏
curl -H "Authorization: Bearer 1a0bef70-bdd4-4b43-afea-5836c36d32b1" \
  "https://carapi.app/api/trims?model_id=456&year=2024"

# VIN –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
curl -H "Authorization: Bearer 1a0bef70-bdd4-4b43-afea-5836c36d32b1" \
  "https://carapi.app/api/vin/decode?vin=WVWZZZ1JZ3W386752"
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:
```go
// –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ API –ª–∏–º–∏—Ç–æ–≤
type CarAPICache struct {
    redis *redis.Client
    ttl   time.Duration
}

func (c *CarAPICache) GetMakes() ([]CarMake, error) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à
    cached, err := c.redis.Get("car:makes:all").Result()
    if err == nil {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑ –∫–µ—à–∞
        var makes []CarMake
        json.Unmarshal([]byte(cached), &makes)
        return makes, nil
    }
    
    // –ó–∞–ø—Ä–æ—Å –∫ API –µ—Å–ª–∏ –Ω–µ—Ç –≤ –∫–µ—à–µ
    makes, err := c.fetchMakesFromAPI()
    if err != nil {
        return nil, err
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–µ—à –Ω–∞ 24 —á–∞—Å–∞
    data, _ := json.Marshal(makes)
    c.redis.Set("car:makes:all", data, 24*time.Hour)
    
    return makes, nil
}
```

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```go
// –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
type CarDataSyncService struct {
    externalAPI ExternalCarAPI
    storage     CarStorage
    logger      Logger
}

func (s *CarDataSyncService) SyncMakes() error {
    // 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–∞—Ä–æ–∫ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API
    // 2. –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
    // 3. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ/–æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
    // 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å popularity_rs –¥–ª—è —Å–µ—Ä–±—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞
}

func (s *CarDataSyncService) SyncModels(makeSlug string) error {
    // 1. –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –º–∞—Ä–∫–∏
    // 2. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
    // 3. –°–≤—è–∑–∞—Ç—å —Å –ø–æ–∫–æ–ª–µ–Ω–∏—è–º–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
}
```

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```go
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π
type CarTrim struct {
    ID            int    `json:"id"`
    GenerationID  int    `json:"generation_id"`
    Name          string `json:"name"`
    Engine        string `json:"engine"`
    Transmission  string `json:"transmission"`
    DriveType     string `json:"drive_type"`
    FuelType      string `json:"fuel_type"`
    Power         int    `json:"power_hp"`
    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
}
```

### –§–∞–∑–∞ 3: VIN –¥–µ–∫–æ–¥–µ—Ä
```go
func (s *CarDataSyncService) DecodeVIN(vin string) (*VehicleInfo, error) {
    // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è VIN
    // 2. –ó–∞–ø—Ä–æ—Å –∫ –≤–Ω–µ—à–Ω–µ–º—É API
    // 3. –ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
    // 4. –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ —Ñ–æ—Ä–º–µ
}
```

## –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
```sql
-- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã car_makes
ALTER TABLE car_makes ADD COLUMN IF NOT EXISTS 
    logo_url VARCHAR(255),
    manufacturer_id VARCHAR(100), -- ID –≤–æ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ
    last_sync_at TIMESTAMP;

-- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã car_models  
ALTER TABLE car_models ADD COLUMN IF NOT EXISTS
    external_id VARCHAR(100),
    body_type VARCHAR(50),
    segment VARCHAR(20);

-- –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π
CREATE TABLE IF NOT EXISTS car_trims (
    id SERIAL PRIMARY KEY,
    generation_id INTEGER REFERENCES car_generations(id),
    name VARCHAR(255) NOT NULL,
    engine VARCHAR(100),
    transmission VARCHAR(50),
    drive_type VARCHAR(20),
    fuel_type VARCHAR(20),
    power_hp INTEGER,
    torque_nm INTEGER,
    fuel_consumption_city DECIMAL(4,2),
    fuel_consumption_highway DECIMAL(4,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### Cron –∑–∞–¥–∞—á–∏
```yaml
# –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–∞—Ä–æ–∫
0 2 1 * * /app/sync-car-makes

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π  
0 3 * * 1 /app/sync-popular-models

# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
0 4 * * * /app/sync-new-models
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–µ—Ä–±—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞

### –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–∞—Ä–æ–∫ (2024-2025)
1. ≈†koda (Octavia, Fabia, Kamiq)
2. Citro√´n (C3)
3. Toyota (Corolla)
4. Volkswagen (Golf, Passat, Polo)
5. Fiat (–ø–æ–ø—É–ª—è—Ä–µ–Ω –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏)

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞—Ä–∫–∏ (Zastava, Yugo) –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç –≤–æ –≤–Ω–µ—à–Ω–∏—Ö API
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `is_domestic` –¥–ª—è —Å–µ—Ä–±—Å–∫–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
- –£—á–∏—Ç—ã–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –¥–∏–∑–µ–ª—å–Ω—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –º–∞—Ä–æ–∫/–º–æ–¥–µ–ª–µ–π –≤ –º–µ—Å—è—Ü
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VIN –¥–µ–∫–æ–¥–µ—Ä–∞
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–∞—Ä–æ–∫ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```go
logger.Info("Car sync started", 
    zap.String("source", "vehicledatabases"),
    zap.Int("makes_count", len(makes)))

logger.Error("Sync failed",
    zap.String("make", make.Name),
    zap.Error(err))
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ rate limit –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```go
func TestCarSyncService_SyncMakes(t *testing.T) {
    // –ú–æ–∫ –≤–Ω–µ—à–Ω–µ–≥–æ API
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –¢–µ—Å—Ç VIN –¥–µ–∫–æ–¥–µ—Ä–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ VIN
- –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä–µ–º–µ –¥–∞–Ω–Ω—ã—Ö

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è CarAPI.app (Base —Ç–∞—Ä–∏—Ñ)

### ‚úÖ –§–∞–∑–∞ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ù–µ–¥–µ–ª—è 1)
1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```bash
   CARAPI_TOKEN=1a0bef70-bdd4-4b43-afea-5836c36d32b1
   CARAPI_BASE_URL=https://carapi.app/api
   CARAPI_RATE_LIMIT=1500
   ```

2. **–°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –¥–ª—è CarAPI**
   ```go
   // internal/integrations/carapi/client.go
   type CarAPIClient struct {
       token      string
       baseURL    string
       httpClient *http.Client
       rateLimit  int
       cache      CacheInterface
   }
   ```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**
   - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–∞—Ä–æ–∫
   - –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å VIN –¥–µ–∫–æ–¥–µ—Ä

### ‚úÖ –§–∞–∑–∞ 2: –ü–µ—Ä–≤–∏—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–ù–µ–¥–µ–ª—è 2)
1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–∞—Ä–æ–∫
   - –°–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≤ –ë–î
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä–∫–∏

2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏**
   - ≈†koda, Volkswagen, Toyota, Fiat, Citro√´n
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å popularity_rs –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Å—Ç–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Redis –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
   - TTL 24 —á–∞—Å–∞ –¥–ª—è –º–∞—Ä–æ–∫/–º–æ–¥–µ–ª–µ–π
   - TTL 7 –¥–Ω–µ–π –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π

### ‚úÖ –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UI (–ù–µ–¥–µ–ª—è 3)
1. **–û–±–Ω–æ–≤–∏—Ç—å CarsService**
   - –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ CarAPI –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤ –ë–î
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å lazy loading –º–æ–¥–µ–ª–µ–π
   - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π

2. **–†–∞—Å—à–∏—Ä–∏—Ç—å CarSelectorCompact**
   - –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π dropdown –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π (trim)
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–π
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å VIN –¥–µ–∫–æ–¥–µ—Ä

3. **–î–æ–±–∞–≤–∏—Ç—å VIN –ø–æ–ª–µ –≤ —Ñ–æ—Ä–º—É**
   - –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ VIN
   - –í–∞–ª–∏–¥–∞—Ü–∏—è VIN —Ñ–æ—Ä–º–∞—Ç–∞
   - –ü–æ–∫–∞–∑ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –§–∞–∑–∞ 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ù–µ–¥–µ–ª—è 4)
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –∑–∞–¥–∞—á–∏**
   ```yaml
   # –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
   0 3 * * * /app/bin/sync-car-models --new-only
   
   # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
   0 4 * * 0 /app/bin/sync-car-models --full
   
   # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
   */30 * * * * /app/bin/check-carapi-usage
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏**
   - –°—á–µ—Ç—á–∏–∫ API –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü—Ä–æ—Ü–µ–Ω—Ç –∫–µ—à –ø–æ–ø–∞–¥–∞–Ω–∏–π
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –º–∞—Ä–æ–∫/–º–æ–¥–µ–ª–µ–π

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã**
   - –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 80% –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
   - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
   - –ü—Ä–∏ –Ω–∏–∑–∫–æ–º –ø—Ä–æ—Ü–µ–Ω—Ç–µ –∫–µ—à–∞

### üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: 100% –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π 2024-2026
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 90%+ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫–µ—à–∞
- **UX —É–ª—É—á—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ VIN –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª—è—Ö

### üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
1. **–ê–ø–≥—Ä–µ–π–¥ –Ω–∞ Plus —Ç–∞—Ä–∏—Ñ** –ø—Ä–∏ —Ä–æ—Å—Ç–µ —Ç—Ä–∞—Ñ–∏–∫–∞
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π** (–¥–≤–∏–≥–∞—Ç–µ–ª—å, —Ç—Ä–∞–Ω—Å–º–∏—Å—Å–∏—è)
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º** –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–æ–¥–µ–ª–∏ –∏ –≥–æ–¥–∞
4. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ—Ö–æ–∂–∏—Ö –º–æ–¥–µ–ª–µ–π** –ø—Ä–∏ –ø–æ–∏—Å–∫–µ