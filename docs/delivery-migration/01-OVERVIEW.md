# Delivery Microservice Migration: Clean Cut Plan

**Ð”Ð°Ñ‚Ð°**: 2025-10-22
**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°**: Pre-production (Ð½Ðµ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐ½Ðµ)
**ÐŸÐ¾Ð´Ñ…Ð¾Ð´**: ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð±ÐµÐ· Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸
**Ð¡Ñ€Ð¾Ðº**: 3-4 Ð½ÐµÐ´ÐµÐ»Ð¸

> **ðŸ“š Ð’ÐÐ–ÐÐž**: Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð» ÑÑ‚Ð°Ð» Ð¾Ñ‡ÐµÐ½ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð¼ (3337 ÑÑ‚Ñ€Ð¾Ðº).
> Ð”Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð° **Ð¼Ð¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ** Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ `delivery-migration/`.
>
> **ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ**: [delivery-migration/README.md](delivery-migration/README.md)
>
> ÐœÐ¾Ð´ÑƒÐ»ÑŒÐ½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚:
> - ðŸ“‹ ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ð°Ð¼
> - ðŸš€ Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð½ÑƒÑŽ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ (Docker, Nginx, Ð¿Ð¾Ñ€Ñ‚Ñ‹)
> - ðŸ“ ÐŸÐ¾ÑˆÐ°Ð³Ð¾Ð²Ñ‹Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
> - âœ… Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚Ñ‹ Ð¿Ð¾ Ñ„Ð°Ð·Ð°Ð¼
> - ðŸ” Troubleshooting guide

---

## ðŸŽ¯ Ð¦ÐµÐ»ÑŒ

Ð’Ñ‹Ð½ÐµÑÑ‚Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¸Ð· Ð¼Ð¾Ð½Ð¾Ð»Ð¸Ñ‚Ð° Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ gRPC Ð¼Ð¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸Ñ **Ð‘Ð•Ð—** Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‹Ñ… ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¹, feature flags Ð¸ canary deployment.

**ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿**: Clean Cut - ÑƒÐ´Ð°Ð»ÑÐµÐ¼ ÑÑ‚Ð°Ñ€Ð¾Ðµ, Ð²Ð½ÐµÐ´Ñ€ÑÐµÐ¼ Ð½Ð¾Ð²Ð¾Ðµ, Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… ÐºÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑÐ¾Ð².

---

## ðŸ“Š Ð§Ñ‚Ð¾ ÐµÑÑ‚ÑŒ ÑÐµÐ¹Ñ‡Ð°Ñ

### ÐœÐ¾Ð½Ð¾Ð»Ð¸Ñ‚: `backend/internal/proj/delivery/`

**~2500 ÑÑ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð°, Ð¿Ð¾Ð»Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ**:
- âœ… Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ DeliveryProvider
- âœ… Factory Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ð¾Ð²
- âœ… Post Express Ð°Ð´Ð°Ð¿Ñ‚ÐµÑ€ (B2B Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ)
- âœ… Mock Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ñ‹ (6+ ÑˆÑ‚ÑƒÐº)
- âœ… Service layer (Ñ€Ð°ÑÑ‡ÐµÑ‚, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ, Ñ‚Ñ€ÐµÐºÐ¸Ð½Ð³)
- âœ… Storage layer (PostgreSQL)
- âœ… Calculator (Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑƒÐ¿Ð°ÐºÐ¾Ð²ÐºÐ¸)
- âœ… Attributes (Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²)
- âœ… Admin (ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ, Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°)
- âœ… Notifications (ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ)

### ÐœÐ¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸Ñ: `github.com/sveturs/delivery`

**~35% Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐºÐµÐ»ÐµÑ‚**:
- âœ… Proto API (gRPC ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ)
- âœ… Database + migrations
- âœ… Config management
- âœ… Logging infrastructure
- âœ… Makefile (build/lint/test)
- âŒ Domain models - ÐÐ•Ð¢
- âŒ Service layer - ÐÐ•Ð¢
- âŒ Repository - ÐÐ•Ð¢
- âŒ Gateway (Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ñ‹) - ÐÐ•Ð¢
- âŒ Tests - ÐÐ•Ð¢

---

## ðŸ“ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: Ð¢ÐµÐºÑƒÑ‰Ð°Ñ vs Ð¦ÐµÐ»ÐµÐ²Ð°Ñ

### Ð¢Ð•ÐšÐ£Ð©Ð•Ð• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð•: ÐœÐ¾Ð½Ð¾Ð»Ð¸Ñ‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ÐœÐžÐÐžÐ›Ð˜Ð¢ (backend/)                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ internal/proj/                                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ marketplace/      # Marketplace Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð¸Ñ         â”‚   â”‚
â”‚  â”‚  â”œâ”€ storefronts/      # Ð’Ð¸Ñ‚Ñ€Ð¸Ð½Ñ‹ Ð¿Ñ€Ð¾Ð´Ð°Ð²Ñ†Ð¾Ð²              â”‚   â”‚
â”‚  â”‚  â”œâ”€ users/            # ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ payments/         # ÐŸÐ»Ð°Ñ‚ÐµÐ¶Ð¸                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ notifications/    # Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ chat/             # Ð§Ð°Ñ‚                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ search/           # ÐŸÐ¾Ð¸ÑÐº (OpenSearch)             â”‚   â”‚
â”‚  â”‚  â”œâ”€ admin/            # ÐÐ´Ð¼Ð¸Ð½ÐºÐ°                        â”‚   â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚  â””â”€ delivery/         # âš ï¸ DELIVERY (2500 ÑÑ‚Ñ€Ð¾Ðº)       â”‚   â”‚
â”‚  â”‚      â”œâ”€ calculator/   # Ð Ð°ÑÑ‡ÐµÑ‚ ÑÑ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚Ð¸               â”‚   â”‚
â”‚  â”‚      â”œâ”€ factory/      # Provider factory               â”‚   â”‚
â”‚  â”‚      â”œâ”€ handler/      # REST handlers                  â”‚   â”‚
â”‚  â”‚      â”œâ”€ interfaces/   # DeliveryProvider interface     â”‚   â”‚
â”‚  â”‚      â”œâ”€ models/       # Domain models                  â”‚   â”‚
â”‚  â”‚      â”œâ”€ service/      # Business logic                 â”‚   â”‚
â”‚  â”‚      â”œâ”€ storage/      # PostgreSQL repos               â”‚   â”‚
â”‚  â”‚      â”œâ”€ attributes/   # Ð¢Ð¾Ð²Ð°Ñ€Ð½Ñ‹Ðµ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹              â”‚   â”‚
â”‚  â”‚      â””â”€ notifications/# Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸ÑÐ¼Ð¸     â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ internal/proj/postexpress/  # Post Express Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ  â”‚   â”‚
â”‚  â”‚  â”œâ”€ client.go               # HTTP ÐºÐ»Ð¸ÐµÐ½Ñ‚ API          â”‚   â”‚
â”‚  â”‚  â”œâ”€ service.go              # Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°           â”‚   â”‚
â”‚  â”‚  â”œâ”€ types.go                # Request/Response Ñ‚Ð¸Ð¿Ñ‹    â”‚   â”‚
â”‚  â”‚  â””â”€ config.go               # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ storage/postgres/                                       â”‚   â”‚
â”‚  â”‚  â””â”€ svetubd (Ð‘Ð” Ð¼Ð¾Ð½Ð¾Ð»Ð¸Ñ‚Ð°)                             â”‚   â”‚
â”‚  â”‚     â”œâ”€ marketplace_listings                            â”‚   â”‚
â”‚  â”‚     â”œâ”€ users                                           â”‚   â”‚
â”‚  â”‚     â”œâ”€ delivery_shipments          âš ï¸                  â”‚   â”‚
â”‚  â”‚     â”œâ”€ delivery_providers          âš ï¸                  â”‚   â”‚
â”‚  â”‚     â”œâ”€ delivery_tracking_events    âš ï¸                  â”‚   â”‚
â”‚  â”‚     â””â”€ delivery_category_defaults  âš ï¸                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ = Ð‘ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ½ÐµÑÐµÐ½Ð¾ Ð² Ð¼Ð¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸Ñ
```

### Ð¦Ð•Ð›Ð•Ð’ÐžÐ• Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð•: ÐœÐ¾Ð½Ð¾Ð»Ð¸Ñ‚ + ÐœÐ¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ÐœÐžÐÐžÐ›Ð˜Ð¢ (backend/)                 â”‚   â”‚  DELIVERY MICROSERVICE          â”‚
â”‚                                      â”‚   â”‚  (github.com/sveturs/delivery)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚                                 â”‚
â”‚  â”‚ internal/proj/                 â”‚ â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                 â”‚ â”‚   â”‚  â”‚ cmd/server/              â”‚  â”‚
â”‚  â”‚  â”œâ”€ marketplace/                â”‚ â”‚   â”‚  â”‚  â””â”€ main.go              â”‚  â”‚
â”‚  â”‚  â”œâ”€ storefronts/                â”‚ â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â”œâ”€ users/                      â”‚ â”‚   â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ payments/                   â”‚ â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”œâ”€ notifications/              â”‚ â”‚   â”‚  â”‚ internal/                â”‚  â”‚
â”‚  â”‚  â”œâ”€ chat/                       â”‚ â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ search/                     â”‚ â”‚   â”‚  â”‚  â”œâ”€ domain/              â”‚  â”‚
â”‚  â”‚  â”œâ”€ admin/                      â”‚ â”‚   â”‚  â”‚  â”‚  â””â”€ models.go         â”‚  â”‚
â”‚  â”‚  â”‚                               â”‚ â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚  â””â”€ delivery/  âœ… Ð¢ÐžÐÐšÐ˜Ð™ Ð¡Ð›ÐžÐ™   â”‚ â”‚   â”‚  â”‚  â”œâ”€ repository/         â”‚  â”‚
â”‚  â”‚      â”œâ”€ client.go  (gRPC wrap) â”‚ â”‚   â”‚  â”‚  â”‚  â””â”€ postgres/         â”‚  â”‚
â”‚  â”‚      â”œâ”€ handler.go (proxy)     â”‚ â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚  â”‚      â”œâ”€ module.go  (init)      â”‚ â”‚   â”‚  â”‚  â”œâ”€ service/             â”‚  â”‚
â”‚  â”‚      â””â”€ types.go   (req/resp)  â”‚ â”‚   â”‚  â”‚  â”‚  â”œâ”€ delivery.go       â”‚  â”‚
â”‚  â”‚                                 â”‚ â”‚   â”‚  â”‚  â”‚  â”œâ”€ calculator.go     â”‚  â”‚
â”‚  â”‚      (~150 ÑÑ‚Ñ€Ð¾Ðº Ð²Ð¼ÐµÑÑ‚Ð¾ 2500)  â”‚ â”‚   â”‚  â”‚  â”‚  â””â”€ tracking.go       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚                                      â”‚   â”‚  â”‚  â”œâ”€ gateway/             â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”‚  â”‚  â””â”€ provider/         â”‚  â”‚
â”‚  â”‚ go.mod                          â”‚ â”‚   â”‚  â”‚      â”œâ”€ interface.go    â”‚  â”‚
â”‚  â”‚  require (                      â”‚ â”‚   â”‚  â”‚      â”œâ”€ factory.go      â”‚  â”‚
â”‚  â”‚   github.com/sveturs/delivery  â”‚â†â”€â”¼â”€â”€â”€â”¼â”€â”€â”‚      â”œâ”€ postexpress/    â”‚  â”‚
â”‚  â”‚     v1.0.0                      â”‚ â”‚   â”‚  â”‚      â”œâ”€ dex/            â”‚  â”‚
â”‚  â”‚  )                              â”‚ â”‚   â”‚  â”‚      â””â”€ mock/           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚                                      â”‚   â”‚  â”‚  â””â”€ server/              â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”‚      â””â”€ grpc/            â”‚  â”‚
â”‚  â”‚ PostgreSQL: svetubd             â”‚ â”‚   â”‚  â”‚          â””â”€ delivery.go â”‚  â”‚
â”‚  â”‚  â”œâ”€ marketplace_listings        â”‚ â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  â”œâ”€ users                       â”‚ â”‚   â”‚                                 â”‚
â”‚  â”‚  â”œâ”€ storefronts                 â”‚ â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â””â”€ ... (Ð²ÑÐµ ÐºÑ€Ð¾Ð¼Ðµ delivery)   â”‚ â”‚   â”‚  â”‚ PostgreSQL: delivery_db  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚  â”œâ”€ shipments            â”‚  â”‚
â”‚                                      â”‚   â”‚  â”‚  â”œâ”€ tracking_events      â”‚  â”‚
â”‚                         gRPC Request â”‚   â”‚  â”‚  â””â”€ providers            â”‚  â”‚
â”‚  handlers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”¤                          â”‚  â”‚
â”‚       â”‚                              â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚ CreateShipment()             â”‚   â”‚                                 â”‚
â”‚       â”‚ TrackShipment()              â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â””â”€â”€> deliveryService.xxx() â”€â”€â”€â”¼â”€â”€â”€â”¼â”€>â”‚ gRPC Server :50052       â”‚  â”‚
â”‚            (pkg/service wrapper)     â”‚   â”‚  â”‚                          â”‚  â”‚
â”‚                                      â”‚   â”‚  â”‚  CreateShipment()        â”‚  â”‚
