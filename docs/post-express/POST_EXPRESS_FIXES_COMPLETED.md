# Post Express Integration - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚úÖ

## –î–∞—Ç–∞: 2025-09-09

## –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö API

#### ‚ùå –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```go
// –û–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø–æ–ª—è
IdVrstaTranskacije int `json:"IdVrstaTranskacije"`

// –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö
IdTipUredjaja int `json:"IdTipUredjaja"`

// –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–µ—Ä–≤–∏—Å–∞
Servis: 3 // –¥–ª—è WSP API
```

#### ‚úÖ –°—Ç–∞–ª–æ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ):
```go
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è
IdVrstaTransakcije int `json:"IdVrstaTransakcije"`

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø - —Å—Ç—Ä–æ–∫–∞
IdTipUredjaja string `json:"IdTipUredjaja"` // "2" –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è B2B –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
Servis: 101 // –¥–ª—è B2B –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è B2B –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ClientData:
```go
IdPartnera int `json:"IdPartnera,omitempty"` // Partner ID: 10109
```

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ WSPConfig:
```go
PartnerID int // 10109 –¥–ª—è svetu.rs
```

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç:
```go
IdPartnera:     10109 // Partner ID –¥–ª—è svetu.rs
NazivManifesta: "SVETU-20250909-150405" // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è
Email:          "b2b@svetu.rs" // –î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –ø–æ—Å—ã–ª–æ–∫

```go
// –ì–∞–±–∞—Ä–∏—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏)
Duzina: 30 // —Å–º
Sirina: 20 // —Å–º  
Visina: 10 // —Å–º

// –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
ReferencaBroj: "SVETU-1234567890"
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **backend/internal/proj/postexpress/service/client.go**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Servis: 101 (–Ω–µ 3)
   - IdTipUredjaja —Ç–µ–ø–µ—Ä—å —Å—Ç—Ä–æ–∫–∞ "2"
   - –î–æ–±–∞–≤–ª–µ–Ω PartnerID –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

2. **backend/internal/proj/postexpress/models/models.go**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ IdVrstaTransakcije (—É–±—Ä–∞–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞)
   - IdTipUredjaja –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ string
   - –î–æ–±–∞–≤–ª–µ–Ω IdPartnera –≤ ClientData

3. **backend/internal/proj/postexpress/service/manifest.go**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –≥–∞–±–∞—Ä–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –Ω–æ–º–µ—Ä

4. **backend/internal/server/server.go**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å PartnerID
   - DeviceType —Ç–µ–ø–µ—Ä—å —Å—Ç—Ä–æ–∫–∞ "2"

5. **backend/internal/proj/postexpress/service/interface.go**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç:
`backend/scripts/test_post_express_integration_fixed.go`

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:
1. ‚úÖ –ü–æ–∏—Å–∫ –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 3)
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 73)
3. ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å—ã–ª–∫–∏ (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 15)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞:
```bash
cd /data/hostel-booking-system/backend
go run scripts/test_post_express_integration_fixed.go
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```bash
cd /data/hostel-booking-system/backend
go build ./...
# –†–µ–∑—É–ª—å—Ç–∞—Ç: SUCCESS - –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–µ–Ω—å 2 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∑–∞–≤—Ç—Ä–∞):
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å—ã–ª–æ–∫
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫

### –î–µ–Ω—å 3 - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
1. –î–µ–ø–ª–æ–π –Ω–∞ staging
2. E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –î–µ–ø–ª–æ–π –Ω–∞ production
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## üìù –í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è production:

```yaml
Endpoint: https://wsp.postexpress.rs/api/Transakcija
Username: b2b@svetu.rs
Password: Vu3@#45$%67&*89()
Partner ID: 10109
Service: 101 (B2B)
Device Type: "2" (Web)
Transaction Type: 73 (Manifest)
```

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã:

1. **Servis –î–û–õ–ñ–ï–ù –±—ã—Ç—å 101** –¥–ª—è B2B –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ (–Ω–µ 3!)
2. **IdTipUredjaja –î–û–õ–ñ–ï–ù –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π "2"** (–Ω–µ —á–∏—Å–ª–æ–º!)
3. **IdVrstaTransakcije** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ IdVrstaTranskacije!)
4. **Partner ID 10109** –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
5. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 73** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—ã–ª–æ–∫ (–Ω–µ 63!)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:

‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
‚úÖ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
‚úÖ –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º API

---

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å production API!**