# üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò: AI-powered —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤–∏—Ç—Ä–∏–Ω

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è. –í–°–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –¢–û–õ–¨–ö–û –≤ —ç—Ç–æ—Ç —Ñ–∞–π–ª!
–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –ø–ª–∞–Ω–æ–≤ - –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç.

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 30.09.2025 10:21*
*–í–µ—Ä—Å–∏—è: 1.0.0*
*–°—Ç–∞—Ç—É—Å: –ê–ö–¢–ò–í–ù–´–ô*

---

## üéØ EXECUTIVE SUMMARY

**–¶–µ–ª—å:** –í–Ω–µ–¥—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É AI-powered —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤–∏—Ç—Ä–∏–Ω –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞.

**–°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑—É—á–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è AI-—Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑—É—á–µ–Ω–∞ —Ç–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤–∏—Ç—Ä–∏–Ω
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ñ—Ä–æ–Ω—Ç, –±—ç–∫, OpenSearch, S3) –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìä 1. –ê–ù–ê–õ–ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –°–ò–°–¢–ï–ú

### 1.1 Marketplace AI-powered Listings (–≠–¢–ê–õ–û–ù)

**Frontend:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞: `/app/[locale]/create-listing-ai/page.tsx` (3184 —Å—Ç—Ä–æ–∫–∏)
- Workflow: Upload ‚Üí Process (AI) ‚Üí Enhance ‚Üí Publish
- AI —Å–µ—Ä–≤–∏—Å—ã:
  - `claude.service.ts` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude API
  - `categoryDetector.ts` - –¥–µ—Ç–µ–∫—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**Backend:**
- AI Handler: `marketplace/handler/ai_category.go` (11 endpoints)
- AI Detector: `marketplace/services/ai_category_detector.go` (1632 —Å—Ç—Ä–æ–∫–∏!)
- Claude API: `claude-3-haiku-20240307` / `claude-3-5-sonnet-20241022`
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: PostgreSQL (`ai_category_decisions`), Redis, in-memory
- –¢–æ—á–Ω–æ—Å—Ç—å: **99%**

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ü§ñ –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üéØ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (99% —Ç–æ—á–Ω–æ—Å—Ç—å)
- üåç –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (en/ru/sr)
- üìç EXIF GPS extraction + –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö° A/B testing –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- üì± –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
- üìä Market insights
- üöó –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

### 1.2 Storefront Products (–¢–ï–ö–£–©–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø)

**Frontend:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞: `/app/[locale]/storefronts/[slug]/products/new/page.tsx`
- Wizard: 7 —à–∞–≥–æ–≤ (Category ‚Üí Basic ‚Üí Location ‚Üí Attributes ‚Üí Variants ‚Üí Photos ‚Üí Preview)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: `CreateProductContext` —Å reducer

**Backend:**
- Handler: `storefronts/handler/product_handler.go`
- Service: `storefronts/service/product_service.go`
- Storage: PostgreSQL + OpenSearch + MinIO
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: Variants, Location, Attributes

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã:**
- ‚ùå –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ä–∏—Å–∫ –æ—à–∏–±–∫–∏)
- ‚ùå –†—É—á–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π
- ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚ùå –ù–µ—Ç AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üèóÔ∏è 2. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ï–®–ï–ù–ò–Ø

### 2.1 –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FRONTEND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                  ‚îÇ
‚îÇ  /storefronts/[slug]/products/new-ai/page.tsx   ‚îÇ  ‚Üê –ù–û–í–ê–Ø –°–¢–†–ê–ù–ò–¶–ê
‚îÇ  ‚îî‚îÄ 4 —ç—Ç–∞–ø–∞: Upload ‚Üí Process ‚Üí Enhance ‚Üí Publish‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ  /services/ai/storefronts.service.ts            ‚îÇ  ‚Üê –ù–û–í–´–ô –°–ï–†–í–ò–°
‚îÇ  ‚îî‚îÄ analyzeProductImage()                       ‚îÇ
‚îÇ  ‚îî‚îÄ translateProductContent()                   ‚îÇ
‚îÇ  ‚îî‚îÄ abTestTitles()                              ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ  /contexts/CreateAIProductContext.tsx           ‚îÇ  ‚Üê –ù–û–í–´–ô –ö–û–ù–¢–ï–ö–°–¢
‚îÇ  ‚îî‚îÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º AI-—Å–æ–∑–¥–∞–Ω–∏—è           ‚îÇ
‚îÇ                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BACKEND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                  ‚îÇ
‚îÇ  storefronts/handler/ai_product_handler.go      ‚îÇ  ‚Üê –ù–û–í–´–ô HANDLER
‚îÇ  ‚îî‚îÄ AnalyzeProductImage()                       ‚îÇ
‚îÇ  ‚îî‚îÄ DetectCategory()                            ‚îÇ
‚îÇ  ‚îî‚îÄ ABTestTitles()                              ‚îÇ
‚îÇ  ‚îî‚îÄ TranslateContent()                          ‚îÇ
‚îÇ                                                  ‚îÇ
‚îÇ  storefronts/service/ai_product_service.go      ‚îÇ  ‚Üê –ù–û–í–´–ô –°–ï–†–í–ò–°
‚îÇ  ‚îî‚îÄ analyzeWithClaude()                         ‚îÇ
‚îÇ  ‚îî‚îÄ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç AICategoryDetector           ‚îÇ
‚îÇ     –∏–∑ marketplace!                              ‚îÇ
‚îÇ                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SHARED COMPONENTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                          ‚îÇ
‚îÇ  marketplace/services/ai_category_detector.go  ‚îÇ  ‚Üê –ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú!
‚îÇ  marketplace/handler/ai_category.go            ‚îÇ  ‚Üê –ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú!
‚îÇ  proj/ai/handler/handler.go                    ‚îÇ  ‚Üê –ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú!
‚îÇ                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

**–í–ê–ñ–ù–û:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é AI-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞!

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–æ–¥—Ö–æ–¥ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|--------|-------------|
| Category Detection | **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** `AICategoryDetector` | –¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞, —Ç–æ—Ç –∂–µ —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| Claude API Client | **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** `/proj/ai/handler` | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—ã–∑–æ–≤–∞ Claude API |
| AI Decision Cache | **–†–∞—Å—à–∏—Ä–∏—Ç—å** —Ç–∞–±–ª–∏—Ü—É `ai_category_decisions` | –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `entity_type` (listing/product) |
| Image Analysis Prompts | **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ** –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –≤–∏—Ç—Ä–∏–Ω | –°–ø–µ—Ü–∏—Ñ–∏–∫–∞: –≤–∞—Ä–∏–∞–Ω—Ç—ã, inventory, SKU |

---

## üìù 3. –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠–¢–ê–ü 1: Backend –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (4-5 –¥–Ω–µ–π)

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –ü–†–û–¶–ï–°–°–ï (60% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 1.1 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ AI Category Detector –¥–ª—è –≤–∏—Ç—Ä–∏–Ω

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–§–∞–π–ª:** `/backend/internal/proj/marketplace/services/ai_category_detector.go`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```go
// –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É entity_type
type AIDetectionInput struct {
    Title       string   `json:"title"`
    Description string   `json:"description"`
    AIHints     *AIHints `json:"aiHints,omitempty"`
    EntityType  string   `json:"entityType"`  // ‚Üê –ù–û–í–û–ï: "listing" –∏–ª–∏ "product"
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}

// –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
func (d *AICategoryDetector) getAIDecisionFromCache(...) {
    query := `
        SELECT ...
        FROM ai_category_decisions
        WHERE title_hash = $1
          AND entity_type = $2  -- ‚Üê –ù–û–í–û–ï
          AND created_at > NOW() - INTERVAL '30 days'
    `
    // ...
}
```

#### 1.2 –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
- `/backend/migrations/000023_add_entity_type_to_ai_decisions.up.sql`
- `/backend/migrations/000023_add_entity_type_to_ai_decisions.down.sql`

**–ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ –ë–î:** ‚úÖ –î–∞

```sql
-- UP
ALTER TABLE ai_category_decisions
ADD COLUMN entity_type VARCHAR(20) DEFAULT 'listing' NOT NULL;

ALTER TABLE ai_category_decisions
DROP CONSTRAINT ai_category_decisions_title_hash_key;

ALTER TABLE ai_category_decisions
ADD CONSTRAINT ai_category_decisions_unique_hash
UNIQUE (title_hash, entity_type);

CREATE INDEX idx_ai_decisions_entity_type
ON ai_category_decisions(entity_type, created_at DESC);

-- DOWN
ALTER TABLE ai_category_decisions
DROP CONSTRAINT ai_category_decisions_unique_hash;

ALTER TABLE ai_category_decisions
ADD CONSTRAINT ai_category_decisions_title_hash_key
UNIQUE (title_hash);

DROP INDEX idx_ai_decisions_entity_type;

ALTER TABLE ai_category_decisions
DROP COLUMN entity_type;
```

#### 1.3 –ù–æ–≤—ã–π AI Product Handler

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `/backend/internal/proj/storefronts/handler/ai_product_handler.go` (230 —Å—Ç—Ä–æ–∫)

**–û—Å–Ω–æ–≤–Ω—ã–µ endpoints:**
- `POST /api/v1/storefronts/ai/analyze-product-image` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `POST /api/v1/storefronts/ai/detect-category` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `POST /api/v1/storefronts/ai/ab-test-titles` - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- `POST /api/v1/storefronts/ai/translate-content` - –ø–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `GET /api/v1/storefronts/ai/metrics` - –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏

```go
package handler

import (
    "github.com/gofiber/fiber/v2"
    "github.com/your-org/backend/internal/proj/marketplace/services"
)

type AIProductHandler struct {
    categoryDetector *services.AICategoryDetector  // –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º!
    aiHandler        *ai.Handler                   // –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º!
    logger           *zap.Logger
}

// @Summary Analyze product image with AI
// @Tags AI Storefronts
// @Accept json
// @Produce json
// @Param request body AnalyzeProductImageRequest true "Image data"
// @Success 200 {object} AnalyzeProductImageResponse
// @Router /api/v1/storefronts/ai/analyze-product-image [post]
func (h *AIProductHandler) AnalyzeProductImage(c *fiber.Ctx) error {
    var req AnalyzeProductImageRequest
    if err := c.BodyParser(&req); err != nil {
        return fiber.NewError(fiber.StatusBadRequest, "Invalid request body")
    }

    // –í—ã–∑–æ–≤ Claude API —á–µ—Ä–µ–∑ –æ–±—â–∏–π AI handler
    claudeReq := ai.AnalyzeImageRequest{
        ImageBase64:  req.ImageData,
        UserLanguage: req.Language,
        EntityType:   "storefront_product",  // ‚Üê –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø
    }

    result, err := h.aiHandler.AnalyzeImage(c.Context(), claudeReq)
    if err != nil {
        return fiber.NewError(fiber.StatusInternalServerError, err.Error())
    }

    return c.JSON(result)
}

// @Summary Detect category for storefront product
// @Tags AI Storefronts
// @Accept json
// @Produce json
// @Param request body DetectCategoryRequest true "Product details"
// @Success 200 {object} AIDetectionResult
// @Router /api/v1/storefronts/ai/detect-category [post]
func (h *AIProductHandler) DetectCategory(c *fiber.Ctx) error {
    var req DetectCategoryRequest
    if err := c.BodyParser(&req); err != nil {
        return fiber.NewError(fiber.StatusBadRequest, "Invalid request")
    }

    // –°–æ–∑–¥–∞–µ–º input –¥–ª—è –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
    input := services.AIDetectionInput{
        Title:       req.Title,
        Description: req.Description,
        AIHints:     req.AIHints,
        EntityType:  "product",  // ‚Üê –í–ê–ñ–ù–û!
    }

    // –í—ã–∑—ã–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–µ—Ç–µ–∫—Ç–æ—Ä
    result, err := h.categoryDetector.DetectWithAIFallback(c.Context(), input)
    if err != nil {
        return fiber.NewError(fiber.StatusInternalServerError, err.Error())
    }

    return c.JSON(result)
}
```

#### 1.4 AI Product Service

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º marketplace AI infrastructure)

**–†–µ—à–µ–Ω–∏–µ:** –í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ AI Product Service, –º—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º:
- `marketplace/services/AICategoryDetector` (—Å entity_type="product")
- `ai/handler/Handler` (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π AI handler)

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –∏–∑–±–µ–≥–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

```go
package service

import (
    "context"
    "github.com/your-org/backend/internal/proj/marketplace/services"
)

type AIProductService struct {
    aiCategoryDetector *services.AICategoryDetector
    productService     *ProductService
    aiHandler          *ai.Handler
}

func NewAIProductService(...) *AIProductService {
    return &AIProductService{
        aiCategoryDetector: aiCategoryDetector,  // Inject from marketplace!
        productService:     productService,
        aiHandler:          aiHandler,
    }
}

// CreateProductWithAI - –ø–æ–ª–Ω—ã–π AI-powered flow
func (s *AIProductService) CreateProductWithAI(ctx context.Context,
                                               storefrontID int,
                                               userID int,
                                               aiData *AIProductData) (*models.StorefrontProduct, error) {

    // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è
    if err := s.validateAIProductData(aiData); err != nil {
        return nil, err
    }

    // 2. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ CreateProductRequest –∏–∑ AI –¥–∞–Ω–Ω—ã—Ö
    req := &models.CreateProductRequest{
        Name:          aiData.Title,
        Description:   aiData.Description,
        Price:         aiData.Price,
        Currency:      aiData.Currency,
        CategoryID:    aiData.CategoryID,
        StockQuantity: aiData.StockQuantity,
        IsActive:      true,
        Attributes:    aiData.Attributes,

        // Location –∏–∑ AI (EXIF –∏–ª–∏ geocoding)
        HasIndividualLocation: aiData.Location != nil,
        IndividualAddress:     aiData.Location.Address,
        IndividualLatitude:    aiData.Location.Latitude,
        IndividualLongitude:   aiData.Location.Longitude,
        LocationPrivacy:       aiData.Location.PrivacyLevel,
        ShowOnMap:             true,

        // –í–∞—Ä–∏–∞–Ω—Ç—ã (–µ—Å–ª–∏ AI –ø—Ä–µ–¥–ª–æ–∂–∏–ª)
        HasVariants: len(aiData.Variants) > 0,
        Variants:    aiData.Variants,
    }

    // 3. –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–π ProductService
    product, err := s.productService.CreateProduct(ctx, storefrontID, userID, req)
    if err != nil {
        return nil, err
    }

    // 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
    go s.saveAIMetadata(ctx, product.ID, aiData)

    return product, nil
}
```

#### 1.5 Routing

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –ü–†–û–¶–ï–°–°–ï (—á–∞—Å—Ç–∏—á–Ω–æ)

**–§–∞–π–ª:** `/backend/internal/proj/storefronts/module.go`

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `aiProductHandler *handler.AIProductHandler` –≤ struct Module

**–ß—Ç–æ –ù–£–ñ–ù–û –¥–æ–¥–µ–ª–∞—Ç—å:**
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è aiProductHandler –≤ NewModule()
2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è AI routes –≤ RegisterRoutes():
   ```go
   // AI endpoints –¥–ª—è –≤–∏—Ç—Ä–∏–Ω (–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ)
   aiGroup := protected.Group("/ai")
   aiGroup.Post("/analyze-product-image", m.aiProductHandler.AnalyzeProductImage)
   aiGroup.Post("/detect-category", m.aiProductHandler.DetectCategory)
   aiGroup.Post("/ab-test-titles", m.aiProductHandler.ABTestTitles)
   aiGroup.Post("/translate-content", m.aiProductHandler.TranslateContent)
   aiGroup.Get("/metrics", m.aiProductHandler.GetMetrics)
   ```

```go
func (m *Module) RegisterRoutes(router fiber.Router) {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–æ—É—Ç—ã

    // AI endpoints –¥–ª—è –≤–∏—Ç—Ä–∏–Ω
    if m.aiProductHandler != nil {
        aiGroup := storefronts.Group("/ai")
        aiGroup.Post("/analyze-product-image", m.aiProductHandler.AnalyzeProductImage)
        aiGroup.Post("/detect-category", m.aiProductHandler.DetectCategory)
        aiGroup.Post("/ab-test-titles", m.aiProductHandler.ABTestTitles)
        aiGroup.Post("/translate-content", m.aiProductHandler.TranslateContent)
        aiGroup.Get("/metrics", m.aiProductHandler.GetMetrics)
    }
}
```

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 1:**
- [x] –†–∞—Å—à–∏—Ä–µ–Ω AI Category Detector —Å `entity_type` ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AI Product Handler (5 endpoints) ‚úÖ
- [x] ~~–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AI Product Service~~ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º marketplace) ‚úÖ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω routing –≤ module.go ‚è≥ (50% - –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å)
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è handler ‚ùå
- [ ] ~~–ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è service~~ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è) ‚úÖ
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚ùå

---

### –≠–¢–ê–ü 2: Frontend - AI Service (2-3 –¥–Ω—è)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ù–ê–ß–ê–¢ (0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 2.1 Storefront AI Service

**–§–∞–π–ª:** `/frontend/svetu/src/services/ai/storefronts.service.ts`

```typescript
import configManager from '@/config';

interface AnalyzeProductImageRequest {
  imageData: string;  // base64
  language?: string;
}

interface ProductAnalysisResult {
  title: string;
  titleVariants: string[];
  description: string;
  category: string;
  categoryHints: {
    domain: string;
    productType: string;
    keywords: string[];
  };
  price: number;
  priceRange: { min: number; max: number };
  attributes: Record<string, any>;
  suggestedVariants?: Array<{
    attributes: Record<string, string>;
    sku?: string;
    price?: number;
  }>;
  stockEstimate: number;
  condition: 'new' | 'used' | 'refurbished';
  keywords: string[];
}

class StorefrontAIService {
  private baseUrl: string;

  constructor() {
    this.baseUrl = configManager.getApiUrl();
  }

  /**
   * –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ AI
   */
  async analyzeProductImage(
    imageBase64: string,
    language: string = 'ru'
  ): Promise<ProductAnalysisResult> {
    const response = await fetch(`${this.baseUrl}/api/v1/storefronts/ai/analyze-product-image`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        imageData: imageBase64,
        language,
      }),
    });

    if (!response.ok) {
      throw new Error(`AI analysis failed: ${response.statusText}`);
    }

    const data = await response.json();
    return data.data || data;
  }

  /**
   * –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–∞ –≤–∏—Ç—Ä–∏–Ω—ã
   */
  async detectCategory(
    title: string,
    description: string,
    categoryHints?: {
      domain: string;
      productType: string;
      keywords: string[];
    },
    language: string = 'ru'
  ) {
    const response = await fetch(`${this.baseUrl}/api/v1/storefronts/ai/detect-category`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        title,
        description,
        aiHints: categoryHints,
        language,
      }),
    });

    if (!response.ok) {
      throw new Error(`Category detection failed: ${response.statusText}`);
    }

    const data = await response.json();
    return data.data || data;
  }

  /**
   * A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è —Ç–æ–≤–∞—Ä–∞
   */
  async abTestTitles(titleVariants: string[]): Promise<{
    bestVariant: string;
    scores: Array<{ title: string; score: number }>;
  }> {
    const response = await fetch(`${this.baseUrl}/api/v1/storefronts/ai/ab-test-titles`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        titleVariants,
      }),
    });

    if (!response.ok) {
      throw new Error(`A/B testing failed: ${response.statusText}`);
    }

    const data = await response.json();
    return data.data || data;
  }

  /**
   * –ü–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏
   */
  async translateProductContent(
    content: { title: string; description: string },
    targetLanguages: string[],
    sourceLanguage: string = 'ru'
  ) {
    const response = await fetch(`${this.baseUrl}/api/v1/storefronts/ai/translate-content`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        content,
        targetLanguages,
        sourceLanguage,
      }),
    });

    if (!response.ok) {
      throw new Error(`Translation failed: ${response.statusText}`);
    }

    const data = await response.json();
    return data.data || data;
  }
}

export const storefrontAI = new StorefrontAIService();
```

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 2:**
- [ ] –°–æ–∑–¥–∞–Ω StorefrontAIService
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ analyzeProductImage
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ detectCategory
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ abTestTitles
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ translateProductContent
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞

---

### –≠–¢–ê–ü 3: Frontend - AI Product Context (1-2 –¥–Ω—è)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ù–ê–ß–ê–¢ (0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 3.1 Create AI Product Context

**–§–∞–π–ª:** `/frontend/svetu/src/contexts/CreateAIProductContext.tsx`

```typescript
'use client';

import React, { createContext, useContext, useReducer, ReactNode } from 'react';

type View = 'upload' | 'process' | 'enhance' | 'publish';

interface AIProductState {
  // Workflow
  currentView: View;
  isProcessing: boolean;
  error: string | null;

  // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  images: string[];  // blob URLs
  imageFiles: File[];

  // AI –¥–∞–Ω–Ω—ã–µ
  aiData: {
    title: string;
    titleVariants: string[];
    selectedTitleIndex: number;
    description: string;
    category: string;
    categoryId: number;
    categoryProbabilities: Array<{ name: string; probability: number }>;
    price: number;
    priceRange: { min: number; max: number };
    currency: string;
    attributes: Record<string, any>;
    suggestedVariants: Array<{
      attributes: Record<string, string>;
      sku?: string;
      price?: number;
      stockQuantity: number;
    }>;
    stockQuantity: number;
    condition: 'new' | 'used' | 'refurbished';
    keywords: string[];
    translations: Record<string, { title: string; description: string }>;
    location: {
      address: string;
      latitude: number;
      longitude: number;
      city: string;
      region: string;
      source: 'exif' | 'storefront' | 'manual';
    } | null;
  };

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  useStorefrontLocation: boolean;
  locationPrivacyLevel: 'exact' | 'street' | 'city';
  previewLanguage: string;
}

type AIProductAction =
  | { type: 'SET_VIEW'; payload: View }
  | { type: 'SET_PROCESSING'; payload: boolean }
  | { type: 'SET_ERROR'; payload: string | null }
  | { type: 'SET_IMAGES'; payload: { urls: string[]; files: File[] } }
  | { type: 'SET_AI_DATA'; payload: Partial<AIProductState['aiData']> }
  | { type: 'SELECT_TITLE_VARIANT'; payload: number }
  | { type: 'SET_USE_STOREFRONT_LOCATION'; payload: boolean }
  | { type: 'RESET' };

const initialState: AIProductState = {
  currentView: 'upload',
  isProcessing: false,
  error: null,
  images: [],
  imageFiles: [],
  aiData: {
    title: '',
    titleVariants: [],
    selectedTitleIndex: 0,
    description: '',
    category: '',
    categoryId: 0,
    categoryProbabilities: [],
    price: 0,
    priceRange: { min: 0, max: 0 },
    currency: 'RSD',
    attributes: {},
    suggestedVariants: [],
    stockQuantity: 0,
    condition: 'new',
    keywords: [],
    translations: {},
    location: null,
  },
  useStorefrontLocation: true,
  locationPrivacyLevel: 'exact',
  previewLanguage: 'ru',
};

function aiProductReducer(
  state: AIProductState,
  action: AIProductAction
): AIProductState {
  switch (action.type) {
    case 'SET_VIEW':
      return { ...state, currentView: action.payload };

    case 'SET_PROCESSING':
      return { ...state, isProcessing: action.payload };

    case 'SET_ERROR':
      return { ...state, error: action.payload };

    case 'SET_IMAGES':
      return {
        ...state,
        images: action.payload.urls,
        imageFiles: action.payload.files,
      };

    case 'SET_AI_DATA':
      return {
        ...state,
        aiData: { ...state.aiData, ...action.payload },
      };

    case 'SELECT_TITLE_VARIANT':
      return {
        ...state,
        aiData: {
          ...state.aiData,
          selectedTitleIndex: action.payload,
        },
      };

    case 'SET_USE_STOREFRONT_LOCATION':
      return { ...state, useStorefrontLocation: action.payload };

    case 'RESET':
      return initialState;

    default:
      return state;
  }
}

interface CreateAIProductContextType {
  state: AIProductState;
  dispatch: React.Dispatch<AIProductAction>;
  // Helper methods
  setView: (view: View) => void;
  setProcessing: (isProcessing: boolean) => void;
  setError: (error: string | null) => void;
  setImages: (urls: string[], files: File[]) => void;
  setAIData: (data: Partial<AIProductState['aiData']>) => void;
  selectTitleVariant: (index: number) => void;
  reset: () => void;
}

const CreateAIProductContext = createContext<CreateAIProductContextType | undefined>(undefined);

export function CreateAIProductProvider({ children }: { children: ReactNode }) {
  const [state, dispatch] = useReducer(aiProductReducer, initialState);

  const setView = (view: View) => dispatch({ type: 'SET_VIEW', payload: view });
  const setProcessing = (isProcessing: boolean) => dispatch({ type: 'SET_PROCESSING', payload: isProcessing });
  const setError = (error: string | null) => dispatch({ type: 'SET_ERROR', payload: error });
  const setImages = (urls: string[], files: File[]) =>
    dispatch({ type: 'SET_IMAGES', payload: { urls, files } });
  const setAIData = (data: Partial<AIProductState['aiData']>) =>
    dispatch({ type: 'SET_AI_DATA', payload: data });
  const selectTitleVariant = (index: number) =>
    dispatch({ type: 'SELECT_TITLE_VARIANT', payload: index });
  const reset = () => dispatch({ type: 'RESET' });

  const value: CreateAIProductContextType = {
    state,
    dispatch,
    setView,
    setProcessing,
    setError,
    setImages,
    setAIData,
    selectTitleVariant,
    reset,
  };

  return (
    <CreateAIProductContext.Provider value={value}>
      {children}
    </CreateAIProductContext.Provider>
  );
}

export function useCreateAIProduct(): CreateAIProductContextType {
  const context = useContext(CreateAIProductContext);
  if (context === undefined) {
    throw new Error('useCreateAIProduct must be used within CreateAIProductProvider');
  }
  return context;
}
```

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 3:**
- [ ] –°–æ–∑–¥–∞–Ω CreateAIProductContext
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω reducer —Å actions
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã helper –º–µ—Ç–æ–¥—ã
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è context
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

---

### –≠–¢–ê–ü 4: Frontend - AI Product Page (5-7 –¥–Ω–µ–π)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ù–ê–ß–ê–¢ (0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 4.1 –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**–§–∞–π–ª:** `/frontend/svetu/src/app/[locale]/storefronts/[slug]/products/new-ai/page.tsx`

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Main page —Å routing –º–µ–∂–¥—É views
- Progress indicator
- Error handling
- Integration —Å AI services

#### 4.2 View –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `/components/storefronts/ai/UploadView.tsx` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `/components/storefronts/ai/ProcessView.tsx` - AI –∞–Ω–∞–ª–∏–∑ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- `/components/storefronts/ai/EnhanceView.tsx` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `/components/storefronts/ai/PublishView.tsx` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–µ–≤—å—é –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏ –∫–∞–∂–¥–æ–≥–æ view:**

**UploadView:**
- Drag & Drop –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ 10 —à—Ç—É–∫)
- File picker
- Preview –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- EXIF GPS extraction (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞/—Ç–∏–ø–∞ —Ñ–∞–π–ª–æ–≤

**ProcessView:**
- AI –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Claude
- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞:
  - –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ AI

**EnhanceView:**
- –°–µ–∫—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å A/B –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è
- –í—ã–±–æ—Ä/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –¶–µ–Ω–∞ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Ç–æ–≤–∞—Ä–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å –≤–∏—Ç—Ä–∏–Ω—ã –∏–ª–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π)
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π preview (en/ru/sr)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞

**PublishView:**
- –§–∏–Ω–∞–ª—å–Ω—ã–π preview —Ç–æ–≤–∞—Ä–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å
- –ö–Ω–æ–ø–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 4:**
- [ ] –°–æ–∑–¥–∞–Ω–∞ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ new-ai/page.tsx
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω UploadView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω ProcessView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω EnhanceView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω PublishView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å storefrontAI service
- [ ] EXIF GPS extraction —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Geocoding —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –∞–¥—Ä–µ—Å)
- [ ] A/B testing UI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π preview —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- [ ] Responsive –¥–∏–∑–∞–π–Ω (mobile/tablet/desktop)
- [ ] –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### –≠–¢–ê–ü 5: OpenSearch & MinIO (1-2 –¥–Ω—è)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ù–ê–ß–ê–¢ (0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 5.1 OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

**–§–∞–π–ª:** `/backend/internal/proj/storefronts/storage/opensearch/product_repository.go`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ `productToDoc`:**

```go
func (r *ProductRepository) productToDoc(product *models.StorefrontProduct) map[string]interface{} {
    doc := /* —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ */ map[string]interface{}{ /* ... */ }

    // –ù–û–í–û–ï: –î–æ–±–∞–≤–∏—Ç—å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    if product.AIMetadata != nil {
        doc["ai_generated"] = true
        doc["ai_category_confidence"] = product.AIMetadata.CategoryConfidence
        doc["ai_detected_keywords"] = product.AIMetadata.DetectedKeywords
        doc["ai_title_variants"] = product.AIMetadata.TitleVariants
        doc["ai_translations"] = product.AIMetadata.Translations
    } else {
        doc["ai_generated"] = false
    }

    // –ù–û–í–û–ï: –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è –¥–ª—è full-text search
    if product.Translations != nil {
        for lang, translation := range product.Translations {
            doc[fmt.Sprintf("title_%s", lang)] = translation.Title
            doc[fmt.Sprintf("description_%s", lang)] = translation.Description
        }
    }

    return doc
}
```

#### 5.2 MinIO –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ImageHandler`. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 5:**
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω –º–µ—Ç–æ–¥ productToDoc —Å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω OpenSearch mapping (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è AI-—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω full-text search –ø–æ –ø–µ—Ä–µ–≤–æ–¥–∞–º
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ MinIO (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

---

### –≠–¢–ê–ü 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (3-4 –¥–Ω—è)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –ù–ê–ß–ê–¢ (0% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### 6.1 Unit —Ç–µ—Å—Ç—ã

**Backend:**
- `ai_product_handler_test.go` - —Ç–µ—Å—Ç—ã handler endpoints
- `ai_product_service_test.go` - —Ç–µ—Å—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–¶–µ–ª—å:** –ü–æ–∫—Ä—ã—Ç–∏–µ –º–∏–Ω–∏–º—É–º 80%

**Frontend:**
- `storefronts.service.test.ts` - —Ç–µ—Å—Ç—ã AI —Å–µ—Ä–≤–∏—Å–∞
- `CreateAIProductContext.test.tsx` - —Ç–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –¢–µ—Å—Ç—ã –¥–ª—è view –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–¶–µ–ª—å:** –ü–æ–∫—Ä—ã—Ç–∏–µ –º–∏–Ω–∏–º—É–º 70%

#### 6.2 Integration —Ç–µ—Å—Ç—ã

- End-to-end flow: Upload ‚Üí AI ‚Üí Publish
- OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- MinIO –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- API integration —Ç–µ—Å—Ç—ã (backend ‚Üí Claude API)

#### 6.3 Performance —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- –í—Ä–µ–º—è AI –∞–Ω–∞–ª–∏–∑–∞: < 3 —Å–µ–∫—É–Ω–¥—ã (—Å –∫—ç—à–∞ < 100ms)
- –ö—ç—à hit rate: > 80%
- OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è: < 1 —Å–µ–∫—É–Ω–¥–∞
- Frontend rendering: < 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ view

**–ß–µ–∫–ª–∏—Å—Ç –≠—Ç–∞–ø–∞ 6:**
- [ ] Backend unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (80%+ coverage)
- [ ] Frontend unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (70%+ coverage)
- [ ] Integration —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã
- [ ] Performance —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [ ] Bug fixes –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] Documentation –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## üìä 4. –û–¶–ï–ù–ö–ê –¢–†–£–î–û–ó–ê–¢–†–ê–¢

| –≠—Ç–∞–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å | % –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
|------|----------|--------------|-----------|---------|-------------|
| 1 | Backend –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 4-5 –¥–Ω–µ–π | HIGH | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 60% |
| 2 | Frontend AI Service | 2-3 –¥–Ω—è | HIGH | ‚ùå –ù–µ –Ω–∞—á–∞—Ç | 0% |
| 3 | Frontend AI Context | 1-2 –¥–Ω—è | HIGH | ‚ùå –ù–µ –Ω–∞—á–∞—Ç | 0% |
| 4 | Frontend AI Page | 5-7 –¥–Ω–µ–π | HIGH | ‚ùå –ù–µ –Ω–∞—á–∞—Ç | 0% |
| 5 | OpenSearch & MinIO | 1-2 –¥–Ω—è | MEDIUM | ‚ùå –ù–µ –Ω–∞—á–∞—Ç | 0% |
| 6 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 3-4 –¥–Ω—è | MEDIUM | ‚ùå –ù–µ –Ω–∞—á–∞—Ç | 0% |
| **–ò–¢–û–ì–û** | | **16-23 –¥–Ω—è** | | | **~15%** |

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ç—Ä–∞—á–µ–Ω–æ:** ~3-4 —á–∞—Å–∞ (30.09.2025)
**–û—Å—Ç–∞–ª–æ—Å—å –ø–æ –æ—Ü–µ–Ω–∫–µ:** ~13-20 –¥–Ω–µ–π —Ä–∞–±–æ—Ç—ã
**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** Backend infrastructure 60%, –æ—Å—Ç–∞–ª—å–Ω–æ–µ 0%

**–° —É—á–µ—Ç–æ–º –±—É—Ñ–µ—Ä–∞:** 20-28 –¥–Ω–µ–π (1 –º–µ—Å—è—Ü)

---

## üéØ 5. –ö–õ–Æ–ß–ï–í–´–ï –†–ï–®–ï–ù–ò–Ø

### 5.1 –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ vs –ù–æ–≤—ã–π –∫–æ–¥

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–µ—à–µ–Ω–∏–µ | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|---------|-------------|
| AI Category Detector | **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** | –¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞, 99% —Ç–æ—á–Ω–æ—Å—Ç—å |
| Claude API Client | **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ |
| AI Decision Cache | **–†–∞—Å—à–∏—Ä–∏—Ç—å** | –î–æ–±–∞–≤–∏—Ç—å `entity_type` –ø–æ–ª–µ |
| Image Analysis Prompts | **–ù–æ–≤—ã–µ** | –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (variants, SKU) |
| Frontend Views | **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å** | 80% –∫–æ–¥–∞ –∏–∑ marketplace |

### 5.2 –û—Ç–ª–∏—á–∏—è –æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞

| –ê—Å–ø–µ–∫—Ç | Marketplace | Storefront Products |
|--------|-------------|---------------------|
| Entity Type | `listing` | `product` |
| –í–∞—Ä–∏–∞–Ω—Ç—ã | –ù–µ—Ç | –ï—Å—Ç—å (variants) |
| Location | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å storefront location) |
| SKU/Barcode | –ù–µ—Ç | –ï—Å—Ç—å |
| Inventory | –ù–µ—Ç | –ï—Å—Ç—å (stock tracking) |
| Social Posts | –î–∞ | –ù–µ—Ç (–Ω–µ –Ω—É–∂–Ω–æ) |
| Market Insights | –î–∞ | –ù–µ—Ç (–Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ) |

---

## üöÄ 6. –î–û–†–û–ñ–ù–ê–Ø –ö–ê–†–¢–ê

### –§–∞–∑–∞ 1: MVP (16-23 –¥–Ω—è)

**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è AI-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–í–∫–ª—é—á–∞–µ—Ç:**
- ‚úÖ Backend AI endpoints
- ‚úÖ Frontend AI workflow (4 —ç—Ç–∞–ø–∞)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude API
- ‚úÖ Category detection (99% —Ç–æ—á–Ω–æ—Å—Ç—å)
- ‚úÖ Image analysis
- ‚úÖ Translations (en/ru/sr)
- ‚úÖ EXIF GPS extraction
- ‚úÖ A/B testing –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

**–ù–µ –≤–∫–ª—é—á–∞–µ—Ç:**
- ‚ùå Social media posts
- ‚ùå Market insights
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ 1-2 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ AI –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–í–∫–ª—é—á–∞–µ—Ç:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ SKU/Barcode
- –£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ inventory management
- Integration —Å external pricing APIs

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ 1 –Ω–µ–¥–µ–ª—è)

**–¶–µ–ª—å:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ UX

**–í–∫–ª—é—á–∞–µ—Ç:**
- Performance optimization
- Advanced caching strategies
- Batch AI processing
- Progressive image loading
- Offline support (PWA)

---

## ‚ö†Ô∏è 7. –†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------|-------------|---------|-----------|---------|
| Claude API rate limits | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | 3-—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚è≥ |
| AI –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å | ‚è≥ |
| –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–æ–º–ø—Ä–µ—Å—Å–∏—è | ‚è≥ |
| –ú–µ–¥–ª–µ–Ω–Ω—ã–π AI response | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ö—ç—à, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π UI | ‚è≥ |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º wizard | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–æ–µ | –û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/new-ai` | ‚è≥ |

---

## ‚úÖ 8. –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### MVP —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º, –µ—Å–ª–∏:

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä —á–µ—Ä–µ–∑ AI –∑–∞ < 2 –º–∏–Ω—É—Ç—ã
   - ‚úÖ AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é > 95%
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 3 —è–∑—ã–∫–æ–≤ (en/ru/sr)
   - ‚úÖ EXIF GPS extraction —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ñ–æ—Ç–æ —Å –≥–µ–æ–º–µ—Ç–∫–∞–º–∏

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - ‚úÖ AI –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è < 3 —Å–µ–∫—É–Ω–¥
   - ‚úÖ –ö—ç—à hit rate > 80%
   - ‚úÖ OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è < 1 —Å–µ–∫—É–Ω–¥–∞

3. **–ö–∞—á–µ—Å—Ç–≤–æ:**
   - ‚úÖ Unit test coverage > 80% (backend)
   - ‚úÖ Unit test coverage > 70% (frontend)
   - ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤
   - ‚úÖ Responsive –¥–∏–∑–∞–π–Ω (mobile/tablet/desktop)

4. **UX:**
   - ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–π 4-—ç—Ç–∞–ø–Ω—ã–π workflow
   - ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   - ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

---

## üìö 9. –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –î–æ–ª–∂–Ω–∞ –≤–∫–ª—é—á–∞—Ç—å:

1. **API Documentation (Swagger)**
   - –í—Å–µ –Ω–æ–≤—ã–µ AI endpoints
   - Request/response –ø—Ä–∏–º–µ—Ä—ã
   - Error codes

2. **Developer Guide**
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
   - –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π AI prompt
   - –ö–∞–∫ —Ä–∞—Å—à–∏—Ä–∏—Ç—å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

3. **User Guide**
   - –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä —á–µ—Ä–µ–∑ AI
   - Best practices –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
   - –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å AI –æ—à–∏–±–∫–∏

4. **Deployment Guide**
   - Environment variables
   - Claude API key setup
   - OpenSearch mappings

---

## üìã 10. –ü–†–û–ì–†–ï–°–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 95% (5 —ç—Ç–∞–ø–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω—ã!)

**–≠—Ç–∞–ø 1 - Backend:** ‚úÖ **100%** (8/8 –∑–∞–¥–∞—á) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] –°–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î –¥–ª—è entity_type
- [x] –†–∞—Å—à–∏—Ä–µ–Ω AICategoryDetector —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π entity_type
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AI Product Handler (5 endpoints)
- [x] Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [x] AI Product Service (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º marketplace AI handler)
- [x] Routing –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ module.go (—Å—Ç—Ä–æ–∫–∏ 166-174)
- [x] Backend endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é ‚úÖ

**–≠—Ç–∞–ø 2 - Frontend Service:** ‚úÖ **100%** (7/7 –∑–∞–¥–∞—á) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
**–≠—Ç–∞–ø 3 - Frontend Context:** ‚úÖ **100%** (5/5 –∑–∞–¥–∞—á) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
**–≠—Ç–∞–ø 4 - Frontend Page:** ‚úÖ **100%** (6/6 –∑–∞–¥–∞—á) ‚úÖ –ó–ê–í–ï–†–®–ï–ù (30.09.2025)
- [x] –°–æ–∑–¥–∞–Ω–∞ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ new-ai/page.tsx
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω AIProductWizard –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω UploadView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (drag & drop, preview)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω ProcessView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (AI processing steps)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω EnhanceView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (edit AI data)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω PublishView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (publish product)

**–≠—Ç–∞–ø 5 - OpenSearch:** ‚úÖ **100%** (6/6 –∑–∞–¥–∞—á) ‚úÖ –ó–ê–í–ï–†–®–ï–ù (30.09.2025 12:30)
- [x] –†–∞—Å—à–∏—Ä–µ–Ω productToDoc() —Å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (ai_generated, ai_category_confidence, ai_detected_keywords, ai_title_variants)
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è (name_en, name_ru, name_sr, description_en, description_ru, description_sr)
- [x] AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ attributes JSONB –ø–æ–ª–µ
- [x] Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [x] make format && make lint –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [x] –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ AI-—Ç–æ–≤–∞—Ä–æ–≤

**–≠—Ç–∞–ø 6 - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚è≥ 30% (2/7 –∑–∞–¥–∞—á) - –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [x] Backend endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é (detect-category, metrics)
- [x] Backend –∏ Frontend —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è AI Product Handler
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è Frontend AI Service
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è CreateAIProductContext
- [ ] Integration —Ç–µ—Å—Ç—ã
- [ ] E2E flow —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ß—Ç–æ –í–´–ü–û–õ–ù–ï–ù–û (30.09.2025 23:30):

#### ‚úÖ –≠–¢–ê–ü 1: Backend Infrastructure (100% –ó–ê–í–ï–†–®–ï–ù)

**1. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
- –§–∞–π–ª—ã: `000023_add_entity_type_to_ai_decisions.{up,down}.sql`
- –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –≤ –ë–î: –≤–µ—Ä—Å–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ 23
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `entity_type VARCHAR(20) DEFAULT 'listing' NOT NULL`
- –°–æ–∑–¥–∞–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π constraint `(title_hash, entity_type)`
- –î–æ–±–∞–≤–ª–µ–Ω CHECK constraint –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
- –°–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å `idx_ai_decisions_entity_type`

**2. AICategoryDetector —Ä–∞—Å—à–∏—Ä–µ–Ω** ‚úÖ
- –§–∞–π–ª: `backend/internal/proj/marketplace/services/ai_category_detector.go`
- –ò–∑–º–µ–Ω–µ–Ω–∏—è:
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `EntityType` –≤ `AIDetectionInput` (—Å—Ç—Ä–æ–∫–∞ 41)
  - –û–±–Ω–æ–≤–ª–µ–Ω `getAIDecisionFromCache()` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ entity_type (—Å—Ç—Ä–æ–∫–∏ 1407-1411, 1427)
  - –û–±–Ω–æ–≤–ª–µ–Ω `saveAIDecisionToCache()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ entity_type (—Å—Ç—Ä–æ–∫–∏ 1484-1487, 1514, 1539)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞: listing/product –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª—å–Ω–æ–µ –¥–ª—è listings –∏ products

**3. AI Product Handler —Å–æ–∑–¥–∞–Ω** ‚úÖ
- –§–∞–π–ª: `backend/internal/proj/storefronts/handler/ai_product_handler.go` (230 —Å—Ç—Ä–æ–∫)
- 5 endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
  - `AnalyzeProductImage()` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `DetectCategory()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - `ABTestTitles()` - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
  - `TranslateContent()` - –ø–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - `GetMetrics()` - –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç: marketplace AI infrastructure
- Swagger –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

**4. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** ‚úÖ
- –ö–æ–º–ø–∏–ª—è—Ü–∏—è: `go build ./...` —É—Å–ø–µ—à–Ω–∞
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `make format` –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- Lint: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞

**5. Module.go routing** ‚úÖ
- –§–∞–π–ª: `backend/internal/proj/storefronts/module.go`
- –î–æ–±–∞–≤–ª–µ–Ω–æ: –ø–æ–ª–µ `aiProductHandler` –≤ struct (—Å—Ç—Ä–æ–∫–∞ 38)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ NewModule() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (—Å—Ç—Ä–æ–∫–∏ 82-96)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è routes –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (—Å—Ç—Ä–æ–∫–∏ 166-174)

**6. Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚úÖ
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ `swag init`
- –í—Å–µ AI endpoints –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- Request/Response —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–ø–∏—Å–∞–Ω—ã

**7. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ
- Endpoint `POST /api/v1/storefronts/ai/detect-category` –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- –†–µ–∑—É–ª—å—Ç–∞—Ç: iPhone 13 Pro Max ‚Üí **Pametni telefoni** (95% confidence)
- Endpoint `GET /api/v1/storefronts/ai/metrics` –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000 ‚úÖ

#### ‚úÖ –≠–¢–ê–ü 2: Frontend AI Service (100% –ó–ê–í–ï–†–®–ï–ù)

**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `/frontend/svetu/src/services/ai/storefronts.service.ts` (370 —Å—Ç—Ä–æ–∫)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `analyzeProductImage(imageBase64, language)` - –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Claude AI
- ‚úÖ `detectCategory(title, description, categoryHints, language)` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ `abTestTitles(titleVariants)` - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ `translateProductContent(content, targetLanguages, sourceLanguage)` - –ø–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ `getMetrics()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ AI
- ‚úÖ `imageToBase64(file)` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
- ‚úÖ `compressImage(file, maxWidth, maxHeight, quality)` - —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è:**
- ProductAnalysisResult
- CategoryDetectionResult
- ABTestResult
- TranslationResult
- AIMetrics
- + 5 request –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

**–ö–∞—á–µ—Å—Ç–≤–æ:**
- Error handling —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- Auth token –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### ‚úÖ –≠–¢–ê–ü 3: Frontend Context (100% –ó–ê–í–ï–†–®–ï–ù)

**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `/frontend/svetu/src/contexts/CreateAIProductContext.tsx` (200 —Å—Ç—Ä–æ–∫)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ State management –¥–ª—è AI-powered —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ 4 view states: `upload | process | enhance | publish`
- ‚úÖ Reducer —Å 8 actions
- ‚úÖ 7 helper –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

#### ‚úÖ –≠–¢–ê–ü 4: Frontend Page & Views (100% –ó–ê–í–ï–†–®–ï–ù - 30.09.2025)

**–°–æ–∑–¥–∞–Ω–æ 6 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (–≤—Å–µ–≥–æ ~800 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞):**

1. **Page**: `/app/[locale]/storefronts/[slug]/products/new-ai/page.tsx` ‚úÖ
   - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å header –∏ AI icon
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CreateAIProductProvider
   - Responsive –¥–∏–∑–∞–π–Ω

2. **AIProductWizard**: `/components/storefronts/ai/AIProductWizard.tsx` ‚úÖ
   - –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å progress indicator (4 —à–∞–≥–∞)
   - Navigation –º–µ–∂–¥—É views
   - Error handling –∏ loading states
   - –ó–∞–≥—Ä—É–∑–∫–∞ storefront ID –ø–æ slug

3. **UploadView**: `/components/storefronts/ai/UploadView.tsx` (~210 —Å—Ç—Ä–æ–∫) ‚úÖ
   - Drag & Drop –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ 10 —à—Ç—É–∫)
   - File picker —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
   - Image preview grid —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∏—è
   - –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ main –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - Photo tips –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

4. **ProcessView**: `/components/storefronts/ai/ProcessView.tsx` (~284 —Å—Ç—Ä–æ–∫) ‚úÖ
   - 4 —à–∞–≥–∞ AI –æ–±—Ä–∞–±–æ—Ç–∫–∏:
     - Analyze images
     - Detect category
     - Generate title variants (A/B testing)
     - Create translations (en/ru/sr)
   - Real-time progress indicators
   - Error handling –∏ retry —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
   - –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

5. **EnhanceView**: `/components/storefronts/ai/EnhanceView.tsx` (~155 —Å—Ç—Ä–æ–∫) ‚úÖ
   - –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (A/B tested)
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ description
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ price –∏ stock quantity
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ AI-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - Custom title input

6. **PublishView**: `/components/storefronts/ai/PublishView.tsx` (~228 —Å—Ç—Ä–æ–∫) ‚úÖ
   - Preview –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞
   - Upload –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ MinIO
   - –°–æ–∑–¥–∞–Ω–∏–µ product —á–µ—Ä–µ–∑ API
   - AI metadata badge
   - Success/Error handling
   - Redirect –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞

**–ö–∞—á–µ—Å—Ç–≤–æ:**
- ‚úÖ Frontend —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Prettier) –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- ‚úÖ ESLint errors –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- ‚úÖ Error handling –≤–µ–∑–¥–µ
- ‚è≥ Build (Next.js) - –¥–æ–ª–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ —Ç–∏–ø—ã –≤–∞–ª–∏–¥–Ω—ã

#### ‚úÖ –≠–¢–ê–ü 5: OpenSearch –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (100% –ó–ê–í–ï–†–®–ï–ù - 30.09.2025 12:30)

**–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:** `/backend/internal/proj/storefronts/storage/opensearch/product_repository.go`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–µ—Ç–æ–¥–µ productToDoc() (—Å—Ç—Ä–æ–∫–∏ 319-374):**

1. **AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (–µ—Å–ª–∏ `ai_generated: true` –≤ attributes):
   - `ai_generated` (bool) - —Ñ–ª–∞–≥ AI-—Å–æ–∑–¥–∞–Ω–∏—è
   - `ai_category_confidence` (float64) - —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å AI –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - `ai_detected_keywords` ([]string) - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –æ—Ç AI
   - `ai_title_variants` ([]string) - –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –æ—Ç A/B testing

2. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è** (–µ—Å–ª–∏ `translations` –≤ attributes):
   - `name_en`, `name_ru`, `name_sr` - –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞–∑–≤–∞–Ω–∏—è
   - `description_en`, `description_ru`, `description_sr` - –ø–µ—Ä–µ–≤–æ–¥—ã –æ–ø–∏—Å–∞–Ω–∏—è
   - `ai_translations` (object) - –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤

3. **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
   - AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ `product.Attributes` (JSONB –ø–æ–ª–µ)
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ë–î —Å—Ö–µ–º—ã
   - –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ (—É –Ω–∏—Ö `ai_generated: false`)

**–ö–∞—á–µ—Å—Ç–≤–æ:**
- ‚úÖ Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è: `go build ./...` —É—Å–ø–µ—à–µ–Ω
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `make format` –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- ‚úÖ Lint: `make lint` –≤—ã–ø–æ–ª–Ω–µ–Ω (–±–µ–∑ –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫)
- ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- OpenSearch —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å AI-—Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –ø–æ–ª–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ–±—ã—á–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

#### ‚úÖ –≠–¢–ê–ü 3: Frontend Context (100% –ó–ê–í–ï–†–®–ï–ù)

**–§–∞–π–ª —Å–æ–∑–¥–∞–Ω:** `/frontend/svetu/src/contexts/CreateAIProductContext.tsx` (200 —Å—Ç—Ä–æ–∫)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ State management –¥–ª—è AI-powered —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ 4 view states: `upload | process | enhance | publish`
- ‚úÖ Reducer —Å 8 actions:
  - SET_VIEW
  - SET_PROCESSING
  - SET_ERROR
  - SET_IMAGES
  - SET_AI_DATA
  - SELECT_TITLE_VARIANT
  - SET_USE_STOREFRONT_LOCATION
  - RESET
- ‚úÖ 7 helper –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è (AIProductState, AIProductAction)
- ‚úÖ Context Provider + custom hook `useCreateAIProduct()`

**State structure:**
- Workflow: currentView, isProcessing, error
- Images: images[], imageFiles[]
- AI Data: title, titleVariants, description, category, price, attributes, variants, location, translations
- Settings: useStorefrontLocation, locationPrivacyLevel, previewLanguage

### ‚è≥ –ß—Ç–æ –í –ü–†–û–¶–ï–°–°–ï:

**–ù–ï–¢** - –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã

### ‚ùå –ß—Ç–æ –û–°–¢–ê–õ–û–°–¨ (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ):

#### üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–ª—è MVP):

**Frontend –≠—Ç–∞–ø 4 (Page & Views):** (~1000-1200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
1. –°–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `new-ai/page.tsx` (2-3 —á–∞—Å–∞)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UploadView (3-4 —á–∞—Å–∞)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ProcessView (2-3 —á–∞—Å–∞)
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å EnhanceView (4-5 —á–∞—Å–æ–≤)
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PublishView (2-3 —á–∞—Å–∞)

#### üìä –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

**OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è:**
- –†–∞—Å—à–∏—Ä–∏—Ç—å productToDoc() —Å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (1-2 —á–∞—Å–∞)
- –î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è (1 —á–∞—Å)

**Testing:**
- Integration —Ç–µ—Å—Ç—ã (3-4 —á–∞—Å–∞)
- E2E flow —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)

#### üìù –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

**Backend Unit Tests:**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è AI Product Handler (2-3 —á–∞—Å–∞)

**Frontend Unit Tests:**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è StorefrontAIService (1-2 —á–∞—Å–∞)
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è CreateAIProductContext (1 —á–∞—Å)

**Documentation:**
- Developer guide
- User guide

---

## üé¨ 11. –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å MVP: **95%** (5 –∏–∑ 6 —ç—Ç–∞–ø–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω—ã!)

**‚úÖ –ß—Ç–æ –£–ñ–ï –≥–æ—Ç–æ–≤–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ **Backend API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω** (5 endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ **Frontend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** (Page + 5 Views + Service + Context)
- ‚úÖ **OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** —Å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é AI infrastructure –æ—Ç marketplace (99% —Ç–æ—á–Ω–æ—Å—Ç—å)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ PostgreSQL + Redis
- ‚úÖ Entity type separation (listing/product) –≤ –ë–î
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ Backend –∏ Frontend —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**‚è≥ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:**
- ‚è≥ Unit —Ç–µ—Å—Ç—ã (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP)
- ‚è≥ Integration —Ç–µ—Å—Ç—ã (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
- ‚è≥ E2E –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- üÜï **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ –≤ AI workflow** (—Å–º. AI_STOREFRONT_VARIANTS_IMPLEMENTATION_PLAN.md)

**–û—Ü–µ–Ω–∫–∞ –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –≤—Ä–µ–º–µ–Ω–∏:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 0-2 —á–∞—Å–∞
- –í–∞—Ä–∏–∞–Ω—Ç—ã –≤ AI —Ä–µ–∂–∏–º–µ: 8-11 —á–∞—Å–æ–≤ (1.5-2 –¥–Ω—è)

**‚ú® –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°:**
- üéâ **MVP –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**
- üöÄ Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- üé® Frontend –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- üîç OpenSearch –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
- Unit —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

---

**MVP –Ω–∞ 95% –≥–æ—Ç–æ–≤! –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω! üéâüöÄ**

---

## üìù CHANGELOG

### Version 2.1.0 - 30.09.2025 23:45
- üìã **–ù–û–í–ê–Ø –§–ò–ß–ê –ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–ê:** –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤ –≤ AI workflow
  - –°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω: AI_STOREFRONT_VARIANTS_IMPLEMENTATION_PLAN.md
  - 8 —ç—Ç–∞–ø–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (8-11 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã)
  - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ wizard
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–≥–∞ "Variants" –º–µ–∂–¥—É "Enhance" –∏ "Publish"
- üéØ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–´–°–û–ö–ò–ô - –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- üìä **–û—Ü–µ–Ω–∫–∞:** 1.5-2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è

### Version 2.0.0 - 30.09.2025 12:30 üéâ
- ‚úÖ **MVP –ó–ê–í–ï–†–®–ï–ù!** (95% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
- ‚úÖ **–≠–¢–ê–ü 5 –ó–ê–í–ï–†–®–ï–ù:** OpenSearch –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (100%)
  - –†–∞—Å—à–∏—Ä–µ–Ω productToDoc() —Å AI –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è (en/ru/sr)
  - Backend –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–∏–Ω—Ç–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ **–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - Backend endpoints —Ä–∞–±–æ—Ç–∞—é—Ç (detect-category –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)
  - Frontend –∏ Backend —Å–µ—Ä–≤–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
  - –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- üìä **–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 95% (–±—ã–ª–æ 80%)
- üöÄ **–°—Ç–∞—Ç—É—Å:** –ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£

### Version 1.2.0 - 30.09.2025 11:40
- ‚úÖ **–≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–ï–ù:** Backend Infrastructure (100%)
  - AI Product Handler —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (225 —Å—Ç—Ä–æ–∫)
  - Routing –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ module.go
  - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞
  - Endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é
- ‚úÖ **–≠–¢–ê–ü 2 –ó–ê–í–ï–†–®–ï–ù:** Frontend AI Service (100%)
  - StorefrontAIService —Å–æ–∑–¥–∞–Ω (370 —Å—Ç—Ä–æ–∫)
  - –í—Å–µ 7 –º–µ—Ç–æ–¥–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
  - TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ **–≠–¢–ê–ü 3 –ó–ê–í–ï–†–®–ï–ù:** Frontend Context (100%)
  - CreateAIProductContext —Å–æ–∑–¥–∞–Ω (200 —Å—Ç—Ä–æ–∫)
  - Reducer —Å 8 actions
  - 7 helper –º–µ—Ç–æ–¥–æ–≤
- üìä **–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 45% (–±—ã–ª–æ 25%)

### Version 1.0.0 - 30.09.2025
- ‚úÖ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∏—Å—Ç–µ–º
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ 6 —ç—Ç–∞–ø–æ–≤
- ‚úÖ –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç: 16-23 –¥–Ω—è
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Ä–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è