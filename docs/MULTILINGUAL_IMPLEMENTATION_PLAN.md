# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ Sve Tu Platform

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-08-03  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞**: [MULTILINGUAL_AUDIT_REPORT.md](./MULTILINGUAL_AUDIT_REPORT.md)  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 6-9 –Ω–µ–¥–µ–ª—å  
**–ö–æ–º–∞–Ω–¥–∞**: 1-2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ + DevOps

---

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å
–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∫ enterprise-—É—Ä–æ–≤–Ω—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏ 3 —è–∑—ã–∫–æ–≤ (ru, sr, en).

### –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (KPI)
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏**: —Å 95% –¥–æ 99%+ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞**: +40% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –Ω–µ–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞  
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: 100% —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤
- ‚úÖ **Hardcoded —Å—Ç—Ä–æ–∫–∏**: 0 –Ω–µ–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –≤ production –∫–æ–¥–µ
- ‚úÖ **API –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Accept-Language/Content-Language

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ, —Ä–µ—à–∞—Ç—å –ø–µ—Ä–≤—ã–º–∏)

#### –ü—Ä–æ–±–ª–µ–º–∞ #1: OpenSearch –±–µ–∑ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
**–í–ª–∏—è–Ω–∏–µ**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞  
**–§–∞–π–ª—ã**: `backend/internal/proj/marketplace/storage/opensearch/`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: –ò–Ω–¥–µ–∫—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ –ë–î, –Ω–µ—Ç language analyzers

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è OpenSearch</summary>

**–®–∞–≥ 1.1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω–¥–µ–∫—Å–∞
curl -X GET "http://localhost:9200/marketplace/_mapping" | jq '.marketplace.mappings.properties' > /tmp/current_mapping.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
curl -X GET "http://localhost:9200/marketplace/_settings" | jq '.marketplace.settings.index.analysis' > /tmp/current_analysis.json
```

**–®–∞–≥ 1.2: –°–æ–∑–¥–∞–Ω–∏–µ backup –∏ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
# Backup —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
curl -X POST "http://localhost:9200/_reindex" -H "Content-Type: application/json" -d '{
  "source": { "index": "marketplace" },
  "dest": { "index": "marketplace_backup_20250803" }
}'
```

**–®–∞–≥ 1.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –∏–Ω–¥–µ–∫—Å–∞**
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª: `backend/opensearch/marketplace_mapping_v2.json`
```json
{
  "settings": {
    "analysis": {
      "analyzer": {
        "serbian_analyzer": {
          "tokenizer": "standard",
          "filter": ["lowercase", "asciifolding", "serbian_stemmer"]
        },
        "russian_analyzer": {
          "tokenizer": "standard", 
          "filter": ["lowercase", "russian_stemmer"]
        },
        "english_analyzer": {
          "tokenizer": "standard",
          "filter": ["lowercase", "english_stemmer"] 
        },
        "multilingual_search": {
          "tokenizer": "standard",
          "filter": ["lowercase", "asciifolding"]
        }
      },
      "filter": {
        "serbian_stemmer": {
          "type": "stemmer",
          "language": "light_nynorsk"
        },
        "russian_stemmer": {
          "type": "stemmer", 
          "language": "russian"
        },
        "english_stemmer": {
          "type": "stemmer",
          "language": "english"
        }
      }
    }
  },
  "mappings": {
    "properties": {
      "title": {
        "type": "text",
        "analyzer": "multilingual_search",
        "fields": {
          "ru": {"type": "text", "analyzer": "russian_analyzer"},
          "sr": {"type": "text", "analyzer": "serbian_analyzer"}, 
          "en": {"type": "text", "analyzer": "english_analyzer"}
        }
      },
      "description": {
        "type": "text",
        "analyzer": "multilingual_search",
        "fields": {
          "ru": {"type": "text", "analyzer": "russian_analyzer"},
          "sr": {"type": "text", "analyzer": "serbian_analyzer"},
          "en": {"type": "text", "analyzer": "english_analyzer"}
        }
      },
      "translations": {
        "type": "nested",
        "properties": {
          "language": {"type": "keyword"},
          "field_name": {"type": "keyword"},
          "translated_text": {
            "type": "text",
            "analyzer": "multilingual_search"
          }
        }
      },
      "original_language": {"type": "keyword"},
      "supported_languages": {"type": "keyword"}
    }
  }
}
```

**–®–∞–≥ 1.4: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Go –∫–æ–¥–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
–§–∞–π–ª: `backend/internal/proj/marketplace/storage/opensearch/marketplace.go`

–î–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞:
```go
type MarketplaceDocument struct {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    Translations []Translation `json:"translations"`
    SupportedLanguages []string `json:"supported_languages"`
}

type Translation struct {
    Language string `json:"language"`
    FieldName string `json:"field_name"`
    TranslatedText string `json:"translated_text"`
}
```

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è:
```go
func (r *MarketplaceRepository) IndexListing(ctx context.Context, listing *domain.MarketplaceListing) error {
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ –ë–î
    translations, err := r.getListingTranslations(ctx, listing.ID)
    if err != nil {
        return err
    }
    
    doc := MarketplaceDocument{
        // ... –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
        Translations: translations,
        SupportedLanguages: extractSupportedLanguages(translations),
    }
    
    // –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
    return r.indexDocument(ctx, doc)
}

func (r *MarketplaceRepository) getListingTranslations(ctx context.Context, listingID int) ([]Translation, error) {
    query := `
        SELECT language, field_name, translated_text 
        FROM translations 
        WHERE entity_type = 'listing' AND entity_id = $1
    `
    
    rows, err := r.db.QueryContext(ctx, query, listingID)
    if err != nil {
        return nil, err
    }
    defer rows.Close()
    
    var translations []Translation
    for rows.Next() {
        var t Translation
        err := rows.Scan(&t.Language, &t.FieldName, &t.TranslatedText)
        if err != nil {
            return nil, err
        }
        translations = append(translations, t)
    }
    
    return translations, nil
}
```

**–®–∞–≥ 1.5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞**
–§–∞–π–ª: `backend/internal/proj/marketplace/storage/opensearch/search.go`

```go
func (r *MarketplaceRepository) Search(ctx context.Context, params SearchParams) (*SearchResult, error) {
    language := params.Language // –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
    
    query := map[string]interface{}{
        "query": map[string]interface{}{
            "bool": map[string]interface{}{
                "should": []map[string]interface{}{
                    // –ü–æ–∏—Å–∫ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –ø–æ–ª—è–º
                    {
                        "multi_match": map[string]interface{}{
                            "query":  params.Query,
                            "fields": []string{"title^2", "description"},
                        },
                    },
                    // –ü–æ–∏—Å–∫ –ø–æ –ø–µ—Ä–µ–≤–æ–¥–∞–º –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞
                    {
                        "nested": map[string]interface{}{
                            "path": "translations",
                            "query": map[string]interface{}{
                                "bool": map[string]interface{}{
                                    "must": []map[string]interface{}{
                                        {
                                            "term": map[string]interface{}{
                                                "translations.language": language,
                                            },
                                        },
                                        {
                                            "match": map[string]interface{}{
                                                "translations.translated_text": params.Query,
                                            },
                                        },
                                    },
                                },
                            },
                        },
                    },
                    // –ü–æ–∏—Å–∫ —Å language-specific –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º
                    {
                        "multi_match": map[string]interface{}{
                            "query":    params.Query,
                            "fields":   []string{fmt.Sprintf("title.%s^2", language), fmt.Sprintf("description.%s", language)},
                            "analyzer": fmt.Sprintf("%s_analyzer", language),
                        },
                    },
                },
                "minimum_should_match": 1,
            },
        },
    }
    
    // –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫
    return r.executeSearch(ctx, query)
}
```

**–®–∞–≥ 1.6: –°–∫—Ä–∏–ø—Ç —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏**
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª: `backend/scripts/reindex_with_translations.go`
```go
package main

import (
    "context"
    "fmt"
    "log"
    // ... –∏–º–ø–æ—Ä—Ç—ã
)

func main() {
    // –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –∏ OpenSearch
    db := connectDB()
    es := connectOpenSearch()
    
    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ª–∏—Å—Ç–∏–Ω–≥–∏
    listings, err := getAllListings(db)
    if err != nil {
        log.Fatal(err)
    }
    
    // –†–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
    for _, listing := range listings {
        translations := getListingTranslations(db, listing.ID)
        doc := buildDocumentWithTranslations(listing, translations)
        
        err := indexDocument(es, doc)
        if err != nil {
            log.Printf("Failed to index listing %d: %v", listing.ID, err)
            continue
        }
        
        fmt.Printf("Reindexed listing %d with %d translations\n", listing.ID, len(translations))
    }
}
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –º–∞–ø–ø–∏–Ω–≥–æ–º
curl -X PUT "http://localhost:9200/marketplace_v2" -H "Content-Type: application/json" -d @backend/opensearch/marketplace_mapping_v2.json

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
cd backend && go run scripts/reindex_with_translations.go

# 3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–ª–∏–∞—Å –Ω–∞ –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å  
curl -X POST "http://localhost:9200/_aliases" -H "Content-Type: application/json" -d '{
  "actions": [
    {"remove": {"index": "marketplace", "alias": "marketplace_current"}},
    {"add": {"index": "marketplace_v2", "alias": "marketplace_current"}}
  ]
}'

# 4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–ª–∏–∞—Å–∞
# –ó–∞–º–µ–Ω–∏—Ç—å "marketplace" –Ω–∞ "marketplace_current" –≤ –∫–æ–¥–µ
```

</details>

---

#### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
**–í–ª–∏—è–Ω–∏–µ**: Inconsistent UX, SEO –ø—Ä–æ–±–ª–µ–º—ã  
**–§–∞–π–ª—ã**: `frontend/svetu/src/i18n/config.ts`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `sr` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ `ru` –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤</summary>

**–®–∞–≥ 2.1: –ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
PGPASSWORD=password psql -h localhost -U postgres -d svetubd -c "
SELECT language, COUNT(*) as translation_count,
       ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(), 2) as percentage
FROM translations 
GROUP BY language 
ORDER BY translation_count DESC;
"

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: ru - 541 (35%), sr - 508 (33%), en - 504 (32%)
```

**–®–∞–≥ 2.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Frontend**
–§–∞–π–ª: `frontend/svetu/src/i18n/config.ts`
```typescript
// –°–¢–ê–†–ê–Ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
export const defaultLocale: Locale = 'sr'; // –ü—Ä–æ–±–ª–µ–º–∞: sr –Ω–µ–ø–æ–ª–Ω—ã–π

// –ù–û–í–ê–Ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –¥–∞–Ω–Ω—ã–º–∏)
export const locales = ['ru', 'sr', 'en'] as const; // ru –ø–µ—Ä–≤—ã–π = –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π
export type Locale = (typeof locales)[number];

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ –¥–æ–º–µ–Ω–∞–º
export const getDefaultLocale = (): Locale => {
  if (typeof window !== 'undefined') {
    const hostname = window.location.hostname;
    
    // –î–ª—è .rs –¥–æ–º–µ–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: sr -> ru -> en  
    if (hostname.endsWith('.rs')) {
      return 'sr';
    }
    // –î–ª—è .ru –¥–æ–º–µ–Ω–∞: ru -> sr -> en
    if (hostname.endsWith('.ru')) {
      return 'ru';  
    }
    // –î–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤: en -> ru -> sr
    return 'en';
  }
  
  // Server-side default (—Å–∞–º—ã–π –ø–æ–ª–Ω—ã–π)
  return 'ru';
};

export const defaultLocale: Locale = getDefaultLocale();

// Fallback —Ü–µ–ø–æ—á–∫–∞ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
export const localeFallbacks: Record<Locale, Locale[]> = {
  'sr': ['ru', 'en'], // sr -> ru -> en
  'ru': ['en', 'sr'], // ru -> en -> sr  
  'en': ['ru', 'sr'], // en -> ru -> sr
};

export const i18n = {
  locales,
  defaultLocale,
  localeFallbacks,
  localeDetection: {
    enabled: true,
    cookieName: 'locale-preference',
    cookieMaxAge: 365 * 24 * 60 * 60, // 1 –≥–æ–¥
    
    // –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏
    sources: [
      'cookie',           // 1. –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è  
      'header',           // 2. Accept-Language header
      'domain',           // 3. –ü–æ –¥–æ–º–µ–Ω—É (.rs, .ru)
      'default'           // 4. Fallback
    ],
  },
} as const;

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å fallback
export async function getLocaleMessages(locale: Locale): Promise<Record<string, any>> {
  try {
    const messages = await import(`../messages/${locale}.json`).then(m => m.default);
    
    // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫, –ø–æ–¥–≥—Ä—É–∂–∞–µ–º fallback –¥–ª—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–ª—é—á–µ–π
    if (locale !== 'ru') {
      const fallbackLocale = localeFallbacks[locale][0];
      const fallbackMessages = await import(`../messages/${fallbackLocale}.json`).then(m => m.default);
      
      // –ú–µ—Ä–¥–∂–∏–º —Å fallback (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —è–∑—ã–∫–∞)
      return deepMerge(fallbackMessages, messages);
    }
    
    return messages;
  } catch (error) {
    console.error(`Failed to load messages for locale ${locale}:`, error);
    
    // Fallback –∫ —Ä—É—Å—Å–∫–æ–º—É –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å
    if (locale !== 'ru') {
      return import('../messages/ru.json').then(m => m.default);
    }
    
    throw error;
  }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è deep merge
function deepMerge(target: any, source: any): any {
  const result = { ...target };
  
  for (const key in source) {
    if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) {
      result[key] = deepMerge(result[key] || {}, source[key]);
    } else {
      result[key] = source[key];
    }
  }
  
  return result;
}
```

**–®–∞–≥ 2.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–∏–Ω–≥–∞**
–§–∞–π–ª: `frontend/svetu/src/i18n/routing.ts`
```typescript
import { createNavigation } from 'next-intl/navigation';
import { defineRouting } from 'next-intl/routing';
import { i18n, getDefaultLocale } from './config';

export const routing = defineRouting({
  locales: i18n.locales,
  defaultLocale: getDefaultLocale(),
  
  // –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–∏–Ω–≥–∞
  localePrefix: {
    mode: 'as-needed',
    prefixes: {
      // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è —è–∑—ã–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–æ–º–µ–Ω–∞—Ö
      'sr': '', // svetu.rs/ –≤–º–µ—Å—Ç–æ svetu.rs/sr/
      'ru': '/ru', // –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å /ru
      'en': '/en', // –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å /en
    }
  },
  
  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–º–µ–Ω—ã
  domains: [
    {
      domain: 'svetu.rs',
      defaultLocale: 'sr',
      locales: ['sr', 'ru', 'en']
    },
    {
      domain: 'svetu.ru', 
      defaultLocale: 'ru',
      locales: ['ru', 'sr', 'en']
    }
  ]
});

export const { Link, redirect, usePathname, useRouter, getPathname } =
  createNavigation(routing);
```

**–®–∞–≥ 2.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Layout**
–§–∞–π–ª: `frontend/svetu/src/app/[locale]/layout.tsx`
```typescript
// –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é locale
export async function generateMetadata({ params }: { params: Promise<{ locale: string }> }) {
  const { locale } = await params;
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ª–æ–∫–∞–ª–µ–π
  if (!i18n.locales.includes(locale as Locale)) {
    notFound();
  }
  
  const t = await getTranslations({ locale, namespace: 'metadata' });
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ hreflang —Å—Å—ã–ª–∫–∏
  const alternateUrls = i18n.locales.reduce((acc, loc) => {
    acc[loc] = `https://svetu.rs/${loc === getDefaultLocale() ? '' : loc}`;
    return acc; 
  }, {} as Record<string, string>);

  return {
    title: t('title'),
    description: t('description'),
    alternates: {
      canonical: `https://svetu.rs/${locale === getDefaultLocale() ? '' : locale}`,
      languages: alternateUrls,
    },
    openGraph: {
      locale: locale,
      alternateLocale: i18n.locales.filter(l => l !== locale),
    },
  };
}
```

**–®–∞–≥ 2.5: Middleware –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ —è–∑—ã–∫–∞**
–§–∞–π–ª: `frontend/svetu/src/middleware.ts`  
```typescript
import createMiddleware from 'next-intl/middleware';
import { routing } from './src/i18n/routing';

export default createMiddleware({
  ...routing,
  
  // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏
  localeDetection: {
    enabled: true,
    cookieName: 'NEXT_LOCALE',
  },
  
  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è SEO
  redirects: [
    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ URL —Å /sr/ –Ω–∞ –∫–æ—Ä–µ–Ω—å –¥–ª—è .rs –¥–æ–º–µ–Ω–∞
    {
      source: '/sr/:path*',
      destination: '/:path*',
      permanent: true,
      has: [{ type: 'host', value: 'svetu.rs' }],
    },
  ],
});

export const config = {
  matcher: [
    // –ò—Å–∫–ª—é—á–∏—Ç—å API –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    '/((?!api|_next|_vercel|.*\\..*).*)',
  ],
};
```

</details>

---

#### –ü—Ä–æ–±–ª–µ–º–∞ #3: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–¥–µ–ª "storefront" –≤ —Å–µ—Ä–±—Å–∫–æ–º —è–∑—ã–∫–µ
**–í–ª–∏—è–Ω–∏–µ**: –û—à–∏–±–∫–∏ –≤ UI –≤–∏—Ç—Ä–∏–Ω –¥–ª—è —Å–µ—Ä–±—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**–§–∞–π–ª—ã**: `frontend/svetu/src/messages/sr.json`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: –í sr.json –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–µ—Å—å —Ä–∞–∑–¥–µ–ª "storefront"

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞</summary>

**–®–∞–≥ 3.1: –ê–Ω–∞–ª–∏–∑ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—é—á–µ–π**
```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å –∫–ª—é—á–∏ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏
cd frontend/svetu/src/messages

# –ù–∞–π—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
jq -r 'keys[]' en.json | sort > /tmp/en_keys.txt
jq -r 'keys[]' ru.json | sort > /tmp/ru_keys.txt  
jq -r 'keys[]' sr.json | sort > /tmp/sr_keys.txt

# –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ sr.json
echo "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ sr.json:"
comm -23 /tmp/en_keys.txt /tmp/sr_keys.txt

# –†–µ–∑—É–ª—å—Ç–∞—Ç: storefront
```

**–®–∞–≥ 3.2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ storefront –∏–∑ en.json**
```bash
cd frontend/svetu/src/messages

# –ò–∑–≤–ª–µ—á—å —Ä–∞–∑–¥–µ–ª storefront
jq '.storefront' en.json > /tmp/storefront_en.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ä–∞–∑–¥–µ–ª–∞
echo "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –≤ storefront:"
jq 'keys | length' /tmp/storefront_en.json
# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
```

**–®–∞–≥ 3.3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ —Å–µ—Ä–±—Å–∫–∏–π**
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª: `/tmp/storefront_sr_translations.json`
```json
{
  "storefront": {
    "title": "–ü—Ä–æ–¥–∞–≤–Ω–∏—Ü–∞",
    "description": "–û–ø–∏—Å –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü–µ", 
    "create": "–ù–∞–ø—Ä–∞–≤–∏ –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü—É",
    "edit": "–ò–∑–º–µ–Ω–∏ –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü—É",
    "delete": "–û–±—Ä–∏—à–∏ –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü—É",
    "publish": "–û–±—ò–∞–≤–∏",
    "unpublish": "–°–∫–∏–Ω–∏ —Å–∞ –æ–±—ò–∞–≤–µ",
    "draft": "–ù–∞—Ü—Ä—Ç",
    "active": "–ê–∫—Ç–∏–≤–Ω–∞",
    "inactive": "–ù–µ–∞–∫—Ç–∏–≤–Ω–∞",
    
    "dashboard": {
      "title": "–ö–æ–Ω—Ç—Ä–æ–ª–Ω–∞ —Ç–∞–±–ª–∞",
      "overview": "–ü—Ä–µ–≥–ª–µ–¥",
      "statistics": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ",
      "orders": "–ü–æ—Ä—É—ü–±–∏–Ω–µ", 
      "products": "–ü—Ä–æ–∏–∑–≤–æ–¥–∏",
      "settings": "–ü–æ–¥–µ—à–∞–≤–∞—ö–∞"
    },
    
    "products": {
      "title": "–ü—Ä–æ–∏–∑–≤–æ–¥–∏",
      "add": "–î–æ–¥–∞—ò –ø—Ä–æ–∏–∑–≤–æ–¥", 
      "edit": "–ò–∑–º–µ–Ω–∏ –ø—Ä–æ–∏–∑–≤–æ–¥",
      "delete": "–û–±—Ä–∏—à–∏ –ø—Ä–æ–∏–∑–≤–æ–¥",
      "publish": "–û–±—ò–∞–≤–∏ –ø—Ä–æ–∏–∑–≤–æ–¥",
      "unpublish": "–°–∫–∏–Ω–∏ —Å–∞ –æ–±—ò–∞–≤–µ",
      "stock": "–ó–∞–ª–∏—Ö–∞",
      "price": "–¶–µ–Ω–∞",
      "description": "–û–ø–∏—Å",
      "images": "–°–ª–∏–∫–µ",
      "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—ò–∞",
      "attributes": "–ê—Ç—Ä–∏–±—É—Ç–∏"
    },
    
    "orders": {
      "title": "–ü–æ—Ä—É—ü–±–∏–Ω–µ",
      "new": "–ù–æ–≤–µ –ø–æ—Ä—É—ü–±–∏–Ω–µ",
      "processing": "–£ –æ–±—Ä–∞–¥–∏", 
      "shipped": "–ü–æ—Å–ª–∞—Ç–æ",
      "delivered": "–ò—Å–ø–æ—Ä—É—á–µ–Ω–æ",
      "cancelled": "–û—Ç–∫–∞–∑–∞–Ω–æ",
      "refunded": "–í—Ä–∞—õ–µ–Ω–æ",
      "total": "–£–∫—É–ø–Ω–æ",
      "customer": "–ö—É–ø–∞—Ü",
      "date": "–î–∞—Ç—É–º",
      "status": "–°—Ç–∞—Ç—É—Å"
    },
    
    "settings": {
      "title": "–ü–æ–¥–µ—à–∞–≤–∞—ö–∞",
      "general": "–û–ø—à—Ç–µ",
      "appearance": "–ò–∑–≥–ª–µ–¥", 
      "payment": "–ü–ª–∞—õ–∞—ö–µ",
      "shipping": "–î–æ—Å—Ç–∞–≤–∞",
      "notifications": "–û–±–∞–≤–µ—à—Ç–µ—ö–∞",
      "integrations": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—ò–µ"
    },
    
    "public": {
      "welcome": "–î–æ–±—Ä–æ–¥–æ—à–ª–∏ —É –Ω–∞—à—É –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü—É",
      "featured": "–ò–∑–¥–≤–æ—ò–µ–Ω–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏",
      "categories": "–ö–∞—Ç–µ–≥–æ—Ä–∏—ò–µ", 
      "search": "–ü—Ä–µ—Ç—Ä–∞–≥–∞",
      "cart": "–ö–æ—Ä–ø–∞",
      "checkout": "–ù–∞–ø–ª–∞—Ç–∞",
      "account": "–ù–∞–ª–æ–≥"
    }
  }
}
```

**–®–∞–≥ 3.4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å sr.json**
```bash
cd frontend/svetu/src/messages

# Backup —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∞–π–ª–∞
cp sr.json sr.json.backup

# –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ–∞–π–ª—ã
jq -s '.[0] * .[1]' sr.json /tmp/storefront_sr_translations.json > sr.json.new

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:"
jq 'has("storefront")' sr.json.new
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: true

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π –≤ –Ω–æ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ
jq '.storefront | keys | length' sr.json.new

# –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª
mv sr.json.new sr.json
```

**–®–∞–≥ 3.5: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç: `frontend/svetu/scripts/validate_translations.js`
```javascript
const fs = require('fs');
const path = require('path');

const messagesDir = path.join(__dirname, '../src/messages');
const languages = ['en', 'ru', 'sr'];

function loadMessages(lang) {
  const filePath = path.join(messagesDir, `${lang}.json`);
  return JSON.parse(fs.readFileSync(filePath, 'utf8'));
}

function getAllKeys(obj, prefix = '') {
  let keys = [];
  
  for (const [key, value] of Object.entries(obj)) {
    const fullKey = prefix ? `${prefix}.${key}` : key;
    
    if (typeof value === 'object' && value !== null && !Array.isArray(value)) {
      keys.push(...getAllKeys(value, fullKey));
    } else {
      keys.push(fullKey);
    }
  }
  
  return keys;
}

function validateTranslations() {
  const messages = {};
  const allKeys = {};
  
  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ —è–∑—ã–∫–∏
  for (const lang of languages) {
    messages[lang] = loadMessages(lang);
    allKeys[lang] = new Set(getAllKeys(messages[lang]));
  }
  
  // –ù–∞–π—Ç–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
  const baseKeys = allKeys['en']; // –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–∞–∫ –±–∞–∑–∞
  
  for (const lang of languages) {
    if (lang === 'en') continue;
    
    const missing = [...baseKeys].filter(key => !allKeys[lang].has(key));
    const extra = [...allKeys[lang]].filter(key => !baseKeys.has(key));
    
    console.log(`\n=== ${lang.toUpperCase()} ===`);
    console.log(`–í—Å–µ–≥–æ –∫–ª—é—á–µ–π: ${allKeys[lang].size}`);
    console.log(`–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: ${missing.length}`);
    console.log(`–õ–∏—à–Ω–∏—Ö: ${extra.length}`);
    
    if (missing.length > 0) {
      console.log('\n–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏:');
      missing.slice(0, 10).forEach(key => console.log(`  - ${key}`));
      if (missing.length > 10) {
        console.log(`  ... –∏ –µ—â—ë ${missing.length - 10}`);
      }
    }
    
    if (extra.length > 0) {
      console.log('\n–õ–∏—à–Ω–∏–µ –∫–ª—é—á–∏:');
      extra.slice(0, 5).forEach(key => console.log(`  + ${key}`));
      if (extra.length > 5) {
        console.log(`  ... –∏ –µ—â—ë ${extra.length - 5}`);
      }
    }
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ storefront
  console.log('\n=== STOREFRONT SECTION ===');
  for (const lang of languages) {
    const hasStorefront = 'storefront' in messages[lang];
    const storefrontKeys = hasStorefront ? getAllKeys(messages[lang].storefront, 'storefront').length : 0;
    
    console.log(`${lang}: ${hasStorefront ? '‚úÖ' : '‚ùå'} (${storefrontKeys} –∫–ª—é—á–µ–π)`);
  }
}

validateTranslations();
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å
cd frontend/svetu
node scripts/validate_translations.js  # –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π

# 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ)

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
node scripts/validate_translations.js  # –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

# 4. –¢–µ—Å—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
yarn dev -p 3001
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3001/sr/storefronts –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫
```

</details>

---

### üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–í–ª–∏—è—é—Ç –Ω–∞ UX, —Ä–µ—à–∞—Ç—å –ø–æ—Å–ª–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö)

#### –ü—Ä–æ–±–ª–µ–º–∞ #4: 20+ —Ñ–∞–π–ª–æ–≤ —Å hardcoded —Å—Ç—Ä–æ–∫–∞–º–∏
**–í–ª–∏—è–Ω–∏–µ**: –ù–µ–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**–§–∞–π–ª—ã**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `frontend/svetu/src/components/`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: –°—Ç—Ä–æ–∫–∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è hardcoded —Å—Ç—Ä–æ–∫</summary>

**–®–∞–≥ 4.1: –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç hardcoded —Å—Ç—Ä–æ–∫**
```bash
cd frontend/svetu/src

# –ù–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
grep -r "\"[–ê-–Ø–∞-—è][–ê-–Ø–∞-—è ]{3,}\"" components/ --include="*.tsx" -n > /tmp/hardcoded_cyrillic.txt

# –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å –ª–∞—Ç–∏–Ω—Å–∫–∏–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ (–∏—Å–∫–ª—é—á–∞—è className, testId –∏ —Ç.–¥.)
grep -r "\"[A-Z][a-zA-Z ]{4,}\"" components/ --include="*.tsx" -n | grep -v "className\|testId\|id=\|data-\|aria-" > /tmp/hardcoded_latin.txt

# –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
cat /tmp/hardcoded_cyrillic.txt /tmp/hardcoded_latin.txt | sort | uniq > /tmp/all_hardcoded.txt

echo "–ù–∞–π–¥–µ–Ω–æ hardcoded —Å—Ç—Ä–æ–∫:"
wc -l /tmp/all_hardcoded.txt
```

**–®–∞–≥ 4.2: –ê–Ω–∞–ª–∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**
–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç: `frontend/svetu/scripts/analyze_hardcoded.js`
```javascript
const fs = require('fs');
const path = require('path');

// –ß–∏—Ç–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã grep
const hardcodedFile = '/tmp/all_hardcoded.txt';
const lines = fs.readFileSync(hardcodedFile, 'utf8').split('\n').filter(Boolean);

const fileStats = {};
const translations = {};

lines.forEach(line => {
  const [filePath, lineNum, content] = line.split(':');
  
  if (!fileStats[filePath]) {
    fileStats[filePath] = { count: 0, issues: [] };
  }
  
  fileStats[filePath].count++;
  fileStats[filePath].issues.push({
    line: parseInt(lineNum),
    content: content.trim()
  });
  
  // –ò–∑–≤–ª–µ—á—å —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
  const match = content.match(/"([^"]+)"/);
  if (match) {
    const text = match[1];
    if (text.length > 3 && !text.includes('className') && !text.includes('test')) {
      translations[text] = text; // –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
    }
  }
});

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ–±–ª–µ–º
const sortedFiles = Object.entries(fileStats)
  .sort(([,a], [,b]) => b.count - a.count)
  .slice(0, 20); // —Ç–æ–ø 20

console.log('=== –¢–û–ü –§–ê–ô–õ–û–í –° HARDCODED –°–¢–†–û–ö–ê–ú–ò ===');
sortedFiles.forEach(([file, stats]) => {
  console.log(`${stats.count} –ø—Ä–æ–±–ª–µ–º: ${file}`);
});

console.log('\n=== –ù–ê–ô–î–ï–ù–ù–´–ï –°–¢–†–û–ö–ò –î–õ–Ø –ü–ï–†–ï–í–û–î–ê ===');
Object.keys(translations).slice(0, 30).forEach(text => {
  console.log(`"${text}"`);
});

// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
fs.writeFileSync('/tmp/translation_candidates.json', JSON.stringify(translations, null, 2));
fs.writeFileSync('/tmp/files_to_fix.json', JSON.stringify(fileStats, null, 2));
```

**–®–∞–≥ 4.3: –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
```bash
node scripts/analyze_hardcoded.js

# –í—ã–±–µ—Ä–µ–º —Ç–æ–ø-5 —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
echo "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:"
head -5 /tmp/files_to_fix.json
```

**–®–∞–≥ 4.4: –ü—Ä–∏–º–µ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞**
–í–æ–∑—å–º–µ–º —Ñ–∞–π–ª —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–±–ª–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä `components/GIS/demo/MapDemo.tsx`:

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π):**
```typescript
// components/GIS/demo/MapDemo.tsx
const demoData = [
  {
    id: 1,
    title: '–•–æ—Å—Ç–µ–ª "–¶–µ–Ω—Ç—Ä"',  // –ü–†–û–ë–õ–ï–ú–ê: hardcoded
    description: '–£—é—Ç–Ω—ã–π —Ö–æ—Å—Ç–µ–ª –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞', // –ü–†–û–ë–õ–ï–ú–ê: hardcoded
    // ...
  }
];

return (
  <div>
    <h2>–î–µ–º–æ –∫–∞—Ä—Ç—ã</h2> {/* –ü–†–û–ë–õ–ï–ú–ê: hardcoded */}
    <p>–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã</p> {/* –ü–†–û–ë–õ–ï–ú–ê: hardcoded */}
  </div>
);
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:**
```typescript
// components/GIS/demo/MapDemo.tsx
import { useTranslations } from 'next-intl';

export default function MapDemo() {
  const t = useTranslations('demo.map');
  
  // –î–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  const demoData = [
    {
      id: 1,
      title: t('locations.hostel_center.title'),
      description: t('locations.hostel_center.description'),
      // ...
    }
  ];

  return (
    <div>
      <h2>{t('title')}</h2>
      <p>{t('description')}</p>
    </div>
  );
}
```

**–î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
```json
// messages/ru.json
{
  "demo": {
    "map": {
      "title": "–î–µ–º–æ –∫–∞—Ä—Ç—ã",
      "description": "–≠—Ç–æ –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã",
      "locations": {
        "hostel_center": {
          "title": "–•–æ—Å—Ç–µ–ª \"–¶–µ–Ω—Ç—Ä\"",
          "description": "–£—é—Ç–Ω—ã–π —Ö–æ—Å—Ç–µ–ª –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞"
        }
      }
    }
  }
}

// messages/en.json  
{
  "demo": {
    "map": {
      "title": "Map Demo", 
      "description": "This is an example of interactive map",
      "locations": {
        "hostel_center": {
          "title": "Hostel \"Center\"",
          "description": "Cozy hostel in the city center"
        }
      }
    }
  }
}

// messages/sr.json
{
  "demo": {
    "map": {
      "title": "–î–µ–º–æ –º–∞–ø–µ",
      "description": "–û–≤–æ —ò–µ –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–∞–ø–µ", 
      "locations": {
        "hostel_center": {
          "title": "–•–æ—Å—Ç–µ–ª \"–¶–µ–Ω—Ç–∞—Ä\"",
          "description": "–£—é—Ç–∞–Ω —Ö–æ—Å—Ç–µ–ª —É —Ü–µ–Ω—Ç—Ä—É –≥—Ä–∞–¥–∞"
        }
      }
    }
  }
}
```

**–®–∞–≥ 4.5: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**
–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç: `frontend/svetu/scripts/fix_hardcoded.js`
```javascript
const fs = require('fs');
const path = require('path');

class HardcodedFixer {
  constructor() {
    this.replacements = new Map();
    this.translationKeys = new Map();
  }
  
  // –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –∏ –Ω–∞–π—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è –∑–∞–º–µ–Ω—ã
  analyzeFile(filePath) {
    const content = fs.readFileSync(filePath, 'utf8');
    const issues = [];
    
    // –ù–∞–π—Ç–∏ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–∞–≤—ã—á–∫–∞—Ö
    const regex = /"([^"]{4,})"/g;
    let match;
    
    while ((match = regex.exec(content)) !== null) {
      const text = match[1];
      
      // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏
      if (this.shouldIgnore(text)) continue;
      
      issues.push({
        text: text,
        start: match.index,
        end: match.index + match[0].length,
        line: this.getLineNumber(content, match.index)
      });
    }
    
    return issues;
  }
  
  shouldIgnore(text) {
    const ignorePatterns = [
      /^[a-z-]+$/, // CSS –∫–ª–∞—Å—Å—ã
      /^\w+Id$/, // ID –∞—Ç—Ä–∏–±—É—Ç—ã  
      /^data-/, // data –∞—Ç—Ä–∏–±—É—Ç—ã
      /^aria-/, // aria –∞—Ç—Ä–∏–±—É—Ç—ã
      /^\d+$/, // —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
      /^[#@]/, // —Ö—ç—à—Ç–µ–≥–∏, —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
      /^\w+\.\w+$/, // —Ñ–∞–π–ª—ã
      /^https?:\/\//, // URL
    ];
    
    return ignorePatterns.some(pattern => pattern.test(text));
  }
  
  getLineNumber(content, index) {
    return content.substring(0, index).split('\n').length;  
  }
  
  // –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
  generateTranslationKey(text, namespace = 'common') {
    const key = text
      .toLowerCase()
      .replace(/[^\w\s]/g, '') // —É–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é
      .replace(/\s+/g, '_') // –ø—Ä–æ–±–µ–ª—ã –≤ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
      .substring(0, 50); // –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª–∏–Ω—É
      
    return `${namespace}.${key}`;
  }
  
  // –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
  fixFile(filePath, namespace) {
    const content = fs.readFileSync(filePath, 'utf8');
    const issues = this.analyzeFile(filePath);
    
    if (issues.length === 0) return null;
    
    let newContent = content;
    let offset = 0;
    const addedTranslations = {};
    
    // –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç useTranslations –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
    if (!content.includes('useTranslations')) {
      const importLine = "import { useTranslations } from 'next-intl';\n";
      newContent = importLine + newContent;
      offset += importLine.length;
    }
    
    // –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –≤—ã–∑–æ–≤—ã t()
    issues.reverse(); // –∏–¥–µ–º —Å –∫–æ–Ω—Ü–∞ —á—Ç–æ–±—ã –Ω–µ —Å–±–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
    
    issues.forEach(issue => {
      const translationKey = this.generateTranslationKey(issue.text, namespace); 
      const replacement = `{t('${translationKey.replace(namespace + '.', '')}')}`;
      
      const start = issue.start + offset;
      const end = issue.end + offset;
      
      newContent = 
        newContent.substring(0, start) + 
        replacement + 
        newContent.substring(end);
        
      // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
      addedTranslations[translationKey] = issue.text;
    });
    
    // –î–æ–±–∞–≤–∏—Ç—å —Ö—É–∫ useTranslations –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    if (issues.length > 0 && !content.includes('useTranslations(')) {
      const hookLine = `  const t = useTranslations('${namespace}');\n`;
      
      // –ù–∞–π—Ç–∏ –≥–¥–µ –≤—Å—Ç–∞–≤–∏—Ç—å (–ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
      const functionMatch = newContent.match(/(export\s+(?:default\s+)?function\s+\w+[^{]*\{)/);
      if (functionMatch) {
        const insertPos = functionMatch.index + functionMatch[1].length;
        newContent = 
          newContent.substring(0, insertPos) + 
          '\n' + hookLine + 
          newContent.substring(insertPos);
      }
    }
    
    return {
      content: newContent,
      translations: addedTranslations,
      issuesFixed: issues.length
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fixer = new HardcodedFixer();

// –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ø —Ñ–∞–π–ª—ã
const topFiles = [
  'components/GIS/demo/MapDemo.tsx',
  // –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –∞–Ω–∞–ª–∏–∑–∞
];

topFiles.forEach(filePath => {
  const fullPath = path.join(__dirname, '../src', filePath);
  
  if (!fs.existsSync(fullPath)) {
    console.log(`–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: ${filePath}`);
    return;
  }
  
  const namespace = 'demo'; // –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  const result = fixer.fixFile(fullPath, namespace);
  
  if (result) {
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
    fs.writeFileSync(fullPath + '.fixed', result.content);
    
    console.log(`–ò—Å–ø—Ä–∞–≤–ª–µ–Ω ${filePath}: ${result.issuesFixed} –ø—Ä–æ–±–ª–µ–º`);
    console.log('–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã:', result.translations);
  }
});
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ—ç—Ç–∞–ø–Ω–æ):**
```bash
# 1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
cd frontend/svetu
node scripts/analyze_hardcoded.js

# 2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ø-5 —Ñ–∞–π–ª–æ–≤ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–æ–º
node scripts/fix_hardcoded.js

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
for file in components/**/*.tsx.fixed; do
  echo "=== $file ==="
  diff "${file%.fixed}" "$file" | head -10
done

# 4. –ï—Å–ª–∏ –≤—Å–µ –û–ö, –∑–∞–º–µ–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
for file in components/**/*.tsx.fixed; do
  mv "$file" "${file%.fixed}"
done

# 5. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ JSON —Ñ–∞–π–ª—ã (–≤—Ä—É—á–Ω—É—é)
# 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
yarn dev -p 3001
```

</details>

---

#### –ü—Ä–æ–±–ª–µ–º–∞ #5: Backend API –±–µ–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
**–í–ª–∏—è–Ω–∏–µ**: API –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
**–§–∞–π–ª—ã**: `backend/internal/middleware/`, `backend/internal/proj/*/handler/`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ Accept-Language, –Ω–µ—Ç Content-Language headers

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ Backend</summary>

**–®–∞–≥ 5.1: –°–æ–∑–¥–∞–Ω–∏–µ middleware –¥–ª—è —è–∑—ã–∫–∞**
–§–∞–π–ª: `backend/internal/middleware/locale.go`
```go
package middleware

import (
    "context"
    "strings"
    
    "github.com/gofiber/fiber/v2"
    "golang.org/x/text/language"
)

type LocaleConfig struct {
    SupportedLocales []string
    DefaultLocale    string
    Sources          []string // cookie, header, query, domain
}

func DefaultLocaleConfig() LocaleConfig {
    return LocaleConfig{
        SupportedLocales: []string{"ru", "sr", "en"},
        DefaultLocale:    "ru",
        Sources:          []string{"cookie", "header", "query", "domain"},
    }
}

func New(config ...LocaleConfig) fiber.Handler {
    cfg := DefaultLocaleConfig()
    if len(config) > 0 {
        cfg = config[0]
    }
    
    return func(c *fiber.Ctx) error {
        locale := detectLocale(c, cfg)
        
        // Set locale in context for handlers
        c.Locals("locale", locale)
        c.Locals("language", locale) // alias
        
        // Set Content-Language header in response
        c.Set("Content-Language", locale)
        
        return c.Next()
    }
}

func detectLocale(c *fiber.Ctx, cfg LocaleConfig) string {
    for _, source := range cfg.Sources {
        switch source {
        case "query":
            if locale := c.Query("lang"); locale != "" {
                if isSupported(locale, cfg.SupportedLocales) {
                    return locale
                }
            }
            
        case "cookie":
            if locale := c.Cookies("locale-preference"); locale != "" {
                if isSupported(locale, cfg.SupportedLocales) {
                    return locale
                }
            }
            
        case "header":
            if locale := parseAcceptLanguage(c.Get("Accept-Language"), cfg.SupportedLocales); locale != "" {
                return locale
            }
            
        case "domain":
            if locale := detectFromDomain(c.Hostname(), cfg.SupportedLocales); locale != "" {
                return locale
            }
        }
    }
    
    return cfg.DefaultLocale
}

func parseAcceptLanguage(header string, supported []string) string {
    if header == "" {
        return ""
    }
    
    // Parse Accept-Language header
    // "ru-RU,ru;q=0.9,en;q=0.8,sr;q=0.7"
    parts := strings.Split(header, ",")
    
    for _, part := range parts {
        // Remove quality factor
        locale := strings.Split(strings.TrimSpace(part), ";")[0]
        
        // Extract primary language
        primaryLang := strings.Split(locale, "-")[0]
        
        if isSupported(primaryLang, supported) {
            return primaryLang
        }
    }
    
    return ""
}

func detectFromDomain(hostname string, supported []string) string {
    switch {
    case strings.HasSuffix(hostname, ".rs"):
        if isSupported("sr", supported) {
            return "sr"
        }
    case strings.HasSuffix(hostname, ".ru"):
        if isSupported("ru", supported) {
            return "ru"
        }
    }
    
    return ""
}

func isSupported(locale string, supported []string) bool {
    for _, s := range supported {
        if s == locale {
            return true
        }
    }
    return false
}

// Helper function to get locale from context
func GetLocale(c *fiber.Ctx) string {
    if locale, ok := c.Locals("locale").(string); ok {
        return locale
    }
    return "ru" // fallback
}
```

**–®–∞–≥ 5.2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
–§–∞–π–ª: `backend/internal/services/translation_service.go`
```go
package services

import (
    "context"
    "database/sql"
    "fmt"
    "sync"
    "time"
    
    "github.com/go-redis/redis/v8"
)

type TranslationService struct {
    db    *sql.DB
    cache *redis.Client
    mu    sync.RWMutex
    
    // In-memory cache –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    localCache map[string]map[string]string // [language][key]value
}

type Translation struct {
    EntityType     string `json:"entity_type"`
    EntityID       int    `json:"entity_id"`
    Language       string `json:"language"`
    FieldName      string `json:"field_name"`
    TranslatedText string `json:"translated_text"`
    IsVerified     bool   `json:"is_verified"`
}

func NewTranslationService(db *sql.DB, cache *redis.Client) *TranslationService {
    return &TranslationService{
        db:         db,
        cache:      cache,
        localCache: make(map[string]map[string]string),
    }
}

// GetTranslation –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
func (s *TranslationService) GetTranslation(ctx context.Context, entityType string, entityID int, fieldName, language string) (string, error) {
    cacheKey := fmt.Sprintf("translation:%s:%d:%s:%s", entityType, entityID, fieldName, language)
    
    // 1. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Redis cache
    if s.cache != nil {
        if cached := s.cache.Get(ctx, cacheKey); cached.Err() == nil {
            return cached.Val(), nil
        }
    }
    
    // 2. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ë–î
    query := `
        SELECT translated_text 
        FROM translations 
        WHERE entity_type = $1 AND entity_id = $2 AND field_name = $3 AND language = $4
        LIMIT 1
    `
    
    var translatedText string
    err := s.db.QueryRowContext(ctx, query, entityType, entityID, fieldName, language).Scan(&translatedText)
    
    if err == sql.ErrNoRows {
        // Fallback –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É –∏–ª–∏ –¥—Ä—É–≥–æ–º—É —è–∑—ã–∫—É
        return s.getFallbackTranslation(ctx, entityType, entityID, fieldName, language)
    }
    
    if err != nil {
        return "", err
    }
    
    // –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if s.cache != nil {
        s.cache.Set(ctx, cacheKey, translatedText, time.Hour)
    }
    
    return translatedText, nil
}

func (s *TranslationService) getFallbackTranslation(ctx context.Context, entityType string, entityID int, fieldName, language string) (string, error) {
    // –ü–æ—Ä—è–¥–æ–∫ fallback: ru -> en -> sr
    fallbackOrder := []string{"ru", "en", "sr"}
    
    for _, fallbackLang := range fallbackOrder {
        if fallbackLang == language {
            continue // –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—Ç –∂–µ —è–∑—ã–∫
        }
        
        query := `
            SELECT translated_text 
            FROM translations 
            WHERE entity_type = $1 AND entity_id = $2 AND field_name = $3 AND language = $4
            LIMIT 1
        `
        
        var translatedText string
        err := s.db.QueryRowContext(ctx, query, entityType, entityID, fieldName, fallbackLang).Scan(&translatedText)
        
        if err == nil {
            return translatedText, nil
        }
    }
    
    // –ï—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
    return s.getOriginalText(ctx, entityType, entityID, fieldName)
}

func (s *TranslationService) getOriginalText(ctx context.Context, entityType string, entityID int, fieldName string) (string, error) {
    // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
    // –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç entity_type
    
    switch entityType {
    case "listing":
        return s.getListingOriginalText(ctx, entityID, fieldName)
    case "category":
        return s.getCategoryOriginalText(ctx, entityID, fieldName)
    // –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã
    }
    
    return "", fmt.Errorf("original text not found for %s:%d:%s", entityType, entityID, fieldName)
}

func (s *TranslationService) getListingOriginalText(ctx context.Context, listingID int, fieldName string) (string, error) {
    var query string
    switch fieldName {
    case "title":
        query = "SELECT title FROM marketplace_listings WHERE id = $1"
    case "description":
        query = "SELECT description FROM marketplace_listings WHERE id = $1"
    default:
        return "", fmt.Errorf("unknown field: %s", fieldName)
    }
    
    var text string
    err := s.db.QueryRowContext(ctx, query, listingID).Scan(&text)
    return text, err
}

func (s *TranslationService) getCategoryOriginalText(ctx context.Context, categoryID int, fieldName string) (string, error) {
    var query string
    switch fieldName {
    case "name":
        query = "SELECT name FROM marketplace_categories WHERE id = $1"
    case "description":
        query = "SELECT description FROM marketplace_categories WHERE id = $1"
    default:
        return "", fmt.Errorf("unknown field: %s", fieldName)
    }
    
    var text string
    err := s.db.QueryRowContext(ctx, query, categoryID).Scan(&text)
    return text, err
}

// GetEntityTranslations –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏
func (s *TranslationService) GetEntityTranslations(ctx context.Context, entityType string, entityID int, language string) (map[string]string, error) {
    query := `
        SELECT field_name, translated_text 
        FROM translations 
        WHERE entity_type = $1 AND entity_id = $2 AND language = $3
    `
    
    rows, err := s.db.QueryContext(ctx, query, entityType, entityID, language)
    if err != nil {
        return nil, err
    }
    defer rows.Close()
    
    result := make(map[string]string)
    for rows.Next() {
        var fieldName, translatedText string
        if err := rows.Scan(&fieldName, &translatedText); err != nil {
            return nil, err
        }
        result[fieldName] = translatedText
    }
    
    return result, nil
}

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
var SystemMessages = map[string]map[string]string{
    "errors": {
        "ru": map[string]string{
            "validation.required": "–ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è",
            "validation.email":    "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email",
            "auth.unauthorized":   "–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
            "auth.forbidden":      "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω",
            "server.internal":     "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
        },
        "en": map[string]string{
            "validation.required": "Field is required",
            "validation.email":    "Invalid email format",
            "auth.unauthorized":   "Authorization required",
            "auth.forbidden":      "Access forbidden",
            "server.internal":     "Internal server error",
        },
        "sr": map[string]string{
            "validation.required": "–ü–æ—ô–µ —ò–µ –æ–±–∞–≤–µ–∑–Ω–æ",
            "validation.email":    "–ù–µ–∏—Å–ø—Ä–∞–≤–∞–Ω —Ñ–æ—Ä–º–∞—Ç –µ–º–∞–∏–ª-–∞",
            "auth.unauthorized":   "–ü–æ—Ç—Ä–µ–±–Ω–∞ —ò–µ –∞—É—Ç–æ—Ä–∏–∑–∞—Ü–∏—ò–∞",
            "auth.forbidden":      "–ü—Ä–∏—Å—Ç—É–ø –∑–∞–±—Ä–∞—ö–µ–Ω", 
            "server.internal":     "–£–Ω—É—Ç—Ä–∞—à—ö–∞ –≥—Ä–µ—à–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞",
        },
    },
}

func (s *TranslationService) GetSystemMessage(key, language string) string {
    if msgs, ok := SystemMessages["errors"][language]; ok {
        if msg, ok := msgs[key]; ok {
            return msg
        }
    }
    
    // Fallback –∫ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É
    if msgs, ok := SystemMessages["errors"]["en"]; ok {
        if msg, ok := msgs[key]; ok {
            return msg
        }
    }
    
    return key // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª—é—á –µ—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä–µ–≤–æ–¥–∞
}
```

**–®–∞–≥ 5.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
–§–∞–π–ª: `backend/internal/proj/marketplace/handler/handler.go`
```go
package handler

import (
    "context"
    "net/http"
    
    "github.com/gofiber/fiber/v2"
    "your-project/internal/middleware"
    "your-project/internal/services"
)

type Handler struct {
    marketplaceService *services.MarketplaceService
    translationService *services.TranslationService
}

func New(ms *services.MarketplaceService, ts *services.TranslationService) *Handler {
    return &Handler{
        marketplaceService: ms,
        translationService: ts,
    }
}

// GetListings –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
func (h *Handler) GetListings(c *fiber.Ctx) error {
    language := middleware.GetLocale(c)
    
    // –ü–æ–ª—É—á–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
    listings, err := h.marketplaceService.GetListings(c.Context(), /* –ø–∞—Ä–∞–º–µ—Ç—Ä—ã */)
    if err != nil {
        return h.errorResponse(c, "listings.getError", err, language)
    }
    
    // –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã
    for i, listing := range listings {
        translations, err := h.translationService.GetEntityTranslations(
            c.Context(), "listing", listing.ID, language,
        )
        if err == nil {
            // –ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
            if title, ok := translations["title"]; ok {
                listings[i].Title = title
            }
            if description, ok := translations["description"]; ok {
                listings[i].Description = description
            }
        }
    }
    
    return c.JSON(fiber.Map{
        "success": true,
        "data":    listings,
        "meta": fiber.Map{
            "language": language,
            "total":    len(listings),
        },
    })
}

// errorResponse –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É
func (h *Handler) errorResponse(c *fiber.Ctx, errorKey string, err error, language string) error {
    message := h.translationService.GetSystemMessage(errorKey, language)
    
    // –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
    // log.Error("API Error", "key", errorKey, "error", err, "language", language)
    
    return c.Status(http.StatusInternalServerError).JSON(fiber.Map{
        "success": false,
        "error": fiber.Map{
            "message": message,
            "code":    errorKey,
        },
        "meta": fiber.Map{
            "language": language,
        },
    })
}
```

**–®–∞–≥ 5.4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
–§–∞–π–ª: `backend/internal/server/server.go`
```go
func (s *Server) setupRoutes() {
    // –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
    s.app.Use(localeMiddleware.New(localeMiddleware.LocaleConfig{
        SupportedLocales: []string{"ru", "sr", "en"},
        DefaultLocale:    "ru",
        Sources:          []string{"cookie", "header", "query", "domain"},
    }))
    
    // –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    translationService := services.NewTranslationService(s.db, s.redis)
    
    // –ü–µ—Ä–µ–¥–∞—Ç—å –≤ —Ö–µ–Ω–¥–ª–µ—Ä—ã
    marketplaceHandler := marketplaceHandler.New(s.marketplaceService, translationService)
    
    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
    api := s.app.Group("/api/v1")
    api.Get("/marketplace/listings", marketplaceHandler.GetListings)
    // ... –¥—Ä—É–≥–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã
}
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```bash
# 1. –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
curl -H "Accept-Language: ru-RU,ru;q=0.9" http://localhost:3000/api/v1/marketplace/listings
curl -H "Accept-Language: sr-RS,sr;q=0.9" http://localhost:3000/api/v1/marketplace/listings
curl -H "Accept-Language: en-US,en;q=0.9" http://localhost:3000/api/v1/marketplace/listings

# 2. –¢–µ—Å—Ç —Å cookie
curl -H "Cookie: locale-preference=sr" http://localhost:3000/api/v1/marketplace/listings

# 3. –¢–µ—Å—Ç —Å query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
curl http://localhost:3000/api/v1/marketplace/listings?lang=en

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Content-Language header –≤ –æ—Ç–≤–µ—Ç–µ
curl -I -H "Accept-Language: ru" http://localhost:3000/api/v1/marketplace/listings
```

</details>

---

### üü¢ –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –¥–µ–ª–∞—Ç—å –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å)

#### –ü—Ä–æ–±–ª–µ–º–∞ #6: –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
**–í–ª–∏—è–Ω–∏–µ**: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑-–∑–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤  
**–§–∞–π–ª—ã**: `frontend/svetu/src/messages/*.json`, `frontend/svetu/src/i18n/`  
**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å**: –í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É, –Ω–µ—Ç lazy loading

<details>
<summary>üìÅ –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏</summary>

**–®–∞–≥ 6.1: –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤**
```bash
cd frontend/svetu/src/messages

echo "–†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:"
ls -lh *.json

echo -e "\n–¢–æ–ø —Ä–∞–∑–¥–µ–ª–æ–≤ –ø–æ —Ä–∞–∑–º–µ—Ä—É:"
for file in *.json; do
    echo "=== $file ==="
    jq -r 'to_entries[] | "\(.key): \(.value | tostring | length) —Å–∏–º–≤–æ–ª–æ–≤"' "$file" | sort -n -k2 | tail -5
done
```

**–®–∞–≥ 6.2: –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –º–æ–¥—É–ª–∏**
–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É: `frontend/svetu/src/messages/modules/`
```bash
mkdir -p frontend/svetu/src/messages/modules/{common,marketplace,storefronts,admin,auth}

# –†–∞–∑–±–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ –º–æ–¥—É–ª—è–º
cd frontend/svetu/src/messages

# –û–±—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã (–≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è)
jq '{common: .common, errors: .errors, navigation: .navigation, header: .header}' ru.json > modules/common/ru.json
jq '{common: .common, errors: .errors, navigation: .navigation, header: .header}' en.json > modules/common/en.json  
jq '{common: .common, errors: .errors, navigation: .navigation, header: .header}' sr.json > modules/common/sr.json

# –ú–æ–¥—É–ª—å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
jq '{marketplace: .marketplace, listing: .listing, search: .search, map: .map}' ru.json > modules/marketplace/ru.json
jq '{marketplace: .marketplace, listing: .listing, search: .search, map: .map}' en.json > modules/marketplace/en.json
jq '{marketplace: .marketplace, listing: .listing, search: .search, map: .map}' sr.json > modules/marketplace/sr.json

# –ú–æ–¥—É–ª—å –≤–∏—Ç—Ä–∏–Ω  
jq '{storefront: .storefront, products: .products, orders: .orders}' ru.json > modules/storefronts/ru.json
jq '{storefront: .storefront, products: .products, orders: .orders}' en.json > modules/storefronts/en.json
jq '{storefront: .storefront, products: .products, orders: .orders}' sr.json > modules/storefronts/sr.json

# –ê–¥–º–∏–Ω–∫–∞
jq '{admin: .admin, analytics: .analytics, permissions: .permissions, roles: .roles}' ru.json > modules/admin/ru.json
jq '{admin: .admin, analytics: .analytics, permissions: .permissions, roles: .roles}' en.json > modules/admin/en.json  
jq '{admin: .admin, analytics: .analytics, permissions: .permissions, roles: .roles}' sr.json > modules/admin/sr.json

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
jq '{auth: .auth, profile: .profile, validation: .validation}' ru.json > modules/auth/ru.json
jq '{auth: .auth, profile: .profile, validation: .validation}' en.json > modules/auth/en.json
jq '{auth: .auth, profile: .profile, validation: .validation}' sr.json > modules/auth/sr.json
```

**–®–∞–≥ 6.3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏**
–§–∞–π–ª: `frontend/svetu/src/i18n/dynamic-loader.ts`
```typescript
import { Locale } from './config';

export type MessageModule = 'common' | 'marketplace' | 'storefronts' | 'admin' | 'auth';

interface LoadedModules {
  [locale: string]: {
    [module: string]: Record<string, any>;
  };
}

class DynamicTranslationLoader {
  private loadedModules: LoadedModules = {};
  private loadingPromises: Map<string, Promise<Record<string, any>>> = new Map();

  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
  async loadCommonMessages(locale: Locale): Promise<Record<string, any>> {
    const cacheKey = `${locale}-common`;
    
    if (this.loadedModules[locale]?.common) {
      return this.loadedModules[locale].common;
    }

    try {
      const messages = await import(`../messages/modules/common/${locale}.json`).then(m => m.default);
      
      if (!this.loadedModules[locale]) {
        this.loadedModules[locale] = {};
      }
      
      this.loadedModules[locale].common = messages;
      return messages;
    } catch (error) {
      console.error(`Failed to load common messages for ${locale}:`, error);
      
      // Fallback –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ñ–∞–π–ª—É
      const fallbackMessages = await import(`../messages/${locale}.json`).then(m => m.default);
      return {
        common: fallbackMessages.common || {},
        errors: fallbackMessages.errors || {},
        navigation: fallbackMessages.navigation || {},
        header: fallbackMessages.header || {},
      };
    }
  }

  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
  async loadModule(locale: Locale, module: MessageModule): Promise<Record<string, any>> {
    const cacheKey = `${locale}-${module}`;
    
    // –ï—Å–ª–∏ –º–æ–¥—É–ª—å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω
    if (this.loadedModules[locale]?.[module]) {
      return this.loadedModules[locale][module];
    }

    // –ï—Å–ª–∏ –º–æ–¥—É–ª—å —É–∂–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
    if (this.loadingPromises.has(cacheKey)) {
      return this.loadingPromises.get(cacheKey)!;
    }

    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å
    const loadingPromise = this.doLoadModule(locale, module);
    this.loadingPromises.set(cacheKey, loadingPromise);

    try {
      const messages = await loadingPromise;
      
      if (!this.loadedModules[locale]) {
        this.loadedModules[locale] = {};
      }
      
      this.loadedModules[locale][module] = messages;
      return messages;
    } finally {
      this.loadingPromises.delete(cacheKey);
    }
  }

  private async doLoadModule(locale: Locale, module: MessageModule): Promise<Record<string, any>> {
    try {
      return await import(`../messages/modules/${module}/${locale}.json`).then(m => m.default);
    } catch (error) {
      console.error(`Failed to load module ${module} for ${locale}:`, error);
      
      // Fallback –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ñ–∞–π–ª—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤
      const fullMessages = await import(`../messages/${locale}.json`).then(m => m.default);
      
      // –ò–∑–≤–ª–µ—á—å –Ω—É–∂–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥—É–ª—è
      switch (module) {
        case 'marketplace':
          return {
            marketplace: fullMessages.marketplace || {},
            listing: fullMessages.listing || {},
            search: fullMessages.search || {},
            map: fullMessages.map || {},
          };
        case 'storefronts':
          return {
            storefront: fullMessages.storefront || {},
            products: fullMessages.products || {},
            orders: fullMessages.orders || {},
          };
        case 'admin':
          return {
            admin: fullMessages.admin || {},
            analytics: fullMessages.analytics || {},
            permissions: fullMessages.permissions || {},
            roles: fullMessages.roles || {},
          };
        case 'auth':
          return {
            auth: fullMessages.auth || {},
            profile: fullMessages.profile || {},
            validation: fullMessages.validation || {},
          };
        default:
          return {};
      }
    }
  }

  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª–∏
  getAllLoadedMessages(locale: Locale): Record<string, any> {
    const localeModules = this.loadedModules[locale] || {};
    
    // –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
    let allMessages = {};
    for (const moduleMessages of Object.values(localeModules)) {
      allMessages = { ...allMessages, ...moduleMessages };
    }
    
    return allMessages;
  }

  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
  async preloadModulesForRoute(locale: Locale, route: string): Promise<void> {
    const routeModules = this.getModulesForRoute(route);
    
    await Promise.all(
      routeModules.map(module => this.loadModule(locale, module))
    );
  }

  private getModulesForRoute(route: string): MessageModule[] {
    if (route.startsWith('/marketplace') || route.startsWith('/listings')) {
      return ['marketplace'];
    }
    
    if (route.startsWith('/storefronts') || route.startsWith('/products')) {
      return ['storefronts'];
    }
    
    if (route.startsWith('/admin')) {
      return ['admin'];
    }
    
    if (route.startsWith('/auth') || route.startsWith('/profile')) {
      return ['auth'];
    }
    
    return [];
  }
}

export const dynamicLoader = new DynamicTranslationLoader();
```

**–®–∞–≥ 6.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ i18n**
–§–∞–π–ª: `frontend/svetu/src/i18n/config.ts`
```typescript
import { dynamicLoader, MessageModule } from './dynamic-loader';

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–æ–¥—É–ª–µ–π
export async function getLocaleMessages(locale: Locale): Promise<Record<string, any>> {
  try {
    // –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º –æ–±—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    const commonMessages = await dynamicLoader.loadCommonMessages(locale);
    
    // –ï—Å–ª–∏ —ç—Ç–æ SSR –∏–ª–∏ –ø–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ common
    if (typeof window === 'undefined') {
      return commonMessages;
    }
    
    // –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –º–æ–∂–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Ä—à—Ä—É—Ç–∞
    const currentPath = window.location.pathname;
    await dynamicLoader.preloadModulesForRoute(locale, currentPath);
    
    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    return dynamicLoader.getAllLoadedMessages(locale);
  } catch (error) {
    console.error(`Failed to load messages for locale ${locale}:`, error);
    
    // Fallback –∫ –ø–æ–ª–Ω–æ–º—É —Ñ–∞–π–ª—É
    return import(`../messages/${locale}.json`).then(m => m.default);
  }
}

// –•—É–∫ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
export function useDynamicTranslations(module: MessageModule) {
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<Error | null>(null);
  const locale = useLocale();
  
  useEffect(() => {
    let mounted = true;
    
    async function loadModule() {
      if (dynamicLoader.getAllLoadedMessages(locale)[module]) {
        return; // —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω
      }
      
      setIsLoading(true);
      setError(null);
      
      try {
        await dynamicLoader.loadModule(locale, module);
        
        if (mounted) {
          setIsLoading(false);
          // Trigger re-render –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
          // forceUpdate();
        }
      } catch (err) {
        if (mounted) {
          setError(err instanceof Error ? err : new Error('Loading failed'));
          setIsLoading(false);
        }
      }
    }
    
    loadModule();
    
    return () => {
      mounted = false;
    };
  }, [locale, module]);
  
  return { isLoading, error };
}
```

**–®–∞–≥ 6.5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏**
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
```typescript
// components/marketplace/MarketplacePage.tsx
import { useDynamicTranslations } from '@/i18n/config';

export default function MarketplacePage() {
  const t = useTranslations();
  const { isLoading, error } = useDynamicTranslations('marketplace');
  
  if (isLoading) {
    return <div>Loading translations...</div>;
  }
  
  if (error) {
    console.error('Translation loading error:', error);
    // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
  }
  
  return (
    <div>
      <h1>{t('marketplace.title')}</h1>
      {/* –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
    </div>
  );
}
```

**–®–∞–≥ 6.6: –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**
–§–∞–π–ª: `frontend/svetu/src/components/NavigationPreloader.tsx`
```typescript
'use client';

import { usePathname } from 'next/navigation';
import { useLocale } from 'next-intl';
import { useEffect } from 'react';
import { dynamicLoader } from '@/i18n/dynamic-loader';

export default function NavigationPreloader() {
  const pathname = usePathname();
  const locale = useLocale();
  
  useEffect(() => {
    // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
    dynamicLoader.preloadModulesForRoute(locale, pathname);
  }, [pathname, locale]);
  
  return null; // –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–≤–∏–¥–∏–º—ã–π
}
```

**–î–æ–±–∞–≤–∏—Ç—å –≤ layout:**
```typescript
// app/[locale]/layout.tsx
import NavigationPreloader from '@/components/NavigationPreloader';

export default function RootLayout({ children, params }: {
  children: React.ReactNode;
  params: { locale: string };
}) {
  return (
    <html lang={params.locale}>
      <body>
        <NavigationPreloader />
        {children}
      </body>
    </html>
  );
}
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```bash
# 1. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –¥–æ –∏ –ø–æ—Å–ª–µ
cd frontend/svetu/src/messages

echo "–†–∞–∑–º–µ—Ä—ã –¥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è:"
ls -lh *.json

echo -e "\n–†–∞–∑–º–µ—Ä—ã –ø–æ—Å–ª–µ —Ä–∞–∑–±–∏–µ–Ω–∏—è:"
find modules/ -name "*.json" -exec ls -lh {} \;

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
yarn dev -p 3001
# –û—Ç–∫—Ä—ã—Ç—å DevTools -> Network -> –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ .json
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –º–æ–¥—É–ª–∏

# 3. –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
yarn build
yarn start
# Lighthouse audit –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```

</details>

---

## ‚è±Ô∏è –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–ª–∞–Ω

### –ù–µ–¥–µ–ª—è 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (OpenSearch)
**–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–í—Ç–æ—Ä–Ω–∏–∫**: –ê–Ω–∞–ª–∏–∑ –∏ backup
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è OpenSearch
- –°–æ–∑–¥–∞–Ω–∏–µ backup –∏–Ω–¥–µ–∫—Å–∞
- –î–∏–∑–∞–π–Ω –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å—é

**–°—Ä–µ–¥–∞-–ß–µ—Ç–≤–µ—Ä–≥**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ —Å language analyzers
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Go –∫–æ–¥–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—è—Ç–Ω–∏—Ü–∞**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–ª–∏–∞—Å–∞ –Ω–∞ –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö

### –ù–µ–¥–µ–ª—è 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —è–∑—ã–∫–æ–≤ –∏ Backend –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
**–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Frontend
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–∏–Ω–≥–∞ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–í—Ç–æ—Ä–Ω–∏–∫-–°—Ä–µ–¥–∞**: Backend –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ middleware –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API handlers

**–ß–µ—Ç–≤–µ—Ä–≥-–ü—è—Ç–Ω–∏—Ü–∞**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è middleware –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å —Ä–∞–∑–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
- –û—Ç–ª–∞–¥–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### –ù–µ–¥–µ–ª—è 3: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ hardcoded —Å—Ç—Ä–æ–∫–∏
**–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ "storefront" –≤ —Å–µ—Ä–±—Å–∫–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–í—Ç–æ—Ä–Ω–∏–∫-–ß–µ—Ç–≤–µ—Ä–≥**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ hardcoded —Å—Ç—Ä–æ–∫
- –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç hardcoded —Å—Ç—Ä–æ–∫
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ø-10 —Ñ–∞–π–ª–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ JSON

**–ü—è—Ç–Ω–∏—Ü–∞**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–µ–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ù–µ–¥–µ–ª—è 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–í—Ç–æ—Ä–Ω–∏–∫**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ –º–æ–¥—É–ª–∏
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º

**–°—Ä–µ–¥–∞**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ 3 —è–∑—ã–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–ß–µ—Ç–≤–µ—Ä–≥**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

**–ü—è—Ç–Ω–∏—Ü–∞**: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ staging
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ production-–ø–æ–¥–æ–±–Ω–æ–π —Å—Ä–µ–¥–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
```typescript
// frontend/svetu/src/__tests__/i18n/translations.test.ts
describe('Translation System', () => {
  test('should load all required languages', async () => {
    for (const locale of ['ru', 'sr', 'en']) {
      const messages = await getLocaleMessages(locale);
      expect(messages).toBeDefined();
      expect(Object.keys(messages).length).toBeGreaterThan(0);
    }
  });
  
  test('should have storefront section in all languages', async () => {
    for (const locale of ['ru', 'sr', 'en']) {
      const messages = await getLocaleMessages(locale);
      expect(messages.storefront).toBeDefined();
    }
  });
  
  test('should fallback to default language', async () => {
    // –¢–µ—Å—Ç fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞
    const fallbackMessage = await getFallbackTranslation('nonexistent.key', 'invalid-lang');
    expect(fallbackMessage).toBeTruthy();
  });
});
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
#!/bin/bash
# tests/integration/multilingual.sh

echo "Testing multilingual API endpoints..."

# Test Russian
echo "Testing Russian API..."
RESPONSE=$(curl -s -H "Accept-Language: ru-RU" http://localhost:3000/api/v1/marketplace/listings)
echo $RESPONSE | jq -r '.meta.language' | grep -q "ru" || echo "FAIL: Russian API"

# Test Serbian  
echo "Testing Serbian API..."
RESPONSE=$(curl -s -H "Accept-Language: sr-RS" http://localhost:3000/api/v1/marketplace/listings)
echo $RESPONSE | jq -r '.meta.language' | grep -q "sr" || echo "FAIL: Serbian API"

# Test English
echo "Testing English API..."
RESPONSE=$(curl -s -H "Accept-Language: en-US" http://localhost:3000/api/v1/marketplace/listings)
echo $RESPONSE | jq -r '.meta.language' | grep -q "en" || echo "FAIL: English API"

echo "Multilingual API tests completed"
```

### E2E —Ç–µ—Å—Ç—ã
```typescript
// frontend/svetu/e2e/multilingual.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Multilingual functionality', () => {
  test('should switch languages correctly', async ({ page }) => {
    await page.goto('/');
    
    // Test Russian
    await page.click('[data-testid="language-switcher"]');
    await page.click('[data-testid="language-ru"]');
    await expect(page.locator('h1')).toContainText('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å');
    
    // Test Serbian
    await page.click('[data-testid="language-switcher"]');
    await page.click('[data-testid="language-sr"]');
    await expect(page.locator('h1')).toContainText('–î–æ–±—Ä–æ–¥–æ—à–ª–∏');
    
    // Test English
    await page.click('[data-testid="language-switcher"]');
    await page.click('[data-testid="language-en"]');
    await expect(page.locator('h1')).toContainText('Welcome');
  });
  
  test('should show correct search results for different languages', async ({ page }) => {
    // Test search in Russian
    await page.goto('/ru/marketplace');
    await page.fill('[data-testid="search-input"]', '–∞–≤—Ç–æ–º–æ–±–∏–ª—å');
    await page.press('[data-testid="search-input"]', 'Enter');
    await expect(page.locator('[data-testid="search-results"]')).toBeVisible();
    
    // Test search in Serbian
    await page.goto('/sr/marketplace');
    await page.fill('[data-testid="search-input"]', '–∞—É—Ç–æ–º–æ–±–∏–ª');
    await page.press('[data-testid="search-input"]', 'Enter');
    await expect(page.locator('[data-testid="search-results"]')).toBeVisible();
  });
});
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### KPI –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```yaml
# –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
translation_coverage:
  current: 95%
  target: 99%
  measurement: "% –∫–ª—é—á–µ–π —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤"

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞  
search_performance:
  current: "60% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –Ω–µ–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
  target: "90% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤"
  measurement: "—Å—Ä–µ–¥–Ω—è—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø–æ —è–∑—ã–∫–∞–º"

# –†–∞–∑–º–µ—Ä –ø–µ—Ä–µ–≤–æ–¥–æ–≤
translation_bundle_size:
  current: "4.2MB –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä JSON —Ñ–∞–π–ª–æ–≤"
  target: "1.5MB –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ"
  measurement: "—Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤"

# Hardcoded —Å—Ç—Ä–æ–∫–∏
hardcoded_strings:
  current: "20+ —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
  target: "0 hardcoded —Å—Ç—Ä–æ–∫ –≤ production –∫–æ–¥–µ"
  measurement: "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ–ª–æ–∫–∞–ª–∏–∑–∞–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
#!/bin/bash
# scripts/check_translation_coverage.sh

echo "Checking translation coverage..."

cd frontend/svetu/src/messages

echo "=== Coverage by language ==="
for lang in ru en sr; do
    total_keys=$(jq -r 'paths(scalars) as $p | $p | join(".")' ${lang}.json | wc -l)
    echo "$lang: $total_keys keys"
done

echo -e "\n=== Missing translations ==="
# –°—Ä–∞–≤–Ω–∏—Ç—å –∫–ª—é—á–∏ –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏ –∏ –Ω–∞–π—Ç–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ
./scripts/find_missing_translations.js

echo -e "\n=== Hardcoded strings check ==="
grep -r "\"[–ê-–Ø–∞-—è][–ê-–Ø–∞-—è ]{3,}\"" ../components/ --include="*.tsx" | wc -l | xargs echo "Cyrillic hardcoded strings found:"
```

---

## üöÄ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (MUST HAVE)
- [ ] **OpenSearch –∏–Ω–¥–µ–∫—Å** —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ –ë–î –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- [ ] **–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —Å–µ—Ä–±—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º  
- [ ] **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç** –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Language header
- [ ] **Frontend –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** —è–∑—ã–∫ –∏–∑ Accept-Language, cookie –∏ –¥–æ–º–µ–Ω–∞
- [ ] **–í—Å–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤** —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–π
- [ ] **0 hardcoded —Å—Ç—Ä–æ–∫** –≤ production –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- [ ] **Fallback –º–µ—Ö–∞–Ω–∏–∑–º** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (SHOULD HAVE)  
- [ ] **Lazy loading** –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞** –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ Redis —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ CI/CD
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: < 1.5MB –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–∞**: < 200ms
- [ ] **–ü–æ–∏—Å–∫ –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ**: < 500ms –æ—Ç–≤–µ—Ç
- [ ] **API —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏**: < 300ms –æ—Ç–≤–µ—Ç

---

## üõ†Ô∏è –ì–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ –∫–æ–º–∞–Ω–¥—ã

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
```bash
#!/bin/bash
# scripts/quick_start_multilingual.sh

echo "üåç –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏"

# 1. Backup —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
echo "üìÅ –°–æ–∑–¥–∞–Ω–∏–µ backup..."
mkdir -p backups/$(date +%Y%m%d_%H%M%S)
cp -r frontend/svetu/src/messages backups/$(date +%Y%m%d_%H%M%S)/
curl -X POST "http://localhost:9200/_reindex" -H "Content-Type: application/json" -d '{
  "source": {"index": "marketplace"},
  "dest": {"index": "marketplace_backup_$(date +%Y%m%d)"
}}'

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
echo "üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è..."
./scripts/analyze_multilingual_status.sh

# 3. –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
echo "‚ö° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±—ã—Å—Ç—Ä—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π..."

# –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π storefront –≤ sr.json
jq '.storefront = (.storefront // {})' frontend/svetu/src/messages/en.json > /tmp/storefront_template.json
echo "–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ /tmp/storefront_template.json –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:"
echo "jq -s '.[0] * .[1]' frontend/svetu/src/messages/sr.json /tmp/storefront_template.json > frontend/svetu/src/messages/sr.json.new"

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –°–ª–µ–¥—É–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É –ø–ª–∞–Ω—É –¥–ª—è –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
```bash
#!/bin/bash
# scripts/validate_translations.sh

echo "üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤..."

cd frontend/svetu/src/messages

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∫–ª—é—á–µ–π –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏:"
jq -r 'paths(scalars) as $p | $p | join(".")' ru.json | sort > /tmp/ru_keys_flat.txt
jq -r 'paths(scalars) as $p | $p | join(".")' en.json | sort > /tmp/en_keys_flat.txt  
jq -r 'paths(scalars) as $p | $p | join(".")' sr.json | sort > /tmp/sr_keys_flat.txt

echo "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä—É—Å—Å–∫–æ–º:"
comm -23 /tmp/en_keys_flat.txt /tmp/ru_keys_flat.txt | head -5

echo "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–µ—Ä–±—Å–∫–æ–º:"
comm -23 /tmp/en_keys_flat.txt /tmp/sr_keys_flat.txt | head -5

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
echo -e "\n–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤:"
for lang in ru en sr; do
    empty_count=$(jq -r 'paths(scalars) as $p | {"key": ($p | join(".")), "value": getpath($p)} | select(.value == "") | .key' ${lang}.json | wc -l)
    echo "$lang: $empty_count –ø—É—Å—Ç—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤"
done

echo "‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

### –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**: `docker logs hostel_backend` –∏ `yarn dev` –≤—ã–≤–æ–¥
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—ç—à**: `docker exec hostel_redis redis-cli FLUSHALL` 
3. **–ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ**: `cd backend && ./reindex`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã**: `node scripts/validate_translations.js`

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å OpenSearch
curl -X GET "http://localhost:9200/_cluster/health?pretty"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å marketplace
curl -X GET "http://localhost:9200/marketplace/_stats?pretty"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –≤ –ë–î
PGPASSWORD=password psql -h localhost -U postgres -d svetubd -c "SELECT language, COUNT(*) FROM translations GROUP BY language;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–µ—Ä–µ–≤–æ–¥–æ–≤
du -sh frontend/svetu/src/messages/

# –ù–∞–π—Ç–∏ hardcoded —Å—Ç—Ä–æ–∫–∏
grep -r "\"[–ê-–Ø–∞-—è][–ê-–Ø–∞-—è ]{3,}\"" frontend/svetu/src/components/ --include="*.tsx" | wc -l
```

---

*–≠—Ç–æ—Ç –ø–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –°–ª–µ–¥—É–π—Ç–µ –ø–ª–∞–Ω—É –ø–æ—ç—Ç–∞–ø–Ω–æ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.*