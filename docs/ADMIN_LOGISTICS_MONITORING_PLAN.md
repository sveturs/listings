# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–¥–º–∏–Ω–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤

## üìä –û–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. Dashboard - –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
  - –ê–∫—Ç–∏–≤–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤ –ø—É—Ç–∏)
  - –î–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
  - –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏
  
- **–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏:**
  - –ì—Ä–∞—Ñ–∏–∫ –¥–æ—Å—Ç–∞–≤–æ–∫ –ø–æ –¥–Ω—è–º (–ª–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫)
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (–∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)
  - –ö–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞)
  - Top-5 –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–± –ø–æ –æ–±—ä—ë–º—É

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- **–¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:**
  - –ü–æ —Å—Ç–∞—Ç—É—Å—É (–≤ –ø—É—Ç–∏, –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞, –≤–æ–∑–≤—Ä–∞—Ç)
  - –ü–æ –∫—É—Ä—å–µ—Ä—Å–∫–æ–π —Å–ª—É–∂–±–µ (BEX Express, Post Express, DHL)
  - –ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è/–¥–æ—Å—Ç–∞–≤–∫–∏
  - –ü–æ —Ä–µ–≥–∏–æ–Ω—É/–≥–æ—Ä–æ–¥—É
  - –ü–æ —Ç–∏–ø—É —Ç–æ–≤–∞—Ä–∞ (–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å/–≤–∏—Ç—Ä–∏–Ω–∞)

- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—é:**
  - –¢—Ä–µ–∫-–Ω–æ–º–µ—Ä –∏ –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ –∏ –∑–∞–∫–∞–∑–µ
  - –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
  - Timeline —Å–æ–±—ã—Ç–∏–π
  - –î–æ–∫—É–º–µ–Ω—Ç—ã (—ç—Ç–∏–∫–µ—Ç–∫–∏, –Ω–∞–∫–ª–∞–¥–Ω—ã–µ)

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏
- **–°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
  - –ó–∞–¥–µ—Ä–∂–∞–Ω–Ω—ã–µ (> 7 –¥–Ω–µ–π –≤ –ø—É—Ç–∏)
  - –í–æ–∑–≤—Ä–∞—Ç—ã
  - –ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ
  - –° –∂–∞–ª–æ–±–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

- **–î–µ–π—Å—Ç–≤–∏—è:**
  - –°–≤—è–∑–∞—Ç—å—Å—è —Å –∫—É—Ä—å–µ—Ä—Å–∫–æ–π —Å–ª—É–∂–±–æ–π
  - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
  - –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–æ–∑—ã—Å–∫
  - –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

### 4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
  - –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
  - % —É—Å–ø–µ—à–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
  - –†–µ–π—Ç–∏–Ω–≥ –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–±

- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
  - –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–æ–∫
  - –£–±—ã—Ç–∫–∏ –æ—Ç –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
  - COD –ø–ª–∞—Ç–µ–∂–∏

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫—É—Ä—å–µ—Ä—Å–∫–∏–º–∏ —Å–ª—É–∂–±–∞–º–∏
- **BEX Express:**
  - –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
  - –ó–∞–≥—Ä—É–∑–∫–∞ —ç—Ç–∏–∫–µ—Ç–æ–∫

- **Post Express:**
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ pickup —Ç–æ—á–∫–∞–º–∏

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
backend/internal/proj/admin/logistics/
‚îú‚îÄ‚îÄ handler/
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.go      # API –¥–ª—è dashboard –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ shipments.go      # CRUD –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ analytics.go      # –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ integrations.go   # Webhooks –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ monitoring.go     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ alerts.go         # –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ reports.go        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤
‚îî‚îÄ‚îÄ repository/
    ‚îú‚îÄ‚îÄ shipments.go      # –†–∞–±–æ—Ç–∞ —Å –ë–î –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ metrics.go        # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
```

### Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
frontend/svetu/src/app/[locale]/admin/logistics/
‚îú‚îÄ‚îÄ page.tsx                      # Dashboard
‚îú‚îÄ‚îÄ shipments/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                  # –°–ø–∏—Å–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ [id]/page.tsx            # –î–µ—Ç–∞–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ problems/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                  # –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –¥–æ—Å—Ç–∞–≤–∫–∏
‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ Dashboard/
    ‚îÇ   ‚îú‚îÄ‚îÄ StatsCards.tsx        # –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ DeliveryChart.tsx     # –ì—Ä–∞—Ñ–∏–∫ –¥–æ—Å—Ç–∞–≤–æ–∫
    ‚îÇ   ‚îú‚îÄ‚îÄ StatusDistribution.tsx # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
    ‚îÇ   ‚îî‚îÄ‚îÄ ActiveShipmentsMap.tsx # –ö–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫
    ‚îú‚îÄ‚îÄ ShipmentsTable/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx              # –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    ‚îÇ   ‚îú‚îÄ‚îÄ Filters.tsx            # –§–∏–ª—å—Ç—Ä—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ ShipmentRow.tsx        # –°—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
    ‚îî‚îÄ‚îÄ ShipmentDetails/
        ‚îú‚îÄ‚îÄ Timeline.tsx           # Timeline —Å–æ–±—ã—Ç–∏–π
        ‚îú‚îÄ‚îÄ Documents.tsx          # –î–æ–∫—É–º–µ–Ω—Ç—ã
        ‚îî‚îÄ‚îÄ Actions.tsx            # –î–µ–π—Å—Ç–≤–∏—è
```

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```sql
-- –ú–µ—Ç—Ä–∏–∫–∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∏
CREATE TABLE logistics_metrics (
    id SERIAL PRIMARY KEY,
    date DATE NOT NULL,
    total_shipments INT DEFAULT 0,
    delivered INT DEFAULT 0,
    in_transit INT DEFAULT 0,
    problems INT DEFAULT 0,
    returns INT DEFAULT 0,
    avg_delivery_time_hours FLOAT,
    total_cost DECIMAL(10, 2),
    created_at TIMESTAMP DEFAULT NOW()
);

-- –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
CREATE TABLE problem_shipments (
    id SERIAL PRIMARY KEY,
    shipment_id INT NOT NULL,
    shipment_type VARCHAR(50), -- 'bex', 'postexpress', etc
    problem_type VARCHAR(50), -- 'delayed', 'lost', 'return', 'complaint'
    description TEXT,
    status VARCHAR(50) DEFAULT 'open', -- 'open', 'investigating', 'resolved'
    assigned_to INT REFERENCES users(id),
    resolution TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    resolved_at TIMESTAMP
);

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º
CREATE TABLE problem_comments (
    id SERIAL PRIMARY KEY,
    problem_id INT NOT NULL REFERENCES problem_shipments(id) ON DELETE CASCADE,
    admin_id INT NOT NULL REFERENCES users(id),
    comment TEXT NOT NULL,
    comment_type VARCHAR(50) DEFAULT 'comment', -- 'comment', 'status_change', 'assignment', 'resolution'
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT NOW()
);

-- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—Ä–æ–±–ª–µ–º
CREATE TABLE problem_status_history (
    id SERIAL PRIMARY KEY,
    problem_id INT NOT NULL REFERENCES problem_shipments(id) ON DELETE CASCADE,
    admin_id INT REFERENCES users(id),
    old_status VARCHAR(50),
    new_status VARCHAR(50) NOT NULL,
    old_assigned_to INT REFERENCES users(id),
    new_assigned_to INT REFERENCES users(id),
    comment TEXT,
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMP DEFAULT NOW()
);

-- –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–æ–≤
CREATE TABLE logistics_admin_logs (
    id SERIAL PRIMARY KEY,
    admin_id INT REFERENCES users(id),
    shipment_id INT,
    action VARCHAR(100),
    details JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);
```

## üìù API Endpoints

### Dashboard
- `GET /api/v1/admin/logistics/dashboard` - –ú–µ—Ç—Ä–∏–∫–∏ dashboard
- `GET /api/v1/admin/logistics/dashboard/chart` - –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

### –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `GET /api/v1/admin/logistics/shipments` - –°–ø–∏—Å–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `GET /api/v1/admin/logistics/shipments/:id` - –î–µ—Ç–∞–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `PUT /api/v1/admin/logistics/shipments/:id/status` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `POST /api/v1/admin/logistics/shipments/:id/action` - –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ

### –ü—Ä–æ–±–ª–µ–º—ã
- `GET /api/v1/admin/logistics/problems` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `POST /api/v1/admin/logistics/problems` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- `PUT /api/v1/admin/logistics/problems/:id` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- `POST /api/v1/admin/logistics/problems/:id/resolve` - –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- `POST /api/v1/admin/logistics/problems/:id/assign` - –ù–∞–∑–Ω–∞—á–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- `GET /api/v1/admin/logistics/problems/:id/details` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π
- `GET /api/v1/admin/logistics/problems/:id/comments` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–±–ª–µ–º–µ
- `POST /api/v1/admin/logistics/problems/:id/comments` - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `GET /api/v1/admin/logistics/problems/:id/history` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–±–ª–µ–º—ã

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- `GET /api/v1/admin/logistics/analytics/performance` - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /api/v1/admin/logistics/analytics/financial` - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- `GET /api/v1/admin/logistics/analytics/couriers` - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–±
- `GET /api/v1/admin/logistics/analytics/export` - –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ (CSV)

## üé® UI/UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **–ì—Ä–∞—Ñ–∏–∫–∏:** recharts –∏–ª–∏ chart.js
- **–ö–∞—Ä—Ç—ã:** Leaflet –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫
- **–¢–∞–±–ª–∏—Ü—ã:** react-table –∏–ª–∏ tanstack-table
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** react-hot-toast
- **–≠–∫—Å–ø–æ—Ä—Ç:** xlsx –¥–ª—è Excel –æ—Ç—á—ë—Ç–æ–≤

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- üü¢ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ - –∑–µ–ª—ë–Ω—ã–π (#10b981)
- üîµ –í –ø—É—Ç–∏ - —Å–∏–Ω–∏–π (#3b82f6)
- üü° –û–∂–∏–¥–∞–Ω–∏–µ - –∂—ë–ª—Ç—ã–π (#f59e0b)
- üî¥ –ü—Ä–æ–±–ª–µ–º–∞ - –∫—Ä–∞—Å–Ω—ã–π (#ef4444)
- ‚ö´ –í–æ–∑–≤—Ä–∞—Ç - —Å–µ—Ä—ã–π (#6b7280)

## üì± –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### WebSocket —Å–æ–±—ã—Ç–∏—è
- `shipment.status.updated` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- `shipment.problem.created` - –ù–æ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- `metrics.updated` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

### Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π
- –ú–∞—Å—Å–æ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ SLA

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –†–æ–ª–∏
- **logistics_viewer** - –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
- **logistics_manager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- **logistics_admin** - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
- `view_logistics` - –ü—Ä–æ—Å–º–æ—Ç—Ä dashboard –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `manage_shipments` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- `manage_problems` - –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏
- `export_reports` - –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤
- `view_financial` - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìà KPI –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
1. **–°–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏** - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ –¥–æ—Å—Ç–∞–≤–∫–∏
2. **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–æ–∫** - % –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç –æ–±—â–µ–≥–æ —á–∏—Å–ª–∞
3. **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - % –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –æ—Ç –æ–±—â–µ–≥–æ —á–∏—Å–ª–∞
4. **–í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º** - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ —Ä–µ—à–µ–Ω–∏—è
5. **–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏** - —Å—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (3 –¥–Ω—è) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] Backend API –¥–ª—è dashboard
- [x] Frontend —Å—Ç—Ä–∞–Ω–∏—Ü–∞ dashboard
- [x] –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
- [x] –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ (2 –¥–Ω—è) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–π (`/admin/logistics/shipments`)
- [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É, –∫—É—Ä—å–µ—Ä—Å–∫–æ–π —Å–ª—É–∂–±–µ, –¥–∞—Ç–∞–º –∏ –≥–æ—Ä–æ–¥–∞–º
- [x] –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å timeline —Å–æ–±—ã—Ç–∏–π
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏ API

### –≠—Ç–∞–ø 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ (2 –¥–Ω—è) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫ (`/admin/logistics/problems`)
- [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É –ø—Ä–æ–±–ª–µ–º—ã –∏ —Å—Ç–∞—Ç—É—Å—É
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–±–ª–µ–º
- [x] UI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ (–ø—Ä–æ—Å–º–æ—Ç—Ä, —Ç–∞–±–ª–∏—Ü–∞)
- [x] API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º–∞–º–∏
- [x] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º
- [x] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- [x] –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –ë–î
- [x] –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è 000048 –¥–ª—è —Ç–∞–±–ª–∏—Ü –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –∏—Å—Ç–æ—Ä–∏–∏
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã PostgreSQL –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –≠—Ç–∞–ø 4: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã (2 –¥–Ω—è) ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- [x] –ë–∞–∑–æ–≤–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (`/admin/logistics/analytics`)
- [x] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏, —É—Å–ø–µ—à–Ω–æ—Å—Ç—å, –ø—Ä–æ–±–ª–µ–º—ã)
- [x] –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –≤ CSV —Ñ–æ—Ä–º–∞—Ç–µ
- [x] –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (—Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–æ–∫, COD, —ç–∫–æ–Ω–æ–º–∏—è)
- [x] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–æ—Å—Ç–∞–≤–æ–∫ —Å Leaflet
- [x] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–± —Å —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç DeliveryMap —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π Leaflet
- [x] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤ –ø–æ —Ç–∏–ø—É (–≤ –ø—É—Ç–∏, –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ, –ø—Ä–æ–±–ª–µ–º—ã)
- [x] CSV —ç–∫—Å–ø–æ—Ä—Ç —Å –ø—Ä—è–º–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤
- [x] –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ–±–µ–∏—Ö –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–±

### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (2 –¥–Ω—è) ‚è≥ –í –ü–õ–ê–ù–ê–•
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] Webhooks –æ—Ç –∫—É—Ä—å–µ—Ä—Å–∫–∏—Ö —Å–ª—É–∂–±
- [ ] –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- [ ] WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π dashboard
- [ ] Excel —ç–∫—Å–ø–æ—Ä—Ç (–¥–æ–±–∞–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É excelize)
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å TODO –≤ shipments handlers (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è —Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ (—Å–≤—è–∑—å —Å –∫—É—Ä—å–µ—Ä—Å–∫–∏–º–∏ —Å–ª—É–∂–±–∞–º–∏)

### –≠—Ç–∞–ø 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (2 –¥–Ω—è) ‚è≥ –í –ü–õ–ê–ù–ê–•
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –ë–î
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å–æ –≤—Å–µ–º–∏ API endpoints
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—É–±—Ä–∞—Ç—å hardcoded Russian —Ç–µ–∫—Å—Ç)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] Background –∑–∞–¥–∞—á–∏ (cron jobs) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏