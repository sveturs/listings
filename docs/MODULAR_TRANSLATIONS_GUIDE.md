# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## üéØ –¶–µ–ª—å

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —á–µ—Ä–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –º–æ–¥—É–ª–∏ –∏ lazy loading. –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä bundle –∏ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/messages/
‚îú‚îÄ‚îÄ ru/
‚îÇ   ‚îú‚îÄ‚îÄ common.json       # –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã (14.3%)
‚îÇ   ‚îú‚îÄ‚îÄ auth.json         # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (4.1%)  
‚îÇ   ‚îú‚îÄ‚îÄ marketplace.json  # –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (8.2%)
‚îÇ   ‚îú‚îÄ‚îÄ admin.json        # –ê–¥–º–∏–Ω–∫–∞ (2.0%)
‚îÇ   ‚îú‚îÄ‚îÄ storefront.json   # –í–∏—Ç—Ä–∏–Ω—ã (8.2%)
‚îÇ   ‚îú‚îÄ‚îÄ cars.json         # –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ (2.0%)
‚îÇ   ‚îú‚îÄ‚îÄ cart.json         # –ö–æ—Ä–∑–∏–Ω–∞ (6.1%)
‚îÇ   ‚îú‚îÄ‚îÄ misc.json         # –û—Å—Ç–∞–ª—å–Ω–æ–µ (55.1%)
‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # –ó–∞–≥—Ä—É–∑—á–∏–∫ –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ en/
‚îÇ   ‚îî‚îÄ‚îÄ ... (—Ç–∞ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
‚îî‚îÄ‚îÄ sr/
    ‚îî‚îÄ‚îÄ ... (—Ç–∞ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ initial bundle** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
2. **Code splitting** - –∫–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –≥—Ä—É–∑–∏—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –ª–µ–≥—á–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
4. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –º–µ—Ä–∂–µ

## üìä –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **common.json**: 7 –∫–ª—é—á–µ–π (–±–∞–∑–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã UI)
- **auth.json**: 2 –∫–ª—é—á–∞ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- **marketplace.json**: 4 –∫–ª—é—á–∞ (–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å)
- **admin.json**: 1 –∫–ª—é—á (–∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å)
- **storefront.json**: 4 –∫–ª—é—á–∞ (–≤–∏—Ç—Ä–∏–Ω—ã)
- **cars.json**: 1 –∫–ª—é—á (–∞–≤—Ç–æ–º–æ–±–∏–ª–∏)
- **cart.json**: 3 –∫–ª—é—á–∞ (–∫–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã)
- **misc.json**: 27 –∫–ª—é—á–µ–π (—Ç—Ä–µ–±—É—é—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (55.1%) –ø–æ–ø–∞–ª–∏ –≤ misc.json –∏–∑-–∑–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON. –ù–∞–ø—Ä–∏–º–µ—Ä:
- `home.title` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `home`, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏
- `header.nav.blog` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `header`

## üîß –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ ‚úÖ)
- [x] –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [x] –ù–∞–ø–∏—Å–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–±–∏–µ–Ω–∏—è
- [x] –°–æ–∑–¥–∞–Ω –∑–∞–≥—Ä—É–∑—á–∏–∫ –º–æ–¥—É–ª–µ–π

### –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] –ü–µ—Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å JSON –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–æ–¥—É–ª—è–º
- [ ] –£–±—Ä–∞—Ç—å –≥–ª—É–±–æ–∫—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–ª—é—á–∏ –∏–∑ misc.json –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

### –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Next.js
- [ ] –û–±–Ω–æ–≤–∏—Ç—å i18n.ts –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è loadMessages
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å middleware –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ useTranslations –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –§–∞–∑–∞ 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
const t = useTranslations();

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± —Å namespace
const t = useTranslations('marketplace');
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π –≤ page.tsx
```typescript
import { loadMessages } from '@/lib/i18n/loadMessages';

export default async function MarketplacePage({ params: { locale } }) {
  // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏
  const messages = await loadMessages(locale, ['common', 'marketplace']);
  
  return (
    <NextIntlClientProvider messages={messages}>
      {/* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã */}
    </NextIntlClientProvider>
  );
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
```typescript
// –í middleware.ts
import { getRequiredModules } from '@/lib/i18n/loadMessages';

const modules = getRequiredModules(request.nextUrl.pathname);
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **–£–º–µ–Ω—å—à–µ–Ω–∏–µ initial JS bundle**: —Å ~300KB –¥–æ ~50KB
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ First Contentful Paint**: –Ω–∞ 20-30%
- **–£–ª—É—á—à–µ–Ω–∏–µ Lighthouse Score**: +5-10 –±–∞–ª–ª–æ–≤

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –†–∞–∑–º–µ—Ä bundles —á–µ—Ä–µ–∑ `yarn analyze`
- –ú–µ—Ç—Ä–∏–∫–∏ Web Vitals
- –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –≤ Sentry

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Fallback**: –í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å common.json –∫–∞–∫ –±–∞–∑—É
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–æ–¥—É–ª–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
3. **TypeScript**: –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
4. **Testing**: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è lazy loading