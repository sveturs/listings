# OpenSearch Indexing Audit Report v2.0

**–î–∞—Ç–∞:** 2025-12-19
**–ê–≤—Ç–æ—Ä:** Claude Code Audit
**–°—Ç–∞—Ç—É—Å:** –ö–û–ú–ü–õ–ï–ö–°–ù–´–ô –ê–£–î–ò–¢ - –í—ã—è–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [Executive Summary](#executive-summary)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏)
3. [–ú–∞–ø–ø–∏–Ω–≥–∏ –∏ —Å—Ö–µ–º–∞](#–º–∞–ø–ø–∏–Ω–≥–∏-–∏-—Å—Ö–µ–º–∞)
4. [–ê–Ω–∞–ª–∏–∑ –ø–æ–ª–µ–π](#–∞–Ω–∞–ª–∏–∑-–ø–æ–ª–µ–π)
5. [–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å](#–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å-–∫—Ä–∏—Ç–∏—á–Ω–æ)
6. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
7. [–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
8. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
9. [–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã](#–∫–ª—é—á–µ–≤—ã–µ-—Ñ–∞–π–ª—ã)
10. [–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π](#–∏—Å—Ç–æ—Ä–∏—è-–∏–∑–º–µ–Ω–µ–Ω–∏–π)

---

## Executive Summary

### –°—Ç–∞—Ç—É—Å –∞—É–¥–∏—Ç–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|--------|-------------|
| –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî |
| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | ‚Äî |
| **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞** | ‚ùå –ù–ï –ò–ù–î–ï–ö–°–ò–†–£–Æ–¢–°–Ø | üî¥ CRITICAL |
| **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** | ‚ö†Ô∏è –ù–µ–ø–æ–ª–Ω–∞—è | üî¥ CRITICAL |
| **–î–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–≤—Ü–∞** | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç | üü° HIGH |
| –†–µ–π—Ç–∏–Ω–≥/–û—Ç–∑—ã–≤—ã | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç | üü° HIGH |
| –¶–µ–Ω–∞/–°–∫–∏–¥–∫–∏ | ‚ö†Ô∏è –ù–µ–ø–æ–ª–Ω–∞—è | üü° HIGH |

### –ö—Ä–∞—Ç–∫–∏–µ –≤—ã–≤–æ–¥—ã

1. **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞ (variants) –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∏–Ω–¥–µ–∫—Å–µ** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è B2C –º–∞–≥–∞–∑–∏–Ω–æ–≤
2. **–ù–µ—Ç —è–∑—ã–∫–æ–≤—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤** - –ø–æ–∏—Å–∫ –Ω–∞ sr/ru/en —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏** - microservice –∏ monolith –ø–∏—à—É—Ç –≤ –æ–¥–∏–Ω –∏–Ω–¥–µ–∫—Å
4. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è** - –±—Ä–µ–Ω–¥, —Ä–µ–π—Ç–∏–Ω–≥, —Ç–µ–≥–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ü–†–û–ë–õ–ï–ú–ù–ê–Ø)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    SOURCES OF INDEXING                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                              ‚îÇ
‚îÇ  Listings Microservice         Monolith Backend              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ indexer/        ‚îÇ           ‚îÇ storage/        ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ listing_indexer ‚îÇ           ‚îÇ opensearch/     ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ           ‚îÇ                             ‚îÇ                    ‚îÇ
‚îÇ           ‚îÇ index: marketplace_listings ‚îÇ                    ‚îÇ
‚îÇ           ‚ñº                             ‚ñº                    ‚îÇ
‚îÇ       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ
‚îÇ       ‚îÇ         OpenSearch Index          ‚îÇ                 ‚îÇ
‚îÇ       ‚îÇ      "marketplace_listings"       ‚îÇ                 ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îÇ                        ‚ñ≤                                     ‚îÇ
‚îÇ                        ‚îÇ index: unified_listings            ‚îÇ
‚îÇ           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                      ‚îÇ
‚îÇ           ‚îÇ Python: reindex_unified.py‚îÇ ‚Üê –†–£–î–ò–ú–ï–ù–¢!         ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ò–Ω–¥–µ–∫—Å | –ü—É—Ç—å | –°—Ç–∞—Ç—É—Å |
|-----------|--------|------|--------|
| **Listings Microservice** | `marketplace_listings` | `internal/indexer/listing_indexer.go` | ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π |
| **Monolith Backend** | `marketplace_listings` | `internal/storage/opensearch/client.go` | ‚ö†Ô∏è –†–µ–∑–µ—Ä–≤–Ω—ã–π |
| **Python —Å–∫—Ä–∏–ø—Ç** | `unified_listings` | `reindex_unified.py` | ‚ùå –£–î–ê–õ–ò–¢–¨ |

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (Microservice)

```
Listing Event (create/update/delete)
    ‚Üì
Service Layer ‚Üí EnqueueIndexing(id, operation)
    ‚Üì
PostgreSQL: indexing_queue table
    ‚Üì
Worker Poll (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫)
    ‚Üì
GetListingByID() ‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç images ‚úÖ
    ‚Üì
buildListingDocument() ‚Üí –ù–ï –∑–∞–≥—Ä—É–∂–∞–µ—Ç variants ‚ùå
    ‚Üì
IndexListing() / DeleteListing()
    ‚Üì
OpenSearch: "marketplace_listings"
```

---

## –ú–∞–ø–ø–∏–Ω–≥–∏ –∏ —Å—Ö–µ–º–∞

### Microservice Mappings

**–§–∞–π–ª:** `/p/github.com/vondi-global/listings/internal/repository/opensearch/mappings.go`

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä | –°—Ç–∞—Ç—É—Å |
|------|-----|------------|--------|
| `id` | long | ‚Äî | ‚úÖ |
| `uuid` | keyword | ‚Äî | ‚úÖ |
| `title` | text | standard | ‚úÖ |
| `description` | text | standard | ‚úÖ |
| `price` | double | ‚Äî | ‚úÖ |
| `currency` | keyword | ‚Äî | ‚úÖ |
| `status` | keyword | ‚Äî | ‚úÖ |
| `visibility` | keyword | ‚Äî | ‚úÖ |
| `quantity` | integer | ‚Äî | ‚úÖ |
| `sku` | keyword | ‚Äî | ‚úÖ |
| `stock_status` | keyword | ‚Äî | ‚úÖ |
| `storefront_id` | long | ‚Äî | ‚úÖ |
| `category_id` | keyword | ‚Äî | ‚úÖ |
| `category_slug` | keyword | ‚Äî | ‚úÖ |

#### –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä | –ü—Ä–æ–±–ª–µ–º–∞ |
|------|-----|------------|----------|
| `title_sr` | text | standard | ‚ùå –ù–µ—Ç serbian_analyzer |
| `title_en` | text | standard | ‚ùå –ù–µ—Ç english_analyzer |
| `title_ru` | text | standard | ‚ùå –ù–µ—Ç russian_analyzer |
| `description_sr` | text | standard | ‚ùå –ù–µ—Ç serbian_analyzer |
| `description_en` | text | standard | ‚ùå –ù–µ—Ç english_analyzer |
| `description_ru` | text | standard | ‚ùå –ù–µ—Ç russian_analyzer |
| `original_language` | keyword | ‚Äî | ‚úÖ |

#### –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

| –ü–æ–ª–µ | –¢–∏–ø | –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è | –°—Ç–∞—Ç—É—Å |
|------|-----|----------------|--------|
| `images` | nested | id, public_url, file_path, is_main | ‚úÖ |
| `attributes` | nested | id, code, name, value_*, is_searchable, is_filterable | ‚úÖ |
| **`variants`** | ‚Äî | ‚Äî | ‚ùå –û–¢–°–£–¢–°–¢–í–£–ï–¢ |

#### –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è

| –ü–æ–ª–µ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|------|-----|--------|
| `location` | geo_point | ‚úÖ |
| `has_individual_location` | boolean | ‚úÖ |
| `individual_latitude` | double | ‚úÖ |
| `individual_longitude` | double | ‚úÖ |
| `country` | keyword | ‚úÖ |
| `city` | keyword | ‚úÖ |

### Monolith Mappings (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

**–§–∞–π–ª:** `/p/github.com/vondi-global/vondi/backend/internal/storage/opensearch/mappings.go`

Monolith —Å–æ–¥–µ—Ä–∂–∏—Ç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã—Ö –ù–ï–¢ –≤ microservice:

| –ü–æ–ª–µ | –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----|-----------|
| `old_price` | double | –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ (—Å–∫–∏–¥–∫–∞) |
| `has_discount` | boolean | –§–ª–∞–≥ —Å–∫–∏–¥–∫–∏ |
| `condition` | keyword | –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| `average_rating` | double | –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ |
| `review_count` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ |
| `tags` | keyword | –¢–µ–≥–∏ |
| `brand` | keyword | –ë—Ä–µ–Ω–¥ |
| `title_suggest` | completion | –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ |

**–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –≤ monolith (–ù–ï–¢ –≤ microservice!):**

```json
"serbian_analyzer": { "filter": ["lowercase", "serbian_latin_stemmer"] },
"russian_analyzer": { "filter": ["lowercase", "russian_stemmer"] },
"english_analyzer": { "filter": ["lowercase", "english_stemmer"] }
```

---

## –ê–Ω–∞–ª–∏–∑ –ø–æ–ª–µ–π

### ‚úÖ –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

- –ù–∞–∑–≤–∞–Ω–∏–µ (title) - —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ sr/en/ru
- –û–ø–∏—Å–∞–Ω–∏–µ (description) - —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ sr/en/ru
- SKU, –∞—Ä—Ç–∏–∫—É–ª
- –¶–µ–Ω–∞ (price), –≤–∞–ª—é—Ç–∞ (currency)
- –°—Ç–∞—Ç—É—Å (status), –≤–∏–¥–∏–º–æ—Å—Ç—å (visibility)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (quantity), —Å—Ç–∞—Ç—É—Å –Ω–∞–ª–∏—á–∏—è (stock_status)
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (category_id, category_slug)
- –ü—Ä–æ–¥–∞–≤–µ—Ü (storefront_id) - —Ç–æ–ª—å–∫–æ ID!
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (images) - nested structure
- –ê—Ç—Ä–∏–±—É—Ç—ã (attributes) - nested structure
- –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è (location, city, country)
- –î–∞—Ç—ã (created_at, updated_at)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (views_count, favorites_count)

### ‚ùå –ù–ï –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è (–∫—Ä–∏—Ç–∏—á–Ω–æ)

| –ü–æ–ª–µ | –ì–¥–µ –µ—Å—Ç—å | –ì–¥–µ –ù–ï–¢ | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è |
|------|----------|---------|-------------|
| **variants** | domain.Listing | mappings.go, indexer | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É/—Ü–≤–µ—Ç—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ |
| **storefront_name** | PostgreSQL | mappings.go | –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **brand** | attributes (–Ω–µ—è–≤–Ω–æ) | mappings.go (—è–≤–Ω–æ) | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±—Ä–µ–Ω–¥—É –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∞ |
| **old_price** | domain.Listing | mappings.go | –ü–æ–∫–∞–∑ —Å–∫–∏–¥–æ–∫ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **discount_percent** | ‚Äî | –≤–µ–∑–¥–µ | –§–∏–ª—å—Ç—Ä –ø–æ —Å–∫–∏–¥–∫–∞–º –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **condition** | domain.Listing | mappings.go | –§–∏–ª—å—Ç—Ä new/used –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **rating** | ‚Äî | –≤–µ–∑–¥–µ | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ |
| **review_count** | ‚Äî | –≤–µ–∑–¥–µ | –ü–æ–∫–∞–∑ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **tags** | ‚Äî | –≤–µ–∑–¥–µ | –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **expires_at** | domain.Listing | mappings.go | –§–∏–ª—å—Ç—Ä –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω |
| **location_translations** | domain.Listing | indexer | –ü–æ–∏—Å–∫ –ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö |
| **city_translations** | domain.Listing | indexer | –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö |

---

## –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (–ö–†–ò–¢–ò–ß–ù–û!)

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```go
// mappings.go - –ü–†–û–ë–õ–ï–ú–ê: —Ç–æ–ª—å–∫–æ standard analyzer!
"analysis": {
    "analyzer": {
        "standard": { "type": "standard" }  // ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—é!
    }
}
```

### –ü—Ä–æ–±–ª–µ–º—ã

#### 1. –ù–µ—Ç —è–∑—ã–∫–æ–≤—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
–ü–æ–∏—Å–∫: "–ø—Ä–∏–Ω—Ç–µ—Ä—ã" (—Ä—É—Å—Å–∫–∏–π, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ)
–î–æ–∫—É–º–µ–Ω—Ç: "–ø—Ä–∏–Ω—Ç–µ—Ä" (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ)
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ï –ù–ê–ô–î–Å–¢! ‚ùå
```

**–ü—Ä–∏—á–∏–Ω–∞:** Standard analyzer –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ —Ä—É—Å—Å–∫–∏–π stemming.

#### 2. –ù–µ—Ç —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
–ü–æ–∏—Å–∫: "stampac" (—Å–µ—Ä–±—Å–∫–∏–π –ª–∞—Ç–∏–Ω–∏—Ü–∞)
–î–æ–∫—É–º–µ–Ω—Ç: "—à—Ç–∞–º–ø–∞—á" (—Å–µ—Ä–±—Å–∫–∏–π –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ï –ù–ê–ô–î–Å–¢! ‚ùå
```

#### 3. –ü–µ—Ä–µ–≤–æ–¥—ã –ª–æ–∫–∞—Ü–∏–∏ –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è

**–í domain.Listing –µ—Å—Ç—å:**
```go
LocationTranslations map[string]string  // ‚ùå –ù–µ –≤ mappings
CityTranslations map[string]string      // ‚ùå –ù–µ –≤ mappings
CountryTranslations map[string]string   // ‚ùå –ù–µ –≤ mappings
```

**–í buildListingDocument() - —Ç–æ–ª—å–∫–æ title –∏ description –ø–µ—Ä–µ–≤–æ–¥—ã!**

### –¢—Ä–µ–±—É–µ–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```json
"analysis": {
    "analyzer": {
        "serbian_analyzer": {
            "type": "custom",
            "tokenizer": "standard",
            "filter": ["lowercase", "serbian_latin_stemmer"]
        },
        "russian_analyzer": {
            "type": "custom",
            "tokenizer": "standard",
            "filter": ["lowercase", "russian_stemmer"]
        },
        "english_analyzer": {
            "type": "custom",
            "tokenizer": "standard",
            "filter": ["lowercase", "english_stemmer"]
        }
    },
    "filter": {
        "serbian_latin_stemmer": { "type": "stemmer", "language": "serbian" },
        "russian_stemmer": { "type": "stemmer", "language": "russian" },
        "english_stemmer": { "type": "stemmer", "language": "english" }
    }
}
```

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ 1. –í–ê–†–ò–ê–ù–¢–´ –¢–û–í–ê–†–ê –ù–ï –ò–ù–î–ï–ö–°–ò–†–£–Æ–¢–°–Ø

**–§–∞–π–ª:** `internal/indexer/listing_indexer.go:37-283`

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `buildListingDocument()` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –ë–î —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
- –¢–∞–±–ª–∏—Ü–∞ `product_variants`
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã `ProductVariant`, `ProductVariantV2` –≤ domain

**–ß—Ç–æ –î–û–õ–ñ–ù–û –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è:**
- SKU –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
- –¶–µ–Ω–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
- –ê—Ç—Ä–∏–±—É—Ç—ã –≤–∞—Ä–∏–∞–Ω—Ç–∞ (—Ü–≤–µ—Ç, —Ä–∞–∑–º–µ—Ä)
- –ù–∞–ª–∏—á–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (stock_quantity)
- –°—Ç–∞—Ç—É—Å –≤–∞—Ä–∏–∞–Ω—Ç–∞

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É/—Ü–≤–µ—Ç—É - –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- –ü–æ–∏—Å–∫ –ø–æ SKU –≤–∞—Ä–∏–∞–Ω—Ç–∞ - –ù–ï –ù–ê–ô–î–Å–¢
- –í B2C —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ - –ø–æ–∏—Å–∫ –Ω–µ–ø–æ–ª–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å nested `variants` –≤ –º–∞–ø–ø–∏–Ω–≥–∏ –∏ –∑–∞–≥—Ä—É–∑–∫—É –≤ indexer.

---

### üî¥ 2. –ù–ï–¢ –ê–ù–ê–õ–ò–ó–ê–¢–û–†–û–í –î–õ–Ø –Ø–ó–´–ö–û–í

**–§–∞–π–ª:** `internal/repository/opensearch/mappings.go:10-16`

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –±–µ–∑ —É—á—ë—Ç–∞ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–∏.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü–æ–∏—Å–∫ "–ø—Ä–∏–Ω—Ç–µ—Ä" –Ω–µ –Ω–∞–π–¥—ë—Ç "–ø—Ä–∏–Ω—Ç–µ—Ä—ã"
- –ü–æ–∏—Å–∫ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–ª–æ–Ω–µ–Ω–∏—è/–ø–∞–¥–µ–∂–∏
- Stemming –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å serbian_analyzer, russian_analyzer, english_analyzer.

---

### üî¥ 3. –ü–ï–†–ï–í–û–î–´ –õ–û–ö–ê–¶–ò–ò –ù–ï –ò–ù–î–ï–ö–°–ò–†–£–Æ–¢–°–Ø

**–§–∞–π–ª:** `internal/indexer/listing_indexer.go:216-229`

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `buildListingDocument()` –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ title –∏ description –ø–µ—Ä–µ–≤–æ–¥—ã.

**–ù–ï –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è:**
- `LocationTranslations`
- `CityTranslations`
- `CountryTranslations`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü–æ–∏—Å–∫ "–ë–µ–æ–≥—Ä–∞–¥" –Ω–µ –Ω–∞–π–¥—ë—Ç –µ—Å–ª–∏ –≤ –∏–Ω–¥–µ–∫—Å–µ —Ç–æ–ª—å–∫–æ "Belgrade"
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥—É —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ buildListingDocument().

---

### üî¥ 4. –î–í–ê –ò–°–¢–û–ß–ù–ò–ö–ê –ò–ù–î–ï–ö–°–ê–¶–ò–ò

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò microservice, –∏ monolith –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –≤ –æ–¥–∏–Ω –∏–Ω–¥–µ–∫—Å.

**–§–∞–π–ª—ã:**
- `listings/internal/indexer/listing_indexer.go` ‚Üí `marketplace_listings`
- `vondi/backend/internal/storage/opensearch/client.go` ‚Üí –ª—é–±–æ–π –∏–Ω–¥–µ–∫—Å

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –≤ monolith, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û microservice.

---

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è 1. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ

Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 2 —Å–µ–∫. –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ –º–æ–º–µ–Ω—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ - –¥–æ–∫—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

**–§–∞–π–ª:** `internal/worker/worker.go`

### ‚ö†Ô∏è 2. –ù–µ—Ç batching –≤ bulk operations

–í–µ—Å—å bulk –∑–∞–ø—Ä–æ—Å –≤ –ø–∞–º—è—Ç–∏. –ü—Ä–∏ 100K+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - –≤–æ–∑–º–æ–∂–µ–Ω OOM.

**–§–∞–π–ª:** `internal/indexer/listing_indexer.go:BulkIndexListings()`

### ‚ö†Ô∏è 3. –ù–µ—Ç blue-green indexing

–ü—Ä–∏ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç - –∏–Ω–¥–µ–∫—Å –ø—É—Å—Ç.

### ‚ö†Ô∏è 4. Python —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç phantom –∏–Ω–¥–µ–∫—Å

**–§–∞–π–ª:** `vondi/backend/reindex_unified.py`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å `unified_listings` –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ microservice. **–£–î–ê–õ–ò–¢–¨!**

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–†–ò–¢–ò–ß–ù–´–ï (–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

| ‚Ññ | –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|--------|------|-----------|
| 1 | –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é variants | listing_indexer.go, mappings.go | Medium |
| 2 | –î–æ–±–∞–≤–∏—Ç—å —è–∑—ã–∫–æ–≤—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã | mappings.go | Low |
| 3 | –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –ª–æ–∫–∞—Ü–∏–∏ | listing_indexer.go | Low |
| 4 | –£–¥–∞–ª–∏—Ç—å reindex_unified.py | reindex_unified.py | Low |
| 5 | –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –≤ monolith | storage/opensearch/ | Low |

### –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–°–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç)

| ‚Ññ | –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|--------|------|-----------|
| 6 | –î–æ–±–∞–≤–∏—Ç—å old_price, discount | mappings.go, indexer | Low |
| 7 | –î–æ–±–∞–≤–∏—Ç—å condition | mappings.go, indexer | Low |
| 8 | –î–æ–±–∞–≤–∏—Ç—å brand (—è–≤–Ω–æ–µ –ø–æ–ª–µ) | mappings.go, indexer | Low |
| 9 | –î–æ–±–∞–≤–∏—Ç—å expires_at | mappings.go, indexer | Low |
| 10 | –î–æ–±–∞–≤–∏—Ç—å storefront_name | mappings.go, indexer | Medium |

### –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

| ‚Ññ | –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|--------|----------|
| 11 | Blue-green indexing | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è |
| 12 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–∏ | –ê–ª–µ—Ä—Ç—ã –Ω–∞ failed jobs |
| 13 | Health checks | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ë–î –∏ –∏–Ω–¥–µ–∫—Å–∞ |
| 14 | Batching –≤ bulk | –ò–∑–±–µ–∂–∞–Ω–∏–µ OOM |

---

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è (Microservice)

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç—Ä–æ–∫–∏ |
|------|------------|--------|
| `internal/repository/opensearch/mappings.go` | –ú–∞–ø–ø–∏–Ω–≥–∏ –∏–Ω–¥–µ–∫—Å–∞ | 1-292 |
| `internal/indexer/listing_indexer.go` | –õ–æ–≥–∏–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ | 1-436 |
| `internal/worker/worker.go` | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | 1-209 |
| `internal/config/config.go` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–∞ | 96 |

### Domain –º–æ–¥–µ–ª—å

| –§–∞–π–ª | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------|-----------|-----------|
| `internal/domain/listing.go` | Listing | –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| `internal/domain/listing.go` | ProductVariant | –í–∞—Ä–∏–∞–Ω—Ç—ã (–ù–ï –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è!) |

### Monolith (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `storage/opensearch/mappings.go` | –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–µ –º–∞–ø–ø–∏–Ω–≥–∏ |
| `reindex_unified.py` | –£–î–ê–õ–ò–¢–¨ |

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º

| ‚Ññ | –ü—Ä–æ–±–ª–µ–º–∞ | –¢–∏–ø | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|----------|-----|-----------|-----------|
| 1 | Variants –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è | üî¥ Critical | URGENT | Medium |
| 2 | –ù–µ—Ç —è–∑—ã–∫–æ–≤—ã—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ | üî¥ Critical | URGENT | Low |
| 3 | –ü–µ—Ä–µ–≤–æ–¥—ã –ª–æ–∫–∞—Ü–∏–∏ –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è | üî¥ Critical | URGENT | Low |
| 4 | –î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ | üî¥ Critical | URGENT | Low |
| 5 | –ù–µ—Ç old_price/discount | üü° High | HIGH | Low |
| 6 | –ù–µ—Ç condition | üü° High | HIGH | Low |
| 7 | –ù–µ—Ç storefront_name | üü° High | HIGH | Medium |
| 8 | –ù–µ—Ç rating/reviews | üü° High | HIGH | Medium |
| 9 | –ù–µ—Ç tags | üü° High | HIGH | Low |
| 10 | –ù–µ—Ç batching | ‚ö†Ô∏è Medium | MEDIUM | High |

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|-----------|
| 2025-12-19 | **v2.0: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç** - –≤—ã—è–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å variants, –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å—é |
| 2025-12-19 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `ReindexAllWithAttributes()` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| 2025-12-19 | ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: Worker –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| 2025-12-19 | –°–æ–∑–¥–∞–Ω –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç-–æ—Ç—á—ë—Ç |

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|----------|
| `VONDILISTINGS_WORKER_ENABLED` | `true` | Worker –≤–∫–ª—é—á—ë–Ω |
| `VONDILISTINGS_WORKER_CONCURRENCY` | `5` | 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤ |
| `VONDILISTINGS_OPENSEARCH_INDEX` | `marketplace_listings` | –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å |

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã 1-4 –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º.
