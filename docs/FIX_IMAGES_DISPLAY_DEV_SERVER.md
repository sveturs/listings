# –ü—Ä–æ–±–ª–µ–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ dev.svetu.rs

## üìÖ –î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
29 –∞–≤–≥—É—Å—Ç–∞ 2025

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ dev-—Å–µ—Ä–≤–µ—Ä–µ svetu.rs –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–∞–π—Ç–µ dev.svetu.rs.

## ‚ùå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
–ù–∞ —Å–∞–π—Ç–µ dev.svetu.rs –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤. –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—ã—Ç–∞—é—Ç—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL: `http://localhost:9000/listings/...` –≤–º–µ—Å—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ `https://devs3.svetu.rs/listings/...`

## üéØ –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

### –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–§—É–Ω–∫—Ü–∏—è `buildImageUrl()` –≤ —Ñ–∞–π–ª–µ `/opt/svetu-dev/frontend/svetu/src/config/index.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL –¥–ª—è MinIO:

```typescript
// –°—Ç—Ä–æ–∫–∞ 252 –≤ /opt/svetu-dev/frontend/svetu/src/config/index.ts
const minioUrl = 'http://localhost:9000';
```

–§—É–Ω–∫—Ü–∏—è **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_MINIO_URL`, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∫–∞–∫ `https://devs3.svetu.rs`.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–ë–∞–∫–µ—Ç `listings` –≤ MinIO –∏–º–µ–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø (`private`), —á—Ç–æ —Ç–∞–∫–∂–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–º—É –¥–æ—Å—Ç—É–ø—É –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º.

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å

1. **Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - –í –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏: `/listings/252/main.jpg`
   - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏

2. **Frontend –ª–æ–º–∞–µ—Ç URL:**
   - –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –æ—Ç backend: `/listings/252/main.jpg`
   - –í—ã–∑—ã–≤–∞–µ—Ç `buildImageUrl()` –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ URL
   - –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç `http://localhost:9000` –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `NEXT_PUBLIC_MINIO_URL`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `http://localhost:9000/listings/252/main.jpg` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: `NEXT_PUBLIC_MINIO_URL=https://devs3.svetu.rs`
   - –í .env —Ñ–∞–π–ª–µ: `NEXT_PUBLIC_MINIO_URL=https://devs3.svetu.rs`
   - –ù–æ —Ñ—É–Ω–∫—Ü–∏—è –∏—Ö –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç!

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é buildImageUrl

–ó–∞–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ `/opt/svetu-dev/frontend/svetu/src/config/index.ts`:

```typescript
// –ë–´–õ–û (—Å—Ç—Ä–æ–∫–∞ 252):
const minioUrl = 'http://localhost:9000';

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
const minioUrl = this.getConfig().storage.minioUrl || 'http://localhost:9000';
```

–ò–ª–∏ –±–æ–ª–µ–µ —è–≤–Ω–æ:
```typescript
const minioUrl = this.env.NEXT_PUBLIC_MINIO_URL || 'http://localhost:9000';
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –±–∞–∫–µ—Ç–∞

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä MinIO
docker exec svetu-dev_minio_1 mc alias set local http://localhost:9000 miniodevadmin h8Puk2qhcadCazC78J1

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è —á—Ç–µ–Ω–∏—è
docker exec svetu-dev_minio_1 mc anonymous set download local/listings
```

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose -f docker-compose.dev.yml build frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å frontend
docker-compose -f docker-compose.dev.yml restart frontend
```

## üîß –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (hotfix)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–µ–º —Å–µ—Ä–≤–µ—Ä–µ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏:

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend
docker exec -it svetu-dev_frontend_1 sh

# –ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å –≤ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ
# (–ø—É—Ç—å –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Next.js)
find .next -type f -name "*.js" -exec sed -i 's|http://localhost:9000|https://devs3.svetu.rs|g' {} \;

# –í—ã–π—Ç–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
exit

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose -f docker-compose.dev.yml restart frontend
```

## üìù –ó–∞–º–µ—Ç–∫–∏

- –≠—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Ç–∏–ø–∏—á–Ω–∞ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∫–æ–¥–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ dev/prod —Å–µ—Ä–≤–µ—Ä
- –í–∞–∂–Ω–æ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è URL, –∞ –Ω–µ –∂–µ—Å—Ç–∫–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∏—Ö
- –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ –Ω–æ–≤—ã–µ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –∏–ª–∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å OpenSearch

## üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –û—Ç–∫—Ä—ã—Ç—å https://dev.svetu.rs
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
3. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∞–ª–µ—Ä–µ—é
4. –í –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å `https://devs3.svetu.rs/listings/...`

## üìä –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [x] –§—É–Ω–∫—Ü–∏—è buildImageUrl –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (29.08.2025)
- [x] –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∫–µ—Ç—É —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (29.08.2025)
- [x] Frontend –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (29.08.2025)
- [x] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ - URL —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (https://devs3.svetu.rs)

## üìù –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (29.08.2025)

‚úÖ **–£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!** 
- –§—É–Ω–∫—Ü–∏—è `buildImageUrl()` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `this.getConfig().storage.minioUrl`
- –ë–∞–∫–µ—Ç `listings` –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è —á—Ç–µ–Ω–∏—è
- Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å `https://devs3.svetu.rs/listings/...` –≤–º–µ—Å—Ç–æ `http://localhost:9000/listings/...`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Backend –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î, –Ω–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.