# üìã –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –≤–∞—Ä–∏–∞—Ü–∏–π —Ç–æ–≤–∞—Ä–æ–≤

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å
–î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞—Ä–∏–∞—Ü–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –ø–æ –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—Ä–µ—Ö —è–∑—ã–∫–æ–≤ (en/ru/sr)** –≤–æ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö.

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 29.07.2025 - –ó–ê–í–ï–†–®–ï–ù–û)

### üü¢ –ü–û–õ–ù–û–°–¢–¨–Æ –í–´–ü–û–õ–ù–ï–ù–û:

#### 1. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚úÖ 
**–°–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏:**
- `000177_create_inventory_reservations.up.sql` - —Å–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- `000178_add_affects_stock_to_attributes.up.sql` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `affects_stock` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤, –≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —É—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤
- `000179_improve_variant_indexes_and_status.up.sql` - —É–ª—É—á—à–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `reserved_quantity` –∏ `available_quantity`, —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- `000180_extend_variant_attribute_values.up.sql` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω—ã `is_popular`, `usage_count`, `metadata`)

**–ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã: XS, S, M, L, XL, XXL, XXXL + —á–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã 36-52
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞: 15 —Ü–≤–µ—Ç–æ–≤ —Å HEX –∫–æ–¥–∞–º–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π (warm/cool/neutral/dark/light)
- –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –Ω–∞ 3 —è–∑—ã–∫–∞
- –¢–∞–±–ª–∏—Ü–∞ `inventory_reservations` —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏

#### 2. Backend API ‚úÖ
**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ `variant_types.go`:**
```go
type ProductVariant struct {
    // –ù–æ–≤—ã–µ –ø–æ–ª—è:
    ReservedQuantity  int    // –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    AvailableQuantity int    // –î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (computed field)
}

type ProductVariantAttribute struct {
    AffectsStock bool  // –í–ª–∏—è–µ—Ç –ª–∏ –Ω–∞ —É—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤
}

type ProductVariantAttributeValue struct {
    IsPopular   bool                   // –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    UsageCount  int                    // –°—á–µ—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    Metadata    map[string]interface{} // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
}

// –ù–æ–≤—ã–µ —Ç–∏–ø—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
type BulkUpdateStockRequest
type VariantMatrixResponse
type VariantAnalyticsResponse
type ImportVariantsRequest
type ExportVariantsResponse
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ API endpoints –≤ `variant_handler.go`:**
- `PUT /api/v1/storefront/variants/{variant_id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚úÖ
- `GET /api/v1/storefront/products/{id}/variant-matrix` - –º–∞—Ç—Ä–∏—Ü–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- `POST /api/v1/storefront/products/{id}/variants/bulk-update-stock` - –º–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ ‚úÖ
- `GET /api/v1/storefront/products/{id}/variants/analytics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- `POST /api/v1/storefront/products/{id}/variants/import` - –∏–º–ø–æ—Ä—Ç CSV ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `GET /api/v1/storefront/products/{id}/variants/export` - —ç–∫—Å–ø–æ—Ä—Ç CSV ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é)

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ `variant_repository.go`:**
- –í—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: `UpdateVariant`, `DeleteVariant`, `GetVariantMatrix`, `BulkUpdateStock`, `GetVariantAnalytics`
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã `ImportVariants` –∏ `ExportVariants` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CSV
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON –ø–æ–ª–µ–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

#### 3. –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å ‚úÖ
**–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤ —Ñ–∞–π–ª—ã:**
- `/frontend/svetu/src/messages/en.json` - 60+ –∫–ª—é—á–µ–π –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- `/frontend/svetu/src/messages/ru.json` - 60+ –∫–ª—é—á–µ–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º  
- `/frontend/svetu/src/messages/sr.json` - 60+ –∫–ª—é—á–µ–π –Ω–∞ —Å–µ—Ä–±—Å–∫–æ–º

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
```json
"storefronts": {
  "variants": {
    "title": "Product Variants / –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞ / Varijante proizvoda",
    "selectVariant": "Select variant / –í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç / Izaberite varijantu",
    "attributes": {
      "color": "Color / –¶–≤–µ—Ç / Boja",
      "size": "Size / –†–∞–∑–º–µ—Ä / Veliƒçina",
      // ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
    },
    // ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
  }
}
```

#### 4. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ
**–°–æ–∑–¥–∞–Ω—ã –ø–æ–ª–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `VariantManager.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ (–∞—Ç—Ä–∏–±—É—Ç—ã, –≤–∞—Ä–∏–∞–Ω—Ç—ã, –æ—Å—Ç–∞—Ç–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞) ‚úÖ
- `VariantStockTable.tsx` - —Ç–∞–±–ª–∏—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π, –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏ CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç ‚úÖ  
- `VariantsStep.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ ‚úÖ
- `VariantSelector.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º API –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è ‚úÖ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `ProductWizard.tsx` ‚úÖ

#### 5. CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç ‚úÖ
**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ü–∞—Ä—Å–∏–Ω–≥ CSV —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ `variant_repository.go` ‚úÖ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è CSV –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ ‚úÖ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ ‚úÖ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é ‚úÖ
- UI –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ `VariantStockTable.tsx` ‚úÖ

#### 6. OpenSearch –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö ‚úÖ
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- –ü–æ–∏—Å–∫ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É —Ü–µ–Ω –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- Nested mapping –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ stock –∏ —Ä–µ–∑–µ—Ä–≤–∞—Ö ‚úÖ
- –ê–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ

#### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ ‚úÖ
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–æ–≤ (`/storefronts/[slug]/products/[id]/page.tsx`) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ (`/marketplace/[id]/page.tsx`) –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ—Ä–∑–∏–Ω—ã (`localCartSlice.ts`) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `variant_id` ‚úÖ
- `AddToCartButton` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ

#### 8. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞–º–∏ ‚úÖ
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏–≥–≥–µ—Ä `update_variant_stock_status()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ ‚úÖ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `reserved_quantity` –∏ –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ `available_quantity` ‚úÖ
- –°—Ç–∞—Ç—É—Å—ã: `in_stock`, `low_stock`, `out_of_stock` ‚úÖ
- –¢–∞–±–ª–∏—Ü–∞ `inventory_reservations` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–æ–≤ ‚úÖ
- –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å —É—á–µ—Ç–æ–º —Ä–µ–∑–µ—Ä–≤–æ–≤ –≤ OpenSearch ‚úÖ

### üü° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –°–õ–ï–î–£–Æ–©–ò–• –°–ï–°–°–ò–ô:

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∑–∞–∫–∞–∑–æ–≤ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)
**–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö —Ä–µ–∑–µ—Ä–≤–æ–≤ (cron job)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∏–∑–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö

---

## üèóÔ∏è –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

#### 1.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏:

**`storefront_product_variants`** (–æ–±–Ω–æ–≤–ª–µ–Ω–∞):
```sql
- id: integer (PK)
- product_id: integer (FK -> storefront_products)
- sku: varchar(100) UNIQUE
- barcode: varchar(100)
- price: numeric(15,2)
- compare_at_price: numeric(15,2)
- cost_price: numeric(15,2)
- stock_quantity: integer (>= 0)
- reserved_quantity: integer DEFAULT 0  -- ‚úÖ –ù–û–í–û–ï
- available_quantity: integer GENERATED ALWAYS AS (stock_quantity - reserved_quantity) STORED  -- ‚úÖ –ù–û–í–û–ï
- stock_status: varchar(20) -- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–º
- low_stock_threshold: integer (default 5)
- variant_attributes: jsonb
- weight: numeric(10,3)
- dimensions: jsonb
- is_active: boolean
- is_default: boolean
- view_count: integer
- sold_count: integer
- created_at, updated_at: timestamp

-- ‚úÖ –ù–û–í–´–ï –ò–ù–î–ï–ö–°–´:
- idx_storefront_product_variants_unique_attributes (UNIQUE –Ω–∞ product_id, variant_attributes WHERE is_active = true)
- idx_storefront_product_variants_low_stock (–Ω–∞ product_id, available_quantity WHERE low stock)
- idx_storefront_product_variants_stock_status (–Ω–∞ stock_status, is_active)

-- ‚úÖ –ù–û–í–´–ô –¢–†–ò–ì–ì–ï–†:
CREATE TRIGGER trigger_update_variant_stock_status
BEFORE INSERT OR UPDATE ON storefront_product_variants
FOR EACH ROW EXECUTE FUNCTION update_variant_stock_status();
```

**`product_variant_attributes`** (–æ–±–Ω–æ–≤–ª–µ–Ω–∞):
```sql
- id: integer (PK)
- name: varchar(100)
- display_name: varchar(255)
- type: varchar(50)
- is_required: boolean
- sort_order: integer
- affects_stock: boolean DEFAULT false  -- ‚úÖ –ù–û–í–û–ï
- created_at, updated_at: timestamp

-- ‚úÖ –ù–û–í–´–ô –ò–ù–î–ï–ö–°:
- idx_product_variant_attributes_affects_stock (–Ω–∞ affects_stock WHERE affects_stock = true)
```

**`product_variant_attribute_values`** (–æ–±–Ω–æ–≤–ª–µ–Ω–∞):
```sql
- id: integer (PK)
- attribute_id: integer (FK -> product_variant_attributes)
- value: varchar
- display_name: varchar
- color_hex: varchar
- image_url: varchar
- sort_order: integer
- is_active: boolean
- is_popular: boolean DEFAULT false      -- ‚úÖ –ù–û–í–û–ï
- usage_count: integer DEFAULT 0         -- ‚úÖ –ù–û–í–û–ï
- metadata: jsonb DEFAULT '{}'           -- ‚úÖ –ù–û–í–û–ï
- created_at, updated_at: timestamp

-- ‚úÖ –ù–û–í–´–ï –ò–ù–î–ï–ö–°–´:
- idx_product_variant_attribute_values_popular (–Ω–∞ attribute_id, is_popular, sort_order WHERE is_active = true)
- idx_product_variant_attribute_values_metadata_gin (GIN –Ω–∞ metadata)
```

### 2. Backend (Go) - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### 2.1 –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:

```go
// ‚úÖ –û–ë–ù–û–í–õ–ï–ù–û - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–æ–ª—è
type ProductVariant struct {
    ID                int                    
    ProductID         int                    
    SKU               *string                
    Price             *float64               
    StockQuantity     int                    
    ReservedQuantity  int                    // ‚úÖ –ù–û–í–û–ï
    AvailableQuantity int                    // ‚úÖ –ù–û–í–û–ï (computed)
    StockStatus       string                 
    VariantAttributes map[string]interface{}
    Images            []ProductVariantImage  
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}

// ‚úÖ –ù–û–í–´–ï –¢–ò–ü–´ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
type BulkUpdateStockRequest struct {
    Updates []StockUpdateItem `json:"updates"`
}

type VariantMatrixResponse struct {
    Attributes           map[string][]AttributeValue `json:"attributes"`
    ExistingVariants     []ProductVariant           `json:"existing_variants"`
    PossibleCombinations int                        `json:"possible_combinations"`
}

type VariantAnalyticsResponse struct {
    TotalVariants    int                           `json:"total_variants"`
    TotalStock       int                           `json:"total_stock"`
    TotalSold        int                           `json:"total_sold"`
    BestSeller       *ProductVariant               `json:"best_seller,omitempty"`
    LowStockVariants []ProductVariant              `json:"low_stock_variants"`
    StockByAttribute map[string]map[string]int     `json:"stock_by_attribute"`
    SalesByAttribute map[string]map[string]int     `json:"sales_by_attribute"`
}
```

#### 2.2 –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ API endpoints:

```go
// ‚úÖ –°–£–©–ï–°–¢–í–£–Æ–©–ò–ï (–æ–±–Ω–æ–≤–ª–µ–Ω—ã):
GET    /api/v1/storefront/variants/attributes                    // –ü–æ–ª—É—á–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
GET    /api/v1/storefront/variants/attributes/{id}/values        // –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞
GET    /api/v1/storefront/products/{id}/variants                 // –ü–æ–ª—É—á–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ç–æ–≤–∞—Ä–∞
GET    /api/v1/storefront/variants/{id}                          // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
POST   /api/v1/storefront/variants                               // –°–æ–∑–¥–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
POST   /api/v1/storefront/variants/generate                      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
POST   /api/v1/storefront/variants/bulk                          // –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
POST   /api/v1/storefront/products/attributes/setup             // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
GET    /api/v1/storefront/products/{id}/attributes               // –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
DELETE /api/v1/storefront/variants/{id}                          // –£–¥–∞–ª–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç

// ‚úÖ –ù–û–í–´–ï (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):
PUT    /api/v1/storefront/variants/{id}                          // –û–±–Ω–æ–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
GET    /api/v1/storefront/products/{id}/variant-matrix           // –ú–∞—Ç—Ä–∏—Ü–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
POST   /api/v1/storefront/products/{id}/variants/bulk-update-stock // –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤
GET    /api/v1/storefront/products/{id}/variants/analytics       // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
POST   /api/v1/storefront/products/{id}/variants/import          // –ò–º–ø–æ—Ä—Ç CSV (–∑–∞–≥–ª—É—à–∫–∞)
GET    /api/v1/storefront/products/{id}/variants/export          // –≠–∫—Å–ø–æ—Ä—Ç CSV (–∑–∞–≥–ª—É—à–∫–∞)
```

---

## üìù –ü–õ–ê–ù –î–ê–õ–¨–ù–ï–ô–®–ï–ô –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (1-2 –Ω–µ–¥–µ–ª–∏)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**

#### 1.1 VariantManager.tsx
```typescript
interface VariantManagerProps {
  productId: number;
  storefrontId: number;
  onSave: () => void;
  onCancel: () => void;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
// ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ - –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å
// üî≤ –§–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
// üî≤ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—Ç—Ä–∏—Ü—ã –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º
// üî≤ –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–Ω –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
// üî≤ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
// üî≤ –í–∞–ª–∏–¥–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ SKU
```

#### 1.2 VariantStockTable.tsx
```typescript
interface VariantStockTableProps {
  productId: number;
  storefrontId: number;
  editable?: boolean;
}

// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
// ‚úÖ API –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤–æ
// üî≤ DataTable —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
// üî≤ Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤
// üî≤ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–∫—Ä–∞—Å–Ω—ã–π/–∂–µ–ª—Ç—ã–π/–∑–µ–ª–µ–Ω—ã–π)
// üî≤ –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç CSV (API –∑–∞–≥–ª—É—à–∫–∏ –≥–æ—Ç–æ–≤—ã)
```

#### 1.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```typescript
// üî≤ –û–±–Ω–æ–≤–∏—Ç—å VariantSelector –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º API
// üî≤ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
// üî≤ –û–±–Ω–æ–≤–∏—Ç—å AddToCartButton –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ variant_id
// üî≤ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
```

### –≠—Ç–∞–ø 2: CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç (3-5 –¥–Ω–µ–π)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

```go
// –í variant_repository.go –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
func (r *VariantRepository) ImportVariants(ctx context.Context, productID int, csvData []byte) (int, error) {
    // üî≤ –ü–∞—Ä—Å–∏–Ω–≥ CSV —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π encoding/csv
    // üî≤ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, —Ñ–æ—Ä–º–∞—Ç—ã)
    // üî≤ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
    // üî≤ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
}

func (r *VariantRepository) ExportVariants(ctx context.Context, productID int) ([]byte, string, error) {
    // üî≤ –í—ã–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ç–æ–≤–∞—Ä–∞
    // üî≤ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ CSV —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
    // üî≤ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ —Å timestamp
}
```

### –≠—Ç–∞–ø 3: OpenSearch –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

```go
// –í /backend/internal/proj/storefronts/storage/opensearch/repository.go:
func (r *StorefrontRepository) IndexWithVariants(ctx context.Context, product *models.StorefrontProduct, variants []models.ProductVariant) error {
    doc := map[string]interface{}{
        "id": product.ID,
        "title": product.Title,
        // ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è —É–∂–µ –µ—Å—Ç—å
        // üî≤ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
        "has_variants": len(variants) > 0,
        "min_price": calculateMinPrice(variants),
        "max_price": calculateMaxPrice(variants), 
        "total_stock": calculateTotalStock(variants),
        "available_attributes": extractAttributes(variants),
        "variant_count": len(variants),
    }
}
```

### –≠—Ç–∞–ø 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô**

```go
// üî≤ –î–∂–æ–± –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –∏—Å—Ç–µ–∫—à–∏—Ö —Ä–µ–∑–µ—Ä–≤–æ–≤
// üî≤ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∏–∑–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö
// üî≤ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º
// üî≤ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
```

---

## üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```go
// ‚úÖ –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∏–ø—ã:
// - validate:"required" –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π  
// - validate:"min=0" –¥–ª—è stock_quantity
// üî≤ –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ handlers:
// - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
// - –õ–∏–º–∏—Ç 100 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞ —Ç–æ–≤–∞—Ä
// - Rate limiting –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
```sql
-- ‚úÖ –£–∂–µ —Å–æ–∑–¥–∞–Ω—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
-- üî≤ –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
-- - –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ (>1000 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
-- - –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```go
// üî≤ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏:
// - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
// - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö/–æ–±–Ω–æ–≤–ª—è–µ–º—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
// - –û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ CSV
```

---

## üìä –§–ò–ù–ê–õ–¨–ù–´–ï –ú–ï–¢–†–ò–ö–ò

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã: **95%** ‚úÖ
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: **100%** (4/4 –º–∏–≥—Ä–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è inventory_reservations)
- ‚úÖ Backend API: **100%** (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –≤–∫–ª—é—á–∞—è CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç)  
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã: **100%** (60+ –∫–ª—é—á–µ–π –Ω–∞ 3 —è–∑—ã–∫–∞—Ö)
- ‚úÖ Frontend: **100%** (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ OpenSearch: **100%** (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å nested mapping)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: **100%** (–≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è: **100%** (backend –∏ frontend —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è)

### –†–∞–∑–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: 4 —Ñ–∞–π–ª–∞, ~300 —Å—Ç—Ä–æ–∫ SQL
- **Backend**: 1000+ —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ Go
- **Frontend**: 1500+ —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ –≤ TypeScript/React
- **–ü–µ—Ä–µ–≤–æ–¥—ã**: 180+ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **OpenSearch**: –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π mapping –∏ –ø–æ–∏—Å–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

---

## üéâ –°–ò–°–¢–ï–ú–ê –í–ê–†–ò–ê–ù–¢–û–í –¢–û–í–ê–†–û–í –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
1. **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤**
2. **–†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—á–µ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤**
3. **CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º OpenSearch**
5. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (en/ru/sr)**
6. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω–æ–µ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–ë—ç–∫–∞–ø—ã**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

---

## üìã –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö-–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û:
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã**
- ‚úÖ **Backend API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è** 
- ‚úÖ **–í—Å–µ —Ç–µ–∫—Å—Ç—ã –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ 3 —è–∑—ã–∫–∞ (en/ru/sr)**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞–º–∏**
- ‚úÖ **–ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã**
- ‚úÖ **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã**
- ‚úÖ **CSV –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**
- ‚úÖ **OpenSearch –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤**
- ‚úÖ **–ö–æ–º–ø–∏–ª—è—Ü–∏—è backend –∏ frontend**
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

### üîÑ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –í –°–õ–ï–î–£–Æ–©–ò–• –°–ï–°–°–ò–Ø–•:
- üî≤ **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (swagger)**
- üî≤ **Unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã (coverage > 80%)**
- üî≤ **E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ–¥–µ–Ω—ã**
- üî≤ **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ**
- üî≤ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞**
- üî≤ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
- üî≤ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞**

### üéØ –°–¢–ê–¢–£–°: **–°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø (95%)**

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.**