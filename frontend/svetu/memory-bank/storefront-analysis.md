# Анализ системы витрин из hostel-frontend

## Обзор системы

Система витрин (storefronts) в старом проекте представляет собой полноценный функционал для создания магазинов внутри маркетплейса.

## Ключевые возможности

### 1. Управление витринами
- Создание витрины за 15000 RSD (оплата через платежную систему)
- Редактирование информации о магазине
- Загрузка логотипа и баннера
- Настройка контактной информации
- Указание геолокации на карте

### 2. Импорт товаров
- **Форматы**: CSV, XML, JSON
- **Источники**: файл или URL
- **Дополнительно**: поддержка ZIP-архивов с изображениями
- **История**: сохранение истории импортов
- **Категории**: автоматическое сопоставление категорий

### 3. Управление товарами
- Групповые операции (активация/деактивация)
- Изменение цен
- Редактирование описаний
- Управление изображениями

### 4. Публичная витрина
- Отображение товаров сеткой или списком
- Фильтрация по категориям
- Поиск по товарам витрины
- Информация о продавце
- Рейтинги и отзывы

## Структура данных

### Модель Storefront
```typescript
interface Storefront {
  id: number;
  name: string;
  description?: string;
  logo?: string;
  banner?: string;
  address?: string;
  phone?: string;
  email?: string;
  website?: string;
  latitude?: number;
  longitude?: number;
  userId: number;
  rating: number;
  reviewsCount: number;
  isActive: boolean;
  createdAt: string;
  updatedAt: string;
}
```

### Модель Import
```typescript
interface Import {
  id: number;
  storefrontId: number;
  fileName: string;
  fileType: 'csv' | 'xml' | 'json';
  status: 'pending' | 'processing' | 'completed' | 'failed';
  totalItems: number;
  processedItems: number;
  errors?: string[];
  createdAt: string;
}
```

## API Endpoints

### Приватные (для владельцев)
- `GET /api/storefronts` - список витрин пользователя
- `POST /api/storefronts` - создание витрины
- `PUT /api/storefronts/:id` - обновление витрины
- `DELETE /api/storefronts/:id` - удаление витрины
- `POST /api/storefronts/:id/import` - импорт товаров
- `GET /api/storefronts/:id/imports` - история импортов
- `POST /api/storefronts/:id/listings/batch` - групповые операции

### Публичные
- `GET /api/public/storefronts/:id` - информация о витрине
- `GET /api/public/storefronts/:id/listings` - товары витрины
- `GET /api/public/storefronts/:id/reviews` - отзывы о витрине

## UI/UX особенности

1. **Страница управления**:
   - Табы для разных разделов (товары, настройки, импорт)
   - Статистика продаж и просмотров
   - Быстрые действия

2. **Импорт товаров**:
   - Drag & Drop для загрузки файлов
   - Предпросмотр данных перед импортом
   - Прогресс-бар для отслеживания
   - Детальный отчет об ошибках

3. **Публичная витрина**:
   - Адаптивный дизайн
   - Lazy loading для товаров
   - Переключение вида (сетка/список)
   - Фильтры и сортировка

## Рекомендации для внедрения в Sve Tu Platform

### Фаза 1: Базовый функционал
1. Создание модели данных для витрин
2. API для создания и управления витринами
3. Простая публичная страница витрины
4. Связь товаров с витринами

### Фаза 2: Расширенный функционал
1. Система импорта товаров
2. Групповые операции
3. Статистика и аналитика
4. SEO-оптимизация страниц витрин

### Фаза 3: Интеграция с оплатой и доставкой
1. Настройки способов оплаты для витрины
2. Интеграция с службами доставки
3. Управление заказами
4. Уведомления для продавцов

## Технические особенности

1. **Безопасность**:
   - Проверка прав доступа на все операции
   - Валидация импортируемых данных
   - Защита от XSS и SQL-инъекций

2. **Производительность**:
   - Кеширование данных витрин
   - Оптимизация запросов для больших каталогов
   - CDN для изображений

3. **Масштабируемость**:
   - Возможность обработки больших импортов
   - Асинхронная обработка через очереди
   - Горизонтальное масштабирование