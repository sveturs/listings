# TODO для страницы создания объявления

## КРИТИЧЕСКИЕ задачи для продакшна

### 1. Интеграция с API категорий (TODO #13)

**Файл**: `src/components/create-listing/steps/CategorySelectionStep.tsx`

- Заменить хардкодные категории на загрузку из API `/api/v1/marketplace/categories`
- Использовать реальные ID категорий из БД (1000+, 2000+ и т.д.)
- Добавить обработку ошибок загрузки

### 2. API для атрибутов категорий (TODO #14)

**Файл**: `src/components/create-listing/steps/AttributesStep.tsx`

- Создать endpoint `/api/v1/marketplace/categories/{id}/attributes`
- Загружать атрибуты динамически при выборе категории
- Использовать систему атрибутов из админ-панели

### 3. Верификация телефона (TODO #15)

**Файл**: `src/components/create-listing/steps/TrustSetupStep.tsx`

- Интегрировать реальный сервис SMS/звонков (Twilio, Nexmo и т.д.)
- Создать API endpoint для отправки и проверки кода
- Добавить ограничения на количество попыток

### 4. Курьерские службы (TODO #16)

**Файл**: `src/components/create-listing/steps/PaymentDeliveryStep.tsx`

- Создать API для получения списка курьерских служб
- Добавить актуальные тарифы для каждой службы
- Возможность обновления тарифов через админ-панель

### 5. Безопасные места встреч (TODO #17)

**Файлы**:

- `src/components/create-listing/steps/TrustSetupStep.tsx`
- `src/components/create-listing/steps/LocationStep.tsx`
- Создать API для безопасных мест по городам
- Интегрировать с картами для показа местоположений
- Добавить рейтинг безопасности мест

### 6. Создание объявления (TODO #18)

**Файл**: `src/components/create-listing/steps/PreviewPublishStep.tsx`

- Создать API endpoint `/api/v1/marketplace/listings`
- Обработка всех данных формы
- Валидация на бэкенде
- Сохранение черновиков

### 7. Загрузка изображений (TODO #19)

**Файл**: `src/components/create-listing/steps/PhotosStep.tsx`

- Интеграция с MinIO для хранения изображений
- Создание превью различных размеров
- Оптимизация изображений
- Прогресс загрузки

## Дополнительные улучшения

### 8. Геолокация и карты

- Интеграция с картами (Google Maps, OpenStreetMap)
- Автоопределение местоположения
- Радиус показа объявления

### 9. Валюты и конвертация

- Динамическая загрузка курсов валют
- Автоконвертация для международных пользователей

### 10. Оптимизация для медленного интернета

- Lazy loading компонентов
- Сжатие изображений на клиенте
- Оффлайн режим с синхронизацией

## Временные решения, требующие замены:

1. **Хардкодные категории** с неправильными ID (1-12 вместо 1000+)
2. **Фейковая верификация телефона** через setTimeout
3. **Статичный список курьерских служб** без актуальных тарифов
4. **Хардкодные безопасные места** без привязки к городам
5. **Список городов Сербии** без API
6. **Локальная обработка изображений** без загрузки на сервер
7. **Фейковая публикация** объявления

## Приоритет реализации:

1. API создания объявления (без этого вся форма бесполезна)
2. Загрузка категорий из БД
3. Загрузка атрибутов категорий
4. Загрузка изображений через MinIO
5. Остальные интеграции
