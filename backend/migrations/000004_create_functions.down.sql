-- Drop functions
DROP FUNCTION IF EXISTS public.assign_district_municipality;
DROP FUNCTION IF EXISTS public.auto_geocode_storefront_product;
DROP FUNCTION IF EXISTS public.calculate_blurred_location;
DROP FUNCTION IF EXISTS public.calculate_entity_rating;
DROP FUNCTION IF EXISTS public.calculate_escrow_release_date;
DROP FUNCTION IF EXISTS public.check_price_manipulation;
DROP FUNCTION IF EXISTS public.cleanup_expired_geocoding_cache;
DROP FUNCTION IF EXISTS public.cleanup_expired_refresh_tokens;
DROP FUNCTION IF EXISTS public.cleanup_old_address_logs;
DROP FUNCTION IF EXISTS public.cleanup_unified_geo;
DROP FUNCTION IF EXISTS public.expand_search_query;
DROP FUNCTION IF EXISTS public.generate_order_number;
DROP FUNCTION IF EXISTS public.generate_unique_slug;
DROP FUNCTION IF EXISTS public.get_geocoding_cache_stats;
DROP FUNCTION IF EXISTS public.log_search_weight_changes;
DROP FUNCTION IF EXISTS public.preserve_review_origin;
DROP FUNCTION IF EXISTS public.rebuild_all_ratings;
DROP FUNCTION IF EXISTS public.refresh_category_listing_counts;
DROP FUNCTION IF EXISTS public.refresh_density_grid;
DROP FUNCTION IF EXISTS public.refresh_discount_metadata;
DROP FUNCTION IF EXISTS public.refresh_map_items_cache;
DROP FUNCTION IF EXISTS public.refresh_rating_distributions;
DROP FUNCTION IF EXISTS public.refresh_rating_summaries;
DROP FUNCTION IF EXISTS public.refresh_rating_views;
DROP FUNCTION IF EXISTS public.set_order_number;
DROP FUNCTION IF EXISTS public.sync_attribute_option_translations;
DROP FUNCTION IF EXISTS public.trigger_cleanup_geocoding_cache;
DROP FUNCTION IF EXISTS public.trigger_refresh_map_cache;
DROP FUNCTION IF EXISTS public.trigger_update_listings_on_attribute_translation_change;
DROP FUNCTION IF EXISTS public.update_attribute_groups_updated_at;
DROP FUNCTION IF EXISTS public.update_category_attribute_sort_order;
DROP FUNCTION IF EXISTS public.update_custom_ui_component_usage_timestamp;
DROP FUNCTION IF EXISTS public.update_geocoding_cache_updated_at;
DROP FUNCTION IF EXISTS public.update_item_performance_metrics_updated_at;
DROP FUNCTION IF EXISTS public.update_listing_metadata_after_price_change;
DROP FUNCTION IF EXISTS public.update_listing_search_vector;
DROP FUNCTION IF EXISTS public.update_listings_geo_updated_at;
DROP FUNCTION IF EXISTS public.update_marketplace_chats_updated_at;
DROP FUNCTION IF EXISTS public.update_marketplace_orders_updated_at;
DROP FUNCTION IF EXISTS public.update_notification_settings_updated_at;
DROP FUNCTION IF EXISTS public.update_price_history;
DROP FUNCTION IF EXISTS public.update_product_stock_status;
DROP FUNCTION IF EXISTS public.update_product_variants_updated_at;
DROP FUNCTION IF EXISTS public.update_rating_cache;
DROP FUNCTION IF EXISTS public.update_search_behavior_metrics_updated_at;
DROP FUNCTION IF EXISTS public.update_search_optimization_sessions_updated_at;
DROP FUNCTION IF EXISTS public.update_search_queries_updated_at;
DROP FUNCTION IF EXISTS public.update_search_synonyms_updated_at;
DROP FUNCTION IF EXISTS public.update_search_weights_updated_at;
DROP FUNCTION IF EXISTS public.update_shopping_cart_updated_at;
DROP FUNCTION IF EXISTS public.update_storefront_products_geo;
DROP FUNCTION IF EXISTS public.update_translations_updated_at;
DROP FUNCTION IF EXISTS public.update_transliteration_rules_updated_at;
DROP FUNCTION IF EXISTS public.update_unified_geo_updated_at;
DROP FUNCTION IF EXISTS public.update_updated_at_column;
DROP FUNCTION IF EXISTS public.update_user_contacts_updated_at;
DROP FUNCTION IF EXISTS public.update_user_privacy_settings_updated_at;
DROP FUNCTION IF EXISTS public.update_user_updated_at;