openapi: 3.0.0
info:
  contact:
    email: support@svetu.rs
    name: API Support
    url: https://svetu.rs/support
  description: API для платформы Sve Tu - маркетплейс объявлений
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://svetu.rs/terms
  title: Sve Tu Marketplace API
  version: "1.0"
paths:
  /api/admin/attributes:
    post:
      description: Creates a new attribute for categories
      requestBody:
        $ref: "#/components/requestBodies/backend_internal_domain_models.CategoryAttrib\
          ute"
      responses:
        "201":
          description: marketplace.attributeCreated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeCreateRe\
                          sponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.requiredFieldsMissing
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.createAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create attribute
      tags:
        - marketplace-admin-attributes
  /api/admin/categories:
    post:
      description: Creates a new marketplace category
      requestBody:
        content:
          application/json:
            schema:
              properties:
                icon:
                  type: string
                name:
                  type: string
                parent_id:
                  type: integer
                slug:
                  type: string
              type: object
        description: Category data
        required: true
      responses:
        "200":
          description: Category created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.categoryNameRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.createCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{category_id}/components":
    get:
      description: Returns custom components for a specific category
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
        - description: Usage context
          in: query
          name: context
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponentUsa\
                            ge"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category components
      tags:
        - marketplace-admin-custom-components
  "/api/admin/categories/{id}":
    delete:
      description: Deletes a marketplace category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete category
      tags:
        - marketplace-admin-categories
    get:
      description: Returns detailed information about a specific category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceCategory"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.categoryNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category by ID
      tags:
        - marketplace-admin-categories
    put:
      description: Updates an existing marketplace category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                icon:
                  type: string
                name:
                  type: string
                parent_id:
                  type: integer
                slug:
                  type: string
              type: object
        description: Updated category data
        required: true
      responses:
        "200":
          description: Category updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.categoryNameRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/attributes":
    post:
      description: Links an attribute to a category with optional required setting
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                attribute_id:
                  type: integer
                is_required:
                  type: boolean
              type: object
        description: Attribute data
        required: true
      responses:
        "200":
          description: Attribute added to category successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.addAttributeToCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/attributes/{attr_id}":
    delete:
      description: Unlinks an attribute from a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attr_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute removed from category successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidAttributeId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeAttributeFromCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from category
      tags:
        - marketplace-admin-categories
    put:
      description: Updates settings for an attribute-category relationship
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attr_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_enabled:
                  type: boolean
                is_required:
                  type: boolean
              type: object
        description: Attribute settings
        required: true
      responses:
        "200":
          description: Attribute category updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidAttributeId or
            marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateAttributeCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute category settings
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/move":
    put:
      description: Moves a category to a different parent in the hierarchy
      parameters:
        - description: Category ID to move
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                new_parent_id:
                  type: integer
              type: object
        description: New parent category ID
        required: true
      responses:
        "200":
          description: Category moved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.moveCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Move category in hierarchy
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/reorder":
    post:
      description: Changes the order of categories based on provided IDs list
      parameters:
        - description: Parent category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                ordered_ids:
                  items:
                    type: integer
                  type: array
              type: object
        description: List of category IDs in new order
        required: true
      responses:
        "200":
          description: Categories reordered successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.emptyIdList
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.reorderCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reorder categories
      tags:
        - marketplace-admin-categories
  /api/admin/custom-components:
    get:
      description: Returns a list of all custom UI components
      parameters:
        - description: Filter by component type
          in: query
          name: component_type
          schema:
            type: string
        - description: Filter by active status
          in: query
          name: active
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponent"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List custom components
      tags:
        - marketplace-admin-custom-components
    post:
      description: Creates a new custom UI component
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.CreateCustomComponen\
                tRequest"
        description: Component data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create custom component
      tags:
        - marketplace-admin-custom-components
  "/api/admin/custom-components/{id}":
    delete:
      description: Deletes a custom UI component
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Component deleted
        "400":
          description: Bad Request
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete custom component
      tags:
        - marketplace-admin-custom-components
    get:
      description: Gets a custom UI component by ID
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.componentNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get custom component
      tags:
        - marketplace-admin-custom-components
    put:
      description: Updates a custom UI component
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UpdateCustomComponen\
                tRequest"
        description: Component data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update custom component
      tags:
        - marketplace-admin-custom-components
  /api/admin/custom-components/templates:
    get:
      description: Returns a list of all component templates
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.ComponentTemplate"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List templates
      tags:
        - marketplace-admin-custom-components
    post:
      description: Creates a template for a custom component
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.CreateTemplateReques\
                t"
        description: Template data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ComponentTemplate"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create template
      tags:
        - marketplace-admin-custom-components
  /api/admin/custom-components/usage:
    get:
      description: Returns a list of all component usages with filtering
      parameters:
        - description: Component ID
          in: query
          name: component_id
          schema:
            type: integer
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponentUsa\
                            ge"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get component usages
      tags:
        - marketplace-admin-custom-components
    post:
      description: Adds component usage for a specific category
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.CreateComponentUsage\
                Request"
        description: Usage data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponentUsa\
                          ge"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add component usage
      tags:
        - marketplace-admin-custom-components
  "/api/admin/custom-components/usage/{id}":
    delete:
      description: Removes component usage for a category
      parameters:
        - description: Usage ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Usage removed
        "400":
          description: marketplace.invalidId
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove component usage
      tags:
        - marketplace-admin-custom-components
  "/api/v1/admin-check/{email}":
    get:
      description: Checks if user with specified email is an administrator (no
        authorization required)
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminAdminsResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.check_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Public administrator check
      tags:
        - public
  /api/v1/admin/admins:
    get:
      description: Returns list of all system administrators
      responses:
        "200":
          description: List of administrators
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.AdminUser"
                        type: array
                    type: object
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.fetch_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all administrators
      tags:
        - admin-management
    post:
      description: Adds a new administrator by email
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.AdminUser"
        description: Administrator data
        required: true
      responses:
        "200":
          description: Created administrator
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.AdminUser"
                    type: object
        "400":
          description: admin.admins.error.invalid_format or
            admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.add_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add new administrator
      tags:
        - admin-management
  "/api/v1/admin/admins/{email}":
    delete:
      description: Removes administrator privileges from user by email
      parameters:
        - description: Administrator email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Administrator removed
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.remove_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove administrator
      tags:
        - admin-management
  "/api/v1/admin/admins/check/{email}":
    get:
      description: Checks if user with specified email is an administrator
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminAdminsResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.check_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check administrator status
      tags:
        - admin-management
  /api/v1/admin/marketplace/attributes:
    get:
      description: Returns list of all category attributes sorted by sort_order and ID
      responses:
        "200":
          description: List of attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/attributes/{id}":
    delete:
      description: Deletes a category attribute by ID
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.attributeDeleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid attribute ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attribute
      tags:
        - marketplace-admin-attributes
    get:
      description: Returns detailed information about a specific attribute
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
                    type: object
        "400":
          description: Invalid attribute ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Attribute not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute by ID
      tags:
        - marketplace-admin-attributes
    put:
      description: Updates an existing category attribute with new data
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/backend_internal_domain_models.CategoryAttrib\
          ute"
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute
      tags:
        - marketplace-admin-attributes
  /api/v1/admin/marketplace/attributes/bulk:
    put:
      description: Updates multiple category attributes in a single request
      requestBody:
        content:
          application/json:
            schema:
              properties:
                attributes:
                  items:
                    $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
                  type: array
              type: object
        description: List of attributes to update
        required: true
      responses:
        "200":
          description: Update results with success count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.BulkUpdateResult"
                    type: object
        "206":
          description: Partial update with errors
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/internal_proj_marketplace_handler.PartialOperationR\
                      esponse"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.BulkUpdateResult"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Bulk update attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/{attributeId}":
    delete:
      description: Removes the link between a category attribute and a category
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from category
      tags:
        - marketplace-admin-attributes
    post:
      description: Links a category attribute to a specific category with optional settings
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_required:
                  type: boolean
                sort_order:
                  type: integer
              type: object
        description: Attribute settings for category
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to category
      tags:
        - marketplace-admin-attributes
    put:
      description: Updates settings for an attribute within a specific category
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                custom_component:
                  type: string
                is_enabled:
                  type: boolean
                is_required:
                  type: boolean
                sort_order:
                  type: integer
              type: object
        description: Attribute category settings
        required: true
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute category settings
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/export":
    get:
      description: Exports all attribute settings for a specific category as JSON
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category attributes with settings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttributeMap\
                            ping"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Export category attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/import":
    post:
      description: Imports attribute settings into a category, replacing existing settings
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttributeMap\
                  ping"
              type: array
        description: List of attribute mappings to import
        required: true
      responses:
        "200":
          description: Import results with success count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ImportAttributesR\
                          esult"
                    type: object
        "206":
          description: Partial import with errors
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/internal_proj_marketplace_handler.PartialOperationR\
                      esponse"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ImportAttributesR\
                          esult"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Import category attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{targetCategoryId}/attributes/copy":
    post:
      description: Copies all attribute settings from a source category to a target category
      parameters:
        - description: Target category ID
          in: path
          name: targetCategoryId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                source_category_id:
                  type: integer
              type: object
        description: Source category ID
        required: true
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Copy attribute settings between categories
      tags:
        - marketplace-admin-attributes
  /api/v1/admin/reindex-all-listings:
    post:
      description: Alternative endpoint to reindex all marketplace listings
      responses:
        "200":
          description: Reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ReindexStartedRes\
                          ponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings (alias)
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-listings:
    post:
      description: Reindexes all marketplace listings in the search index
      responses:
        "200":
          description: Reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-listings-with-translations:
    post:
      description: Reindexes all marketplace listings with their translations in the
        search index
      responses:
        "200":
          description: Reindexing with translations started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ReindexStartedRes\
                          ponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings with translations
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-ratings:
    post:
      description: Reindexes ratings and review counts for all marketplace listings
      responses:
        "200":
          description: Rating reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ReindexStartedRes\
                          ponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex listing ratings
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/sync-discounts:
    post:
      description: Synchronizes discount data for all listings (Admin only)
      responses:
        "200":
          description: Discounts synchronized successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: admin.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.syncError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Synchronize discount data
      tags:
        - marketplace-admin
  /api/v1/admin/users:
    get:
      description: Returns paginated list of all users in the system
      parameters:
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
      responses:
        "200":
          description: List of users
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminUserListResponse"
                    type: object
        "500":
          description: admin.users.error.fetch_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all users (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}":
    delete:
      description: Permanently deletes a user from the system
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User deleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.delete_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete user (Admin)
      tags:
        - admin-users
    get:
      description: Returns detailed user information by user ID
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserProfile"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: admin.users.error.user_not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user by ID (Admin)
      tags:
        - admin-users
    put:
      description: Updates user profile information by administrator
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UserProfileUpdate"
        description: User update data
        required: true
      responses:
        "200":
          description: Profile updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id or
            admin.users.error.invalid_format or
            admin.users.error.validation_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.update_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/balance":
    get:
      description: Returns balance information for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User balance
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserBalance"
                    type: object
        "400":
          description: admin.balance.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.balance.error.fetch_balance_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user balance (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/status":
    put:
      description: Updates user status (active, blocked, pending)
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_users_handler.AdminStatusUpdateReques\
                t"
        description: Status update (active, blocked, pending)
        required: true
      responses:
        "200":
          description: Status updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id or
            admin.users.error.invalid_format or admin.users.error.invalid_status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.status_update_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user status (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/transactions":
    get:
      description: Returns paginated transaction history for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Number of items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Number of items to skip
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Transaction history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.BalanceTransaction"
                        type: array
                    type: object
        "400":
          description: admin.balance.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: admin.balance.error.fetch_transactions_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user transactions (Admin)
      tags:
        - admin-users
  /api/v1/auth/login:
    post:
      description: Authenticates user and returns JWT access token
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_users_handler.LoginRequest"
        description: Login credentials
        required: true
      responses:
        "200":
          description: Authentication successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AuthResponse"
                    type: object
        "400":
          description: auth.login.error.invalid_request_body or
            auth.login.error.email_password_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.login.error.invalid_credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: auth.login.error.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Login with email and password
      tags:
        - auth
  /api/v1/auth/logout:
    post:
      description: Logs out the user by revoking all refresh tokens and clearing cookies
      responses:
        "200":
          description: Logout successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.MessageResponse"
                    type: object
      security:
        - BearerAuth: []
      summary: Logout user
      tags:
        - auth
  /api/v1/auth/refresh:
    post:
      description: Refreshes expired access token using valid refresh token from cookie
      responses:
        "200":
          description: New access token
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.TokenResponse"
                    type: object
        "401":
          description: auth.refresh_token.error.token_not_found or
            auth.refresh_token.error.invalid_token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Refresh access token
      tags:
        - auth
  /api/v1/auth/register:
    post:
      description: Creates a new user account and returns JWT access token
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_users_handler.RegisterRequest"
        description: Registration data
        required: true
      responses:
        "200":
          description: Registration successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AuthResponse"
                    type: object
        "400":
          description: auth.register.error.invalid_request_body or
            auth.register.error.fields_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "409":
          description: auth.register.error.email_exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: auth.register.error.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Register new user
      tags:
        - auth
  /api/v1/balance:
    get:
      description: Returns current balance and frozen balance for authenticated user
      responses:
        "200":
          description: User balance information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserBalance"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: balance.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user balance
      tags:
        - balance
  /api/v1/balance/deposit:
    post:
      description: Creates a new payment session for balance deposit
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_balance_handler.DepositRequest"
        description: Deposit details
        required: true
      responses:
        "200":
          description: Payment session created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.PaymentSession"
                    type: object
        "400":
          description: balance.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: balance.createDepositError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create deposit
      tags:
        - balance
  /api/v1/balance/payment-methods:
    get:
      description: Returns list of available payment methods
      responses:
        "200":
          description: List of payment methods
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.PaymentMethod"
                        type: array
                    type: object
        "500":
          description: balance.getPaymentMethodsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get payment methods
      tags:
        - balance
  /api/v1/balance/transactions:
    get:
      description: Returns paginated list of user balance transactions
      parameters:
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Offset
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: List of transactions
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.BalanceTransaction"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: balance.getTransactionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get transaction history
      tags:
        - balance
  /api/v1/contacts:
    get:
      description: Возвращает список контактов с фильтрацией по статусу и пагинацией
      parameters:
        - description: Фильтр по статусу (pending, accepted, blocked)
          in: query
          name: status
          schema:
            type: string
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Список контактов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ContactsListResponse"
                    type: object
        "400":
          description: validation.invalidStatusFilter
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: contacts.fetchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить список контактов
      tags:
        - contacts
    post:
      description: Добавляет пользователя в список контактов
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.AddContactRequest"
        description: Данные для добавления контакта
        required: true
      responses:
        "200":
          description: Контакт успешно добавлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserContact"
                    type: object
        "400":
          description: validation.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: contacts.userNotAllowRequests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "409":
          description: contacts.alreadyExists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: contacts.addError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Добавить контакт
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}":
    delete:
      description: Удаляет пользователя из списка контактов
      parameters:
        - description: ID контакта для удаления
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Контакт удален
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_contacts_handler.ContactRemoveRespons\
                          e"
                    type: object
        "400":
          description: validation.invalidContactUserId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: contacts.removeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Удалить контакт
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}/check":
    get:
      description: Проверяет, являются ли два пользователя контактами
      parameters:
        - description: ID пользователя для проверки
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Статус контакта
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_contacts_handler.ContactStatusCheckRe\
                          sponse"
                    type: object
        "400":
          description: validation.invalidContactUserId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: contacts.checkError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Проверить статус контакта
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}/status":
    put:
      description: Изменяет статус контакта (принять или заблокировать)
      parameters:
        - description: ID контакта
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UpdateContactRequest"
        description: Новый статус контакта
        required: true
      responses:
        "200":
          description: Статус обновлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_contacts_handler.ContactStatusUpdateR\
                          esponse"
                    type: object
        "400":
          description: validation.invalidContactUserId или validation.invalidStatus
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: contacts.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить статус контакта
      tags:
        - contacts
  /api/v1/contacts/privacy:
    get:
      description: Возвращает текущие настройки приватности пользователя
      responses:
        "200":
          description: Настройки приватности
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserPrivacySettings"
                    type: object
        "500":
          description: privacy.fetchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить настройки приватности
      tags:
        - contacts
    put:
      description: Изменяет настройки приватности пользователя
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UpdatePrivacySetting\
                sRequest"
        description: Новые настройки приватности
        required: true
      responses:
        "200":
          description: Обновленные настройки
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserPrivacySettings"
                    type: object
        "400":
          description: validation.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: privacy.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить настройки приватности
      tags:
        - contacts
  /api/v1/docs/content:
    get:
      description: Returns the content of a specific markdown file
      parameters:
        - description: File path relative to docs root
          in: query
          name: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: File content
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_docserver_handler.DocContentResponse"
                    type: object
        "400":
          description: docs.pathRequired or docs.invalidPath or docs.onlyMarkdownAllowed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: docs.fileNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: docs.readError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get file content
      tags:
        - docs
  /api/v1/docs/files:
    get:
      description: Returns the hierarchical list of markdown files in the
        documentation directory
      responses:
        "200":
          description: List of documentation files
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_docserver_handler.DocFilesResponse"
                    type: object
        "500":
          description: docs.scanError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get documentation files
      tags:
        - docs
  /api/v1/geocode/cities:
    get:
      description: Возвращает список городов по частичному названию для автодополнения
      parameters:
        - description: Поисковый запрос (минимум 2 символа)
          in: query
          name: q
          required: true
          schema:
            type: string
        - description: Максимальное количество результатов
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Список городов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.GeoLocation"
                        type: array
                    type: object
        "500":
          description: geocode.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Поиск городов
      tags:
        - geocode
  /api/v1/geocode/reverse:
    get:
      description: Получает адрес по географическим координатам
      parameters:
        - description: Широта
          in: query
          name: lat
          required: true
          schema:
            type: number
        - description: Долгота
          in: query
          name: lon
          required: true
          schema:
            type: number
      responses:
        "200":
          description: Адрес по координатам
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.GeoLocation"
                    type: object
        "400":
          description: validation.invalidLatitude или validation.invalidLongitude
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: geocode.reverseError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Обратное геокодирование
      tags:
        - geocode
  /api/v1/import-sources:
    post:
      description: Creates a new import source for storefront
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.ImportSourceCreate"
        description: Import source data
        required: true
      responses:
        "200":
          description: Import source created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ImportSource"
                    type: object
        "400":
          description: storefront.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.createError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create import source
      tags:
        - import-sources
  "/api/v1/import-sources/{id}":
    delete:
      description: Deletes an import source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Delete successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.MessageResponse"
                    type: object
        "400":
          description: importSource.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete import source
      tags:
        - import-sources
    put:
      description: Updates import source information
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.ImportSource"
        description: Updated import source data
        required: true
      responses:
        "200":
          description: Update successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.MessageResponse"
                    type: object
        "400":
          description: importSource.invalidId,storefront.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update import source
      tags:
        - import-sources
  "/api/v1/import-sources/{id}/apply-mappings":
    post:
      description: Applies category mappings to imported listings
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Mappings applied successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.ApplyCategoryMappi\
                          ngsResponse"
                    type: object
        "400":
          description: importSource.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.applyCategoryMappingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Apply category mappings
      tags:
        - import-sources
  "/api/v1/import-sources/{id}/category-mappings":
    get:
      description: Returns category mappings for a specific import source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category mappings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: integer
                        type: object
                    type: object
        "400":
          description: importSource.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.getCategoryMappingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category mappings for import source
      tags:
        - import-sources
    put:
      description: Updates category mappings for a specific import source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: integer
              type: object
        description: Category mappings
        required: true
      responses:
        "200":
          description: Update successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.CategoryMappingsUp\
                          dateResponse"
                    type: object
        "400":
          description: importSource.invalidId,importSource.invalidMappingsFormat
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.updateCategoryMappingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update category mappings for import source
      tags:
        - import-sources
  "/api/v1/import-sources/{id}/history":
    get:
      description: Returns import history for an import source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Limit number of results
          in: query
          name: limit
          schema:
            type: integer
            default: 10
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Import history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.ImportHistory"
                        type: array
                    type: object
        "400":
          description: importSource.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.getHistoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get import history
      tags:
        - import-sources
  "/api/v1/import-sources/{id}/import":
    post:
      description: Starts import process for an import source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: CSV file for import
                  type: string
                  format: binary
                images_zip:
                  description: ZIP file with images
                  type: string
                  format: binary
                xml_zip:
                  description: ZIP file with XML data
                  type: string
                  format: binary
      responses:
        "200":
          description: Import completed
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ImportHistory"
                    type: object
        "400":
          description: importSource.invalidId,importSource.notFound,importSource.noDataSource
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.runImportError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Run import
      tags:
        - import-sources
  "/api/v1/import-sources/{id}/imported-categories":
    get:
      description: Returns list of categories that were imported by this source
      parameters:
        - description: Import source ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of imported categories
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          type: string
                        type: array
                    type: object
        "400":
          description: importSource.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.getImportedCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get imported categories
      tags:
        - import-sources
  /api/v1/marketplace/admin/attribute-groups:
    get:
      description: Returns all attribute groups
      responses:
        "200":
          description: List of attribute groups
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeGroupsRe\
                          sponse"
                    type: object
        "500":
          description: marketplace.listGroupsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List attribute groups
      tags:
        - marketplace-admin-attribute-groups
    post:
      responses:
        "400":
          description: marketplace.invalidRequest or marketplace.groupNameRequired
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.createGroupError
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
  "/api/v1/marketplace/admin/attribute-groups/{id}":
    delete:
      description: Deletes an attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.groupDeleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attribute group
      tags:
        - marketplace-admin-attribute-groups
    get:
      description: Returns information about a specific attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute group information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeGroupRes\
                          ponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.groupNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute group
      tags:
        - marketplace-admin-attribute-groups
    put:
      description: Updates an existing attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UpdateAttributeGroup\
                Request"
        description: Updated group data
        required: true
      responses:
        "200":
          description: marketplace.groupUpdated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/attribute-groups/{id}/items":
    get:
      description: Returns attribute group with all its attributes
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Group with items
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeGroupWit\
                          hItemsData"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.groupNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getGroupItemsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute group with items
      tags:
        - marketplace-admin-attribute-groups
    post:
      description: Adds an attribute to a group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.AddItemToGroupReques\
                t"
        description: Attribute data
        required: true
      responses:
        "201":
          description: Item added successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.addItemError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/attribute-groups/{id}/items/{attributeId}":
    delete:
      description: Removes an attribute from a group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.itemRemoved
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidAttributeId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeItemError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/categories/{id}/groups":
    get:
      description: Returns attribute groups attached to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category groups
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeGroupsRe\
                          sponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoryGroupsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category attribute groups
      tags:
        - marketplace-admin-attribute-groups
    post:
      description: Attaches an attribute group to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.AttachGroupToCategor\
                yRequest"
        description: Group attachment data
        required: true
      responses:
        "201":
          description: Group attached successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.attachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Attach group to category
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/categories/{id}/groups/{groupId}":
    delete:
      description: Detaches an attribute group from a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Group ID
          in: path
          name: groupId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.groupDetached
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.detachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Detach group from category
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/attachments/{id}":
    delete:
      description: Deletes an attachment (only by the message sender)
      parameters:
        - description: Attachment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidAttachmentId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.deleteAttachmentForbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteAttachmentError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attachment
      tags:
        - marketplace-chat
    get:
      description: Returns information about a specific attachment
      parameters:
        - description: Attachment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ChatAttachment"
                    type: object
        "400":
          description: marketplace.invalidAttachmentId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.accessDenied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.attachmentNotFound or marketplace.messageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attachment info
      tags:
        - marketplace-chat
  /api/v1/marketplace/categories:
    get:
      description: Returns all marketplace categories
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceCategory"
                        type: array
                    type: object
        "500":
          description: marketplace.categoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get categories list
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/{id}/attribute-ranges":
    get:
      description: Returns min/max values for numeric attributes in a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeRangesRe\
                          sponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.rangesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get attribute value ranges
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/{id}/attributes":
    get:
      description: Returns all attributes available for a specific category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.attributesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get category attributes
      tags:
        - marketplace-categories
  /api/v1/marketplace/category-suggestions:
    get:
      description: Returns category suggestions based on query
      parameters:
        - description: Search query
          in: query
          name: query
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Category suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CategorySuggestion"
                        type: array
                    type: object
        "400":
          description: marketplace.queryRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.categorySuggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get category suggestions
      tags:
        - marketplace-search
  /api/v1/marketplace/category-tree:
    get:
      description: Returns hierarchical tree of all categories with caching
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.CategoryTreeNode"
                        type: array
                    type: object
        "500":
          description: marketplace.categoryTreeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get category tree
      tags:
        - marketplace-categories
  /api/v1/marketplace/chat:
    get:
      description: Returns all chats where the user is a participant
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceChat"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getChatsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user's chats
      tags:
        - marketplace-chat
  /api/v1/marketplace/chat/messages:
    get:
      description: Returns paginated messages from a chat
      parameters:
        - description: Chat ID
          in: query
          name: chat_id
          schema:
            type: string
        - description: Listing ID
          in: query
          name: listing_id
          schema:
            type: string
        - description: Receiver ID for direct messages
          in: query
          name: receiver_id
          schema:
            type: string
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ChatMessagesRespo\
                          nse"
                    type: object
        "400":
          description: marketplace.invalidChatId or marketplace.invalidListingId or
            marketplace.chatParamsRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getMessagesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get chat messages
      tags:
        - marketplace-chat
  "/api/v1/marketplace/chats/{chat_id}/archive":
    post:
      description: Archives a chat for the user
      parameters:
        - description: Chat ID
          in: path
          name: chat_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidChatId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.archiveChatError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Archive chat
      tags:
        - marketplace-chat
  /api/v1/marketplace/enhance-images:
    post:
      description: Enhances multiple images for a marketplace listing using AI processing
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                listing_id:
                  description: Listing ID
                  type: integer
                enhancement_type:
                  description: Enhancement type
                  type: string
                  default: quality
              required:
                - listing_id
        required: true
      responses:
        "200":
          description: Enhancement job started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.EnhanceImagesResp\
                          onse"
                    type: object
        "400":
          description: marketplace.invalidId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound or marketplace.imageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.enhanceError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Enhance listing images
      tags:
        - marketplace-images
  /api/v1/marketplace/enhance-preview:
    post:
      description: Creates a preview of an enhanced image before applying changes
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                image_id:
                  description: Image ID to enhance
                  type: integer
                enhancement_type:
                  description: Enhancement type
                  type: string
                  default: quality
              required:
                - image_id
        required: true
      responses:
        "200":
          description: Enhancement preview
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.EnhancePreviewRes\
                          ponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.enhanceError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create image enhancement preview
      tags:
        - marketplace-images
  /api/v1/marketplace/enhanced-suggestions:
    get:
      description: Returns autocomplete suggestions with categories
      parameters:
        - description: Search prefix
          in: query
          name: prefix
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
        - description: Language
          in: query
          name: lang
          schema:
            type: string
            default: ru
      responses:
        "200":
          description: Enhanced suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/internal_proj_marketplace_handler.SuggestionItem"
                        type: array
                    type: object
        "400":
          description: marketplace.prefixRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get enhanced search suggestions
      tags:
        - marketplace-search
  /api/v1/marketplace/favorites:
    get:
      description: Returns all listings marked as favorites by the user
      responses:
        "200":
          description: List of favorite listings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user's favorite listings
      tags:
        - marketplace-favorites
  "/api/v1/marketplace/favorites/{id}":
    delete:
      description: Removes a listing from user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Removed from favorites
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeFromFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove listing from favorites
      tags:
        - marketplace-favorites
    post:
      description: Adds a listing to user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Added to favorites
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.addToFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add listing to favorites
      tags:
        - marketplace-favorites
  "/api/v1/marketplace/favorites/{id}/check":
    get:
      description: Checks if a specific listing is in user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Favorite status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.FavoriteStatusDat\
                          a"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.checkFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check if listing is in favorites
      tags:
        - marketplace-favorites
  /api/v1/marketplace/favorites/count:
    get:
      description: Returns the total number of listings in user's favorites
      responses:
        "200":
          description: Favorites count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.FavoritesCountDat\
                          a"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getFavoritesCountError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get favorites count
      tags:
        - marketplace-favorites
  "/api/v1/marketplace/images/{id}":
    delete:
      description: Deletes an image from a marketplace listing
      parameters:
        - description: Image ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Image deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete listing image
      tags:
        - marketplace-images
  /api/v1/marketplace/listings:
    get:
      description: Returns paginated list of listings with optional filters
      parameters:
        - description: Search query
          in: query
          name: query
          schema:
            type: string
        - description: Category ID filter
          in: query
          name: category_id
          schema:
            type: integer
        - description: Condition filter (new, used, etc.)
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
        - description: Sort order (price_asc, price_desc, date_desc, etc.)
          in: query
          name: sort_by
          schema:
            type: string
        - description: User ID filter
          in: query
          name: user_id
          schema:
            type: integer
        - description: Storefront ID filter
          in: query
          name: storefront_id
          schema:
            type: integer
        - description: Number of items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Number of items to skip
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Listings list with pagination
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ListingsResponse"
                    type: object
        "500":
          description: marketplace.listError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get listings list
      tags:
        - marketplace-listings
    post:
      description: Creates a new marketplace listing with attributes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
        description: Listing data
        required: true
      responses:
        "200":
          description: Listing created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "409":
          description: marketplace.duplicateTitle
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.createError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create new listing
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}":
    delete:
      description: Deletes a marketplace listing. Only the owner can delete
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Listing deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete listing
      tags:
        - marketplace-listings
    get:
      description: Returns detailed information about a specific listing including
        attributes and images
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Listing details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get listing details
      tags:
        - marketplace-listings
    put:
      description: Updates an existing marketplace listing. Only the owner can update
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
        description: Updated listing data
        required: true
      responses:
        "200":
          description: Listing updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update listing
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}/images":
    post:
      description: Uploads multiple images for a marketplace listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Image files to upload
                  type: string
                  format: binary
                main_image_index:
                  description: Index of the main image
                  type: integer
              required:
                - file
        required: true
      responses:
        "200":
          description: Images uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ImagesUploadRespo\
                          nse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.uploadError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload listing images
      tags:
        - marketplace-images
  "/api/v1/marketplace/listings/{id}/price-history":
    get:
      description: Returns price history for a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Price history entries
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.PriceHistoryEntry"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.priceHistoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get listing price history
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}/similar":
    get:
      description: Returns listings similar to a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Number of similar listings
          in: query
          name: limit
          schema:
            type: integer
            default: 5
      responses:
        "200":
          description: Similar listings list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.similarListingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get similar listings
      tags:
        - marketplace-search
  /api/v1/marketplace/map/bounds:
    get:
      description: Returns all listings within the specified geographical bounds
      parameters:
        - description: Northeast latitude
          in: query
          name: ne_lat
          required: true
          schema:
            type: number
        - description: Northeast longitude
          in: query
          name: ne_lng
          required: true
          schema:
            type: number
        - description: Southwest latitude
          in: query
          name: sw_lat
          required: true
          schema:
            type: number
        - description: Southwest longitude
          in: query
          name: sw_lng
          required: true
          schema:
            type: number
        - description: Map zoom level
          in: query
          name: zoom
          schema:
            type: integer
            default: 10
        - description: Comma-separated category IDs
          in: query
          name: categories
          schema:
            type: string
        - description: Item condition filter
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
      responses:
        "200":
          description: Listings within bounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/internal_proj_marketplace_handler.MapBoundsResponse"
        "400":
          description: marketplace.invalidBounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.mapError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get listings in bounds
      tags:
        - marketplace-map
  /api/v1/marketplace/map/clusters:
    get:
      description: Returns clustered listings data for efficient map rendering
      parameters:
        - description: Northeast latitude
          in: query
          name: ne_lat
          required: true
          schema:
            type: number
        - description: Northeast longitude
          in: query
          name: ne_lng
          required: true
          schema:
            type: number
        - description: Southwest latitude
          in: query
          name: sw_lat
          required: true
          schema:
            type: number
        - description: Southwest longitude
          in: query
          name: sw_lng
          required: true
          schema:
            type: number
        - description: Map zoom level
          in: query
          name: zoom
          schema:
            type: integer
            default: 10
        - description: Comma-separated category IDs
          in: query
          name: categories
          schema:
            type: string
        - description: Item condition filter
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
      responses:
        "200":
          description: Map clusters or markers data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/internal_proj_marketplace_handler.MapClustersRespon\
                  se"
        "400":
          description: marketplace.invalidBounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.mapError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get map clusters
      tags:
        - marketplace-map
  /api/v1/marketplace/messages:
    post:
      description: Sends a new message to a chat
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.CreateMessageRequest"
        description: Message data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceMessage"
                    type: object
        "400":
          description: marketplace.invalidRequest or marketplace.receiverRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.sendMessageError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Send chat message
      tags:
        - marketplace-chat
  "/api/v1/marketplace/messages/{id}/attachments":
    post:
      description: Uploads attachments for a chat message
      parameters:
        - description: Message ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  description: Files to upload
                  type: string
                  format: binary
              required:
                - files
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.ChatAttachment"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidMessageId or marketplace.noFilesUploaded or
            marketplace.tooManyFiles
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.messageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.uploadAttachmentsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload message attachments
      tags:
        - marketplace-chat
  /api/v1/marketplace/messages/read:
    post:
      description: Marks specified messages as read
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.MarkAsReadRequest"
        description: Message IDs to mark as read
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.markAsReadError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Mark messages as read
      tags:
        - marketplace-chat
  /api/v1/marketplace/messages/unread:
    get:
      description: Returns the number of unread messages for the user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.UnreadCountData"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getUnreadCountError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get unread messages count
      tags:
        - marketplace-chat
  /api/v1/marketplace/moderate-image:
    post:
      description: Checks an uploaded image for prohibited content using AI moderation
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Image file to moderate
                  type: string
                  format: binary
              required:
                - file
        required: true
      responses:
        "200":
          description: Moderation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.ImageModerationRe\
                          sponse"
                    type: object
        "400":
          description: marketplace.invalidFile or marketplace.fileTooLarge
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.moderationError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Moderate image content
      tags:
        - marketplace-images
  /api/v1/marketplace/search:
    get:
      description: Performs advanced search with filters, facets, and suggestions
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_search.ServiceParams"
        description: Search parameters
        required: true
      responses:
        "200":
          description: Search results with metadata
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/internal_proj_marketplace_handler.SearchResponse"
        "500":
          description: marketplace.searchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Advanced search for listings
      tags:
        - marketplace-search
  /api/v1/marketplace/suggestions:
    get:
      description: Returns autocomplete suggestions based on prefix
      parameters:
        - description: Search prefix
          in: query
          name: prefix
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          type: string
                        type: array
                    type: object
        "400":
          description: marketplace.prefixRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get search suggestions
      tags:
        - marketplace-search
  "/api/v1/marketplace/translations/{id}":
    get:
      description: Retrieves all translations for a specific listing, optionally
        filtered by language
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Language filter
          in: query
          name: language
          schema:
            type: string
      responses:
        "200":
          description: Translations retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.Translation"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.getTranslationsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get listing translations
      tags:
        - marketplace-translations
    put:
      description: Updates translations for a specific listing with support for
        different providers
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Translation provider (google, openai)
          in: query
          name: translation_provider
          schema:
            type: string
            default: google
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_marketplace_handler.TranslationUpdate\
                Request"
        description: Translation data
        required: true
      responses:
        "200":
          description: Translations updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateTranslationError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update listing translations
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/batch-translate:
    post:
      description: Translates multiple listings to the specified target language using
        the selected provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_marketplace_handler.BatchTranslateReq\
                uest"
        description: Batch translation request
        required: true
      responses:
        "200":
          description: Batch translation started successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.BatchTranslateDat\
                          a"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Batch translate listings
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/detect-language:
    post:
      description: Automatically detects the language of the provided text
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_marketplace_handler.DetectLanguageReq\
                uest"
        description: Text for language detection
        required: true
      responses:
        "200":
          description: Language detected successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.DetectedLanguageD\
                          ata"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.detectLanguageError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Detect text language
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/translate:
    post:
      description: Translates text from source language to target language using
        specified provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_marketplace_handler.TranslateTextRequ\
                est"
        description: Translation request
        required: true
      responses:
        "200":
          description: Text translated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.TranslatedTextDat\
                          a"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: marketplace.translateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Translate text
      tags:
        - marketplace-translations
  /api/v1/notifications:
    get:
      description: Возвращает список уведомлений пользователя с пагинацией
      parameters:
        - description: Количество записей
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Список уведомлений
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.Notification"
                        type: array
                    type: object
        "500":
          description: notifications.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить уведомления
      tags:
        - notifications
  "/api/v1/notifications/{id}/read":
    put:
      description: Отмечает уведомление как прочитанное
      parameters:
        - description: ID уведомления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Уведомление отмечено как прочитанное
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.NotificationMar\
                          kReadResponse"
                    type: object
        "400":
          description: validation.invalidNotificationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: notifications.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Отметить как прочитанное
      tags:
        - notifications
  /api/v1/notifications/email/public:
    post:
      description: Отправляет email сообщение с публичной формы контактов
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Данные формы
        required: true
      responses:
        "200":
          description: Email отправлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.PublicEmailSend\
                          Response"
                    type: object
        "400":
          description: validation.invalidDataFormat или validation.allFieldsRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: email.sendError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Отправить email с формы обратной связи
      tags:
        - notifications
  /api/v1/notifications/settings:
    get:
      description: Возвращает настройки уведомлений пользователя для всех типов
      responses:
        "200":
          description: Настройки уведомлений
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.NotificationSet\
                          tingsResponse"
                    type: object
      security:
        - BearerAuth: []
      summary: Получить настройки уведомлений
      tags:
        - notifications
    put:
      description: Обновляет настройки уведомлений для конкретного типа
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Настройки
        required: true
      responses:
        "200":
          description: Настройки обновлены
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.NotificationSet\
                          tingsUpdateResponse"
                    type: object
        "400":
          description: validation.invalidDataFormat
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: notifications.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить настройки уведомлений
      tags:
        - notifications
  /api/v1/notifications/telegram/connect:
    post:
      description: Связывает аккаунт пользователя с Telegram для получения уведомлений
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Данные для подключения
        required: true
      responses:
        "200":
          description: Telegram подключен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.TelegramConnect\
                          Response"
                    type: object
        "400":
          description: validation.invalidDataFormat
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: telegram.connectionError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Подключить Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/status:
    get:
      description: Проверяет, подключен ли Telegram к аккаунту пользователя
      responses:
        "200":
          description: Статус подключения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.TelegramStatusR\
                          esponse"
                    type: object
        "401":
          description: auth.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Статус подключения Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/token:
    get:
      description: Генерирует токен для связывания аккаунта с Telegram ботом
      responses:
        "200":
          description: Токен для подключения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.TelegramTokenRe\
                          sponse"
                    type: object
        "500":
          description: notifications.tokenGenerateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить токен для Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/webhook:
    post:
      description: Обрабатывает входящие обновления от Telegram бота
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tgbotapi.Update"
        description: Telegram update
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_notifications_handler.TelegramWebhook\
                          Response"
                    type: object
      summary: Telegram webhook
      tags:
        - notifications
  /api/v1/payments/stripe/webhook:
    post:
      description: Processes webhook notifications from Stripe about payment status
      parameters:
        - description: Stripe signature for webhook verification
          in: header
          name: Stripe-Signature
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_payments_handler.StripeWebhookRequest"
        description: Stripe webhook payload
        required: true
      responses:
        "200":
          description: Webhook processed successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_payments_handler.WebhookResponse"
                    type: object
        "400":
          description: payments.webhook.invalid_signature or
            payments.webhook.processing_error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Process payment webhook
      tags:
        - payments
  "/api/v1/public/storefronts/{id}":
    get:
      description: Returns public data of a storefront (no authentication required)
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Public storefront data
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.Storefront"
                    type: object
        "400":
          description: storefront.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "403":
          description: storefront.notActive
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: storefront.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get public storefront
      tags:
        - storefronts
  /api/v1/reviews:
    get:
      description: Returns paginated list of reviews with filters
      parameters:
        - description: Entity type filter
          in: query
          name: entity_type
          schema:
            type: string
        - description: Entity ID filter
          in: query
          name: entity_id
          schema:
            type: integer
        - description: User ID filter
          in: query
          name: user_id
          schema:
            type: integer
        - description: Minimum rating filter
          in: query
          name: min_rating
          schema:
            type: integer
        - description: Maximum rating filter
          in: query
          name: max_rating
          schema:
            type: integer
        - description: Status filter
          in: query
          name: status
          schema:
            type: string
            default: published
        - description: Sort by field
          in: query
          name: sort_by
          schema:
            type: string
            default: date
        - description: Sort order
          in: query
          name: sort_order
          schema:
            type: string
            default: desc
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: List of reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewsListResponse"
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get reviews list
      tags:
        - reviews
    post:
      description: Creates a new review for a listing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.CreateReviewRequest"
        description: Review data
        required: true
      responses:
        "200":
          description: Created review
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.Review"
                    type: object
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Listing not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create a new review
      tags:
        - reviews
  "/api/v1/reviews/{id}":
    delete:
      description: Deletes a review by its author
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Review deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid review ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete review
      tags:
        - reviews
    get:
      description: Returns a single review by its ID
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Review details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.Review"
                    type: object
        "400":
          description: Invalid review ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get review by ID
      tags:
        - reviews
    put:
      description: Updates an existing review by its author
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.Review"
        description: Updated review data
        required: true
      responses:
        "200":
          description: Review updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update review
      tags:
        - reviews
  "/api/v1/reviews/{id}/photos":
    post:
      description: Uploads photos for an existing review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                photos:
                  description: Photos to upload (max 10)
                  type: string
                  format: binary
              required:
                - photos
        required: true
      responses:
        "200":
          description: Photos uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.PhotosResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload review photos
      tags:
        - reviews
  "/api/v1/reviews/{id}/response":
    post:
      description: Adds a response from the listing owner to a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_reviews_handler.ResponseRequest"
        description: Response data
        required: true
      responses:
        "200":
          description: Response added successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add response to review
      tags:
        - reviews
  "/api/v1/reviews/{id}/vote":
    post:
      description: Adds a helpful or unhelpful vote to a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_reviews_handler.VoteRequest"
        description: Vote data
        required: true
      responses:
        "200":
          description: Vote recorded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Vote for a review
      tags:
        - reviews
  "/api/v1/reviews/rating/{type}/{id}":
    get:
      description: Returns average rating for a specific entity
      parameters:
        - description: Entity type
          in: path
          name: type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Entity rating
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.RatingResponse"
                    type: object
        "400":
          description: Invalid entity ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get entity rating
      tags:
        - reviews
  /api/v1/reviews/stats:
    get:
      description: Returns review statistics for a specific entity
      parameters:
        - description: Entity type
          in: query
          name: entity_type
          schema:
            type: string
        - description: Entity ID
          in: query
          name: entity_id
          schema:
            type: integer
      responses:
        "200":
          description: Review statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ReviewStats"
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get review statistics
      tags:
        - reviews
  "/api/v1/reviews/stats/{type}/{id}":
    get:
      description: Returns detailed review statistics for a specific entity
      parameters:
        - description: Entity type
          in: path
          name: type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Entity review statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.ReviewStats"
                    type: object
        "400":
          description: Invalid entity ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get entity review statistics
      tags:
        - reviews
  "/api/v1/reviews/storefront/{id}":
    get:
      description: Returns all reviews for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewsListResponse"
                    type: object
        "400":
          description: Invalid storefront ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get storefront reviews
      tags:
        - reviews
  "/api/v1/reviews/storefront/{id}/rating":
    get:
      description: Returns rating summary for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront rating summary
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.StorefrontRatingSumm\
                          ary"
                    type: object
        "400":
          description: Invalid storefront ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get storefront rating summary
      tags:
        - reviews
  "/api/v1/reviews/user/{id}":
    get:
      description: Returns all reviews received by a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewsListResponse"
                    type: object
        "400":
          description: Invalid user ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get user reviews
      tags:
        - reviews
  "/api/v1/reviews/user/{id}/rating":
    get:
      description: Returns rating summary for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User rating summary
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserRatingSummary"
                    type: object
        "400":
          description: Invalid user ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Get user rating summary
      tags:
        - reviews
  /api/v1/storefronts:
    get:
      description: Returns all storefronts owned by the authenticated user
      responses:
        "200":
          description: List of user storefronts
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.Storefront"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user storefronts
      tags:
        - storefronts
    post:
      description: Creates a new storefront for the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.StorefrontCreate"
        description: Storefront data
        required: true
      responses:
        "200":
          description: Storefront created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.Storefront"
                    type: object
        "400":
          description: storefront.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "402":
          description: storefront.insufficientFunds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.createError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create new storefront
      tags:
        - storefronts
  "/api/v1/storefronts/{id}":
    delete:
      description: Deletes a storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Delete successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.MessageResponse"
                    type: object
        "400":
          description: storefront.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete storefront
      tags:
        - storefronts
    get:
      description: Returns a specific storefront by ID
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.Storefront"
                    type: object
        "400":
          description: storefront.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get storefront by ID
      tags:
        - storefronts
    put:
      description: Updates storefront information
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.Storefront"
        description: Updated storefront data
        required: true
      responses:
        "200":
          description: Update successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_storefront_handler.MessageResponse"
                    type: object
        "400":
          description: storefront.invalidId,storefront.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: storefront.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update storefront
      tags:
        - storefronts
  "/api/v1/storefronts/{id}/import-sources":
    get:
      description: Returns all import sources for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of import sources
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_domain_models.ImportSource"
                        type: array
                    type: object
        "400":
          description: storefront.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: importSource.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get import sources for storefront
      tags:
        - import-sources
  /api/v1/translation/limits:
    get:
      description: Returns current usage limits and statistics for the translation service
      responses:
        "200":
          description: Translation limits retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.TranslationLimits\
                          Data"
                    type: object
      summary: Get translation limits
      tags:
        - marketplace-translations
  /api/v1/translation/provider:
    post:
      description: Sets the default translation provider for the user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_marketplace_handler.SetProviderReques\
                t"
        description: Provider configuration (google, openai)
        required: true
      responses:
        "200":
          description: Translation provider set successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_marketplace_handler.SetProviderRespon\
                          se"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Set translation provider
      tags:
        - marketplace-translations
  "/api/v1/users/{id}/profile":
    get:
      description: Returns public information about user by ID
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Public user profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.PublicUserResponse"
                    type: object
        "400":
          description: users.profile.error.invalid_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: users.profile.error.not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get public user profile
      tags:
        - users
  "/api/v1/users/admin-check/{email}":
    get:
      description: Checks if user with specified email is administrator (simplified
        check by ID)
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.AdminCheckResponse"
                    type: object
        "400":
          description: users.admin_check.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "404":
          description: users.admin_check.error.user_not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check admin status (simple)
      tags:
        - users
  /api/v1/users/login:
    post:
      deprecated: true
      description: "Authenticates user by email and password, creates session and sets
        session cookie. DEPRECATED: Use /api/v1/auth/login instead"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_users_handler.LoginRequest"
        description: Login credentials (email and password required)
        required: true
      responses:
        "200":
          description: Authentication successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.LoginResponse"
                    type: object
        "400":
          description: users.login.error.invalid_data or validation errors
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: users.login.error.invalid_credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Login user (deprecated)
      tags:
        - users
  /api/v1/users/me:
    get:
      description: Returns full profile of the authenticated user
      responses:
        "200":
          description: User profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_domain_models.UserProfile"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: users.profile.error.fetch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get current user profile
      tags:
        - users
    put:
      description: Updates profile of the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.UserProfileUpdate"
        description: Profile update data
        required: true
      responses:
        "200":
          description: Profile updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.MessageResponse"
                    type: object
        "400":
          description: users.profile.error.invalid_data or users.profile.error.validation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: users.profile.error.update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user profile
      tags:
        - users
  /api/v1/users/register:
    post:
      deprecated: true
      description: "Creates new user in the system. DEPRECATED: Use
        /api/v1/auth/register instead"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/internal_proj_users_handler.RegisterRequest"
        description: Registration data (name, email, password required, phone optional)
        required: true
      responses:
        "201":
          description: User created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.RegisterResponse"
                    type: object
        "400":
          description: users.register.error.invalid_data or validation errors
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
        "500":
          description: users.register.error.password_hash_failed or
            users.register.error.create_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Register user (deprecated)
      tags:
        - users
  /auth/google:
    get:
      description: Redirects user to Google OAuth2 authorization page
      parameters:
        - description: URL to return after authentication
          in: query
          name: returnTo
          schema:
            type: string
      responses:
        "302":
          description: Redirect to Google OAuth
          content:
            application/json:
              schema:
                type: string
      summary: Initiate Google OAuth authentication
      tags:
        - auth
  /auth/google/callback:
    get:
      description: Processes the OAuth2 callback from Google and creates user session
      parameters:
        - description: Authorization code from Google
          in: query
          name: code
          required: true
          schema:
            type: string
      responses:
        "302":
          description: Redirect to frontend with session
          content:
            application/json:
              schema:
                type: string
        "500":
          description: auth.google_callback.error.authentication_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/backend_pkg_utils.ErrorResponseSwag"
      summary: Handle Google OAuth callback
      tags:
        - auth
  /auth/session:
    get:
      description: Returns information about the currently authenticated user
      responses:
        "200":
          description: Session information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/backend_pkg_utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/internal_proj_users_handler.SessionResponse"
                    type: object
      security:
        - BearerAuth: []
      summary: Get current session
      tags:
        - auth
servers:
  - url: //localhost:3000/api/v1
components:
  requestBodies:
    backend_internal_domain_models.CategoryAttribute:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
      description: Attribute data
      required: true
  securitySchemes:
    Bearer:
      description: Bearer token для авторизации
      in: header
      name: Authorization
      type: apiKey
  schemas:
    backend_internal_domain_models.AddContactRequest:
      properties:
        added_from_chat_id:
          type: integer
        contact_user_id:
          type: integer
        notes:
          type: string
      required:
        - contact_user_id
      type: object
    backend_internal_domain_models.AddItemToGroupRequest:
      properties:
        attribute_id:
          type: integer
        custom_display_name:
          type: string
        icon:
          type: string
        sort_order:
          type: integer
        visibility_condition:
          items:
            type: integer
          type: array
      required:
        - attribute_id
      type: object
    backend_internal_domain_models.AdminUser:
      properties:
        created_at:
          type: string
        created_by:
          type: integer
        email:
          type: string
        id:
          type: integer
        notes:
          type: string
      type: object
    backend_internal_domain_models.AttachGroupToCategoryRequest:
      properties:
        collapsed_by_default:
          type: boolean
        component_id:
          type: integer
        configuration:
          items:
            type: integer
          type: array
        display_mode:
          type: string
        group_id:
          type: integer
        is_active:
          type: boolean
        sort_order:
          type: integer
      required:
        - group_id
      type: object
    backend_internal_domain_models.AttributeGroup:
      properties:
        created_at:
          type: string
        description:
          type: string
        display_name:
          type: string
        icon:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        is_system:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    backend_internal_domain_models.AttributeGroupItem:
      properties:
        attribute:
          $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
        attribute_id:
          type: integer
        created_at:
          type: string
        custom_display_name:
          type: string
        group_id:
          type: integer
        icon:
          type: string
        id:
          type: integer
        sort_order:
          type: integer
        visibility_condition:
          items:
            type: integer
          type: array
      type: object
    backend_internal_domain_models.BalanceTransaction:
      properties:
        amount:
          type: number
        completed_at:
          type: string
        created_at:
          type: string
        currency:
          type: string
        description:
          type: string
        id:
          type: integer
        payment_details:
          items:
            type: integer
          type: array
        payment_method:
          type: string
        status:
          type: string
        type:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.CategoryAttribute:
      properties:
        attribute_type:
          type: string
        created_at:
          type: string
        custom_component:
          type: string
        display_name:
          type: string
        icon:
          type: string
        id:
          type: integer
        is_filterable:
          type: boolean
        is_required:
          type: boolean
        is_searchable:
          type: boolean
        name:
          type: string
        option_translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        options:
          items:
            type: integer
          type: array
        sort_order:
          type: integer
        translations:
          additionalProperties:
            type: string
          type: object
        validation_rules:
          items:
            type: integer
          type: array
      type: object
    backend_internal_domain_models.CategoryAttributeMapping:
      properties:
        attribute:
          $ref: "#/components/schemas/backend_internal_domain_models.CategoryAttribute"
        attribute_id:
          type: integer
        category_id:
          type: integer
        custom_component:
          type: string
        is_enabled:
          type: boolean
        is_required:
          type: boolean
        sort_order:
          type: integer
      type: object
    backend_internal_domain_models.CategorySuggestion:
      properties:
        id:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
      type: object
    backend_internal_domain_models.CategoryTreeNode:
      properties:
        children:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.CategoryTreeNode"
          type: array
        children_count:
          description: Новое поле
          type: integer
        created_at:
          type: string
        custom_ui_component:
          type: string
        has_custom_ui:
          type: boolean
        icon:
          type: string
        id:
          type: integer
        level:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
        parent_id:
          type: integer
        path:
          type: string
        slug:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    backend_internal_domain_models.ChatAttachment:
      properties:
        content_type:
          description: MIME тип
          type: string
        created_at:
          type: string
        file_name:
          description: Оригинальное имя файла
          type: string
        file_path:
          description: Путь к файлу в хранилище
          type: string
        file_size:
          description: Размер в байтах
          type: integer
        file_type:
          description: image, video, document
          type: string
        id:
          type: integer
        message_id:
          type: integer
        metadata:
          additionalProperties: true
          description: Дополнительные метаданные
          type: object
        public_url:
          description: Публичный URL для доступа
          type: string
        storage_bucket:
          description: chat-files
          type: string
        storage_type:
          description: minio
          type: string
        thumbnail_url:
          description: URL превью для видео
          type: string
      type: object
    backend_internal_domain_models.ComponentTemplate:
      properties:
        category_id:
          type: integer
        component_id:
          type: integer
        created_at:
          type: string
        created_by:
          type: integer
        description:
          type: string
        id:
          type: integer
        name:
          type: string
        preview_image:
          type: string
        template_config:
          items:
            type: integer
          type: array
      type: object
    backend_internal_domain_models.ContactsListResponse:
      properties:
        contacts:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.UserContact"
          type: array
        limit:
          type: integer
        page:
          type: integer
        total:
          type: integer
      type: object
    backend_internal_domain_models.CreateComponentUsageRequest:
      properties:
        category_id:
          type: integer
        component_id:
          type: integer
        conditions_logic:
          items:
            type: integer
          type: array
        configuration:
          items:
            type: integer
          type: array
        is_active:
          type: boolean
        placement:
          type: string
        priority:
          type: integer
        usage_context:
          type: string
      required:
        - component_id
        - usage_context
      type: object
    backend_internal_domain_models.CreateCustomComponentRequest:
      properties:
        component_type:
          enum:
            - category
            - attribute
            - filter
          type: string
        description:
          type: string
        is_active:
          type: boolean
        name:
          maxLength: 255
          minLength: 1
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
      required:
        - component_type
        - name
        - template_code
      type: object
    backend_internal_domain_models.CreateMessageRequest:
      properties:
        chat_id:
          type: integer
        content:
          type: string
        listing_id:
          type: integer
        receiver_id:
          type: integer
      required:
        - content
        - receiver_id
      type: object
    backend_internal_domain_models.CreateReviewRequest:
      properties:
        comment:
          type: string
        cons:
          type: string
        entity_id:
          type: integer
        entity_type:
          enum:
            - listing
            - room
            - car
          type: string
        original_language:
          type: string
        photos:
          items:
            type: string
          type: array
        pros:
          type: string
        rating:
          maximum: 5
          minimum: 1
          type: integer
        storefront_id:
          type: integer
      required:
        - entity_id
        - entity_type
        - original_language
        - rating
      type: object
    backend_internal_domain_models.CreateTemplateRequest:
      properties:
        component_id:
          type: integer
        description:
          type: string
        name:
          type: string
        variables:
          items:
            type: integer
          type: array
      required:
        - component_id
        - name
      type: object
    backend_internal_domain_models.CustomUIComponent:
      properties:
        component_type:
          example: category
          type: string
        created_at:
          type: string
        created_by:
          type: integer
        description:
          example: Компонент для отображения автомобильных категорий
          type: string
        id:
          example: 1
          type: integer
        is_active:
          example: true
          type: boolean
        name:
          example: Auto Category Component
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
        updated_at:
          type: string
        updated_by:
          type: integer
      type: object
    backend_internal_domain_models.CustomUIComponentUsage:
      properties:
        category_id:
          type: integer
        category_name:
          type: string
        component:
          $ref: "#/components/schemas/backend_internal_domain_models.CustomUIComponent"
        component_id:
          type: integer
        component_name:
          type: string
        conditions_logic:
          items:
            type: integer
          type: array
        configuration:
          items:
            type: integer
          type: array
        created_at:
          type: string
        created_by:
          type: integer
        id:
          type: integer
        is_active:
          type: boolean
        placement:
          type: string
        priority:
          type: integer
        updated_at:
          type: string
        updated_by:
          type: integer
        usage_context:
          type: string
      type: object
    backend_internal_domain_models.GeoLocation:
      properties:
        city:
          type: string
        country:
          type: string
        lat:
          type: number
        lon:
          type: number
      type: object
    backend_internal_domain_models.ImportHistory:
      properties:
        finished_at:
          type: string
        id:
          type: integer
        items_failed:
          type: integer
        items_imported:
          type: integer
        items_total:
          type: integer
        items_updated:
          type: integer
        log:
          type: string
        source_id:
          type: integer
        started_at:
          type: string
        status:
          description: success, failed, partial
          type: string
      type: object
    backend_internal_domain_models.ImportSource:
      properties:
        auth_data:
          items:
            type: integer
          type: array
        created_at:
          type: string
        id:
          type: integer
        last_import_at:
          type: string
        last_import_log:
          description: Изменяем на обычную строку, но обрабатываем NULL при сканировании
          type: string
        last_import_status:
          description: Изменяем на обычную строку, но обрабатываем NULL при сканировании
          type: string
        mapping:
          items:
            type: integer
          type: array
        schedule:
          type: string
        storefront_id:
          type: integer
        type:
          description: csv, xml, json
          type: string
        updated_at:
          type: string
        url:
          type: string
      type: object
    backend_internal_domain_models.ImportSourceCreate:
      properties:
        auth_data:
          items:
            type: integer
          type: array
        mapping:
          items:
            type: integer
          type: array
        schedule:
          type: string
        storefront_id:
          type: integer
        type:
          enum:
            - csv
            - xml
            - json
          type: string
        url:
          type: string
      required:
        - storefront_id
        - type
      type: object
    backend_internal_domain_models.ListingAttributeValue:
      properties:
        attribute_id:
          type: integer
        attribute_name:
          type: string
        attribute_type:
          type: string
        boolean_value:
          type: boolean
        display_name:
          type: string
        display_value:
          description: Вспомогательное поле для вывода значения любого типа в строковом виде
          type: string
        json_value:
          items:
            type: integer
          type: array
        listing_id:
          type: integer
        numeric_value:
          type: number
        option_translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        text_value:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
        unit:
          description: Добавляем поле для единиц измерения
          type: string
      type: object
    backend_internal_domain_models.MapMarker:
      properties:
        category_id:
          type: integer
        city:
          type: string
        condition:
          type: string
        country:
          type: string
        created_at:
          type: string
        id:
          type: integer
        is_favorite:
          type: boolean
        latitude:
          type: number
        longitude:
          type: number
        main_image:
          type: string
        price:
          type: number
        title:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.MarkAsReadRequest:
      properties:
        message_ids:
          items:
            type: integer
          type: array
      required:
        - message_ids
      type: object
    backend_internal_domain_models.MarketplaceCategory:
      properties:
        count:
          type: integer
        created_at:
          type: string
        custom_ui_component:
          type: string
        external_id:
          type: string
        has_custom_ui:
          type: boolean
        icon:
          type: string
        id:
          type: integer
        level:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
        parent_id:
          type: integer
        slug:
          type: string
        sort_order:
          type: integer
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    backend_internal_domain_models.MarketplaceChat:
      properties:
        buyer:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.User"
          description: Дополнительные поля для отображения
        buyer_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        is_archived:
          type: boolean
        last_message:
          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceMessage"
        last_message_at:
          type: string
        listing:
          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
        listing_id:
          type: integer
        other_user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        seller:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        seller_id:
          type: integer
        unread_count:
          type: integer
        updated_at:
          type: string
      type: object
    backend_internal_domain_models.MarketplaceImage:
      properties:
        content_type:
          description: MIME-тип файла
          type: string
        created_at:
          type: string
        file_name:
          description: Оригинальное имя файла
          type: string
        file_path:
          description: Путь к файлу в хранилище
          type: string
        file_size:
          description: Размер файла в байтах
          type: integer
        id:
          type: integer
        is_main:
          description: Является ли изображение основным
          type: boolean
        listing_id:
          type: integer
        public_url:
          description: Публичный URL для доступа к файлу
          type: string
        storage_bucket:
          description: Имя бакета для MinIO
          type: string
        storage_type:
          description: 'Тип хранилища: "local" или "minio"'
          type: string
      type: object
    backend_internal_domain_models.MarketplaceListing:
      properties:
        attributes:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.ListingAttributeValu\
              e"
          type: array
        average_rating:
          type: number
        category:
          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceCategory"
        category_id:
          type: integer
        category_path:
          items:
            type: string
          type: array
        category_path_ids:
          items:
            type: integer
          type: array
        category_path_names:
          items:
            type: string
          type: array
        category_path_slugs:
          items:
            type: string
          type: array
        city:
          type: string
        condition:
          type: string
        country:
          type: string
        created_at:
          type: string
        description:
          type: string
        external_id:
          type: string
        has_discount:
          type: boolean
        helpful_votes:
          type: integer
        id:
          type: integer
        images:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceImage"
          type: array
        is_favorite:
          type: boolean
        latitude:
          type: number
        location:
          type: string
        longitude:
          type: number
        metadata:
          additionalProperties: true
          description: Для хранения дополнительной информации, включая данные о скидке
          type: object
        not_helpful_votes:
          type: integer
        old_price:
          type: number
        original_language:
          type: string
        price:
          type: number
        review_count:
          type: integer
        show_on_map:
          type: boolean
        status:
          type: string
        storefront_id:
          description: связь с витриной
          type: integer
        title:
          type: string
        translations:
          $ref: "#/components/schemas/backend_internal_domain_models.TranslationMap"
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        user_id:
          type: integer
        views_count:
          type: integer
      type: object
    backend_internal_domain_models.MarketplaceMessage:
      properties:
        attachments:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.ChatAttachment"
          type: array
        attachments_count:
          type: integer
        chat_id:
          type: integer
        content:
          type: string
        created_at:
          type: string
        has_attachments:
          description: Поля для поддержки вложений
          type: boolean
        id:
          type: integer
        is_read:
          type: boolean
        listing:
          $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
        listing_id:
          type: integer
        original_language:
          description: Добавляем поля для мультиязычности
          type: string
        receiver:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        receiver_id:
          type: integer
        sender:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.User"
          description: Дополнительные поля для отображения
        sender_id:
          type: integer
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        updated_at:
          type: string
      type: object
    backend_internal_domain_models.Notification:
      properties:
        created_at:
          type: string
        data:
          items:
            type: integer
          type: array
        delivered_to:
          items:
            type: integer
          type: array
        id:
          type: integer
        is_read:
          type: boolean
        listing_id:
          type: integer
        message:
          type: string
        title:
          type: string
        type:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.NotificationSettings:
      properties:
        created_at:
          type: string
        email_enabled:
          description: Добавляем поле для email
          type: boolean
        notification_type:
          type: string
        telegram_enabled:
          type: boolean
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.PaymentMethod:
      properties:
        code:
          type: string
        created_at:
          type: string
        credentials:
          items:
            type: integer
          type: array
        fee_percentage:
          type: number
        fixed_fee:
          type: number
        id:
          type: integer
        is_active:
          type: boolean
        maximum_amount:
          type: number
        minimum_amount:
          type: number
        name:
          type: string
        type:
          type: string
      type: object
    backend_internal_domain_models.PaymentSession:
      properties:
        amount:
          type: number
        completed_at:
          type: string
        created_at:
          type: string
        currency:
          type: string
        expires_at:
          type: string
        external_id:
          type: string
        id:
          type: integer
        payment_method:
          type: string
        payment_url:
          type: string
        status:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.PriceHistoryEntry:
      properties:
        change_percentage:
          type: number
        change_source:
          description: manual, import, system, etc.
          type: string
        created_at:
          type: string
        effective_from:
          type: string
        effective_to:
          type: string
        id:
          type: integer
        listing_id:
          type: integer
        price:
          type: number
      type: object
    backend_internal_domain_models.Review:
      properties:
        comment:
          type: string
        cons:
          type: string
        created_at:
          type: string
        current_user_vote:
          type: string
        entity_id:
          type: integer
        entity_origin_id:
          description: ID оригинального объекта
          type: integer
        entity_origin_type:
          description: тип оригинального объекта (user, storefront)
          type: string
        entity_type:
          type: string
        helpful_votes:
          type: integer
        id:
          type: integer
        is_verified_purchase:
          type: boolean
        likes_count:
          type: integer
        not_helpful_votes:
          type: integer
        original_language:
          description: поля для мультиязычности
          type: string
        photos:
          items:
            type: string
          type: array
        pros:
          type: string
        rating:
          type: integer
        responses:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.ReviewResponse"
          type: array
        status:
          type: string
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        updated_at:
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.User"
          description: Дополнительные поля для отображения
        user_id:
          type: integer
        votes_count:
          properties:
            helpful:
              type: integer
            not_helpful:
              type: integer
          type: object
      type: object
    backend_internal_domain_models.ReviewResponse:
      properties:
        created_at:
          type: string
        id:
          type: integer
        response:
          type: string
        review_id:
          type: integer
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.ReviewStats:
      properties:
        average_rating:
          type: number
        photo_reviews:
          description: Количество отзывов с фото
          type: integer
        rating_distribution:
          additionalProperties:
            type: integer
          description: "Распределение оценок: {1: 10, 2: 20, ...}"
          type: object
        total_reviews:
          type: integer
        verified_reviews:
          type: integer
      type: object
    backend_internal_domain_models.Storefront:
      properties:
        address:
          type: string
        city:
          type: string
        country:
          type: string
        created_at:
          type: string
        creation_transaction_id:
          type: integer
        description:
          type: string
        email:
          type: string
        id:
          type: integer
        latitude:
          type: number
        logo_path:
          type: string
        longitude:
          type: number
        name:
          type: string
        phone:
          type: string
        slug:
          type: string
        status:
          description: active, inactive, suspended
          type: string
        updated_at:
          type: string
        user_id:
          type: integer
        website:
          type: string
      type: object
    backend_internal_domain_models.StorefrontCreate:
      properties:
        address:
          type: string
        city:
          type: string
        country:
          type: string
        description:
          type: string
        email:
          type: string
        latitude:
          type: number
        longitude:
          type: number
        name:
          type: string
        phone:
          type: string
        website:
          type: string
      required:
        - name
      type: object
    backend_internal_domain_models.StorefrontRatingSummary:
      properties:
        average_rating:
          type: number
        name:
          type: string
        rating_1:
          type: integer
        rating_2:
          type: integer
        rating_3:
          type: integer
        rating_4:
          type: integer
        rating_5:
          type: integer
        storefront_id:
          type: integer
        total_reviews:
          type: integer
      type: object
    backend_internal_domain_models.Translation:
      properties:
        created_at:
          type: string
        entity_id:
          type: integer
        entity_type:
          type: string
        field_name:
          type: string
        id:
          type: integer
        is_machine_translated:
          type: boolean
        is_verified:
          type: boolean
        language:
          type: string
        metadata:
          additionalProperties: true
          type: object
        translated_text:
          type: string
        updated_at:
          type: string
      type: object
    backend_internal_domain_models.TranslationMap:
      additionalProperties:
        additionalProperties:
          type: string
        type: object
      type: object
    backend_internal_domain_models.UpdateAttributeGroupRequest:
      properties:
        description:
          type: string
        display_name:
          type: string
        icon:
          type: string
        is_active:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
      type: object
    backend_internal_domain_models.UpdateContactRequest:
      properties:
        notes:
          type: string
        status:
          enum:
            - accepted
            - blocked
          type: string
      required:
        - status
      type: object
    backend_internal_domain_models.UpdateCustomComponentRequest:
      properties:
        component_type:
          type: string
        description:
          type: string
        is_active:
          type: boolean
        name:
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
      type: object
    backend_internal_domain_models.UpdatePrivacySettingsRequest:
      properties:
        allow_contact_requests:
          type: boolean
        allow_messages_from_contacts_only:
          type: boolean
      type: object
    backend_internal_domain_models.User:
      properties:
        created_at:
          type: string
        email:
          type: string
        google_id:
          type: string
        id:
          type: integer
        name:
          type: string
        phone:
          type: string
        picture_url:
          type: string
        provider:
          type: string
      type: object
    backend_internal_domain_models.UserBalance:
      properties:
        balance:
          type: number
        currency:
          type: string
        frozen_balance:
          type: number
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.UserContact:
      properties:
        added_from_chat_id:
          description: Дополнительные поля
          type: integer
        contact_user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
        contact_user_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        notes:
          type: string
        status:
          description: pending, accepted, blocked
          type: string
        updated_at:
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.User"
          description: Связанные объекты
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.UserPrivacySettings:
      properties:
        allow_contact_requests:
          type: boolean
        allow_messages_from_contacts_only:
          type: boolean
        created_at:
          type: string
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    backend_internal_domain_models.UserProfile:
      properties:
        account_status:
          type: string
        bio:
          type: string
        city:
          description: Теперь используем обычные строки, а не указатели
          type: string
        country:
          type: string
        created_at:
          type: string
        email:
          type: string
        google_id:
          type: string
        id:
          type: integer
        is_admin:
          description: Флаг администратора
          type: boolean
        last_seen:
          type: string
        name:
          type: string
        notification_email:
          type: boolean
        phone:
          type: string
        picture_url:
          type: string
        provider:
          type: string
        settings:
          items:
            type: integer
          type: array
        timezone:
          type: string
      type: object
    backend_internal_domain_models.UserProfileUpdate:
      properties:
        bio:
          type: string
        city:
          description: Указатель правильный для обновлений
          type: string
        country:
          type: string
        notification_email:
          type: boolean
        phone:
          type: string
        settings:
          items:
            type: integer
          type: array
        timezone:
          type: string
      type: object
    backend_internal_domain_models.UserRatingSummary:
      properties:
        average_rating:
          type: number
        name:
          type: string
        rating_1:
          type: integer
        rating_2:
          type: integer
        rating_3:
          type: integer
        rating_4:
          type: integer
        rating_5:
          type: integer
        total_reviews:
          type: integer
        user_id:
          type: integer
      type: object
    backend_internal_domain_search.Bucket:
      properties:
        count:
          description: Количество документов
          type: integer
        key:
          description: Ключ бакета
          type: string
      type: object
    backend_internal_domain_search.ServiceParams:
      properties:
        aggregations:
          description: Запрашиваемые агрегации
          items:
            type: string
          type: array
        attributeFilters:
          additionalProperties:
            type: string
          description: поле для фильтров атрибутов
          type: object
        categoryID:
          description: ID категории
          type: string
        city:
          description: Город
          type: string
        condition:
          description: Состояние (новое, б/у)
          type: string
        country:
          description: Страна
          type: string
        distance:
          description: Радиус поиска
          type: string
        fuzziness:
          description: Уровень нечеткости (AUTO, 1, 2, ...)
          type: string
        language:
          description: Язык для поиска
          type: string
        latitude:
          description: Широта для геопоиска
          type: number
        longitude:
          description: Долгота для геопоиска
          type: number
        minimumShouldMatch:
          description: Минимальное количество совпадений (70%, 50% и т.д.)
          type: string
        page:
          description: Номер страницы
          type: integer
        priceMax:
          description: Максимальная цена
          type: number
        priceMin:
          description: Минимальная цена
          type: number
        query:
          description: Текстовый запрос
          type: string
        size:
          description: Размер страницы
          type: integer
        sort:
          description: Поле сортировки
          type: string
        sortDirection:
          description: Направление сортировки (asc, desc)
          type: string
        status:
          type: string
        storefrontID:
          description: ID витрины
          type: string
      type: object
    backend_pkg_utils.ErrorResponseSwag:
      properties:
        error:
          example: Описание ошибки
          type: string
      type: object
    backend_pkg_utils.SuccessResponseSwag:
      properties:
        data: {}
        success:
          example: true
          type: boolean
      type: object
    internal_proj_balance_handler.DepositRequest:
      properties:
        amount:
          example: 1000.5
          type: number
        payment_method:
          example: card
          type: string
      type: object
    internal_proj_contacts_handler.ContactRemoveResponse:
      description: Ответ при удалении контакта из списка
      properties:
        message:
          description: Сообщение об успешном удалении
          example: contacts.removed
          type: string
      type: object
    internal_proj_contacts_handler.ContactStatusCheckResponse:
      description: Информация о статусе связи между пользователями
      properties:
        are_contacts:
          description: Являются ли пользователи контактами
          example: true
          type: boolean
        contact_id:
          description: ID проверяемого контакта
          example: 456
          type: integer
        user_id:
          description: ID текущего пользователя
          example: 123
          type: integer
      type: object
    internal_proj_contacts_handler.ContactStatusUpdateResponse:
      description: Ответ при изменении статуса контакта
      properties:
        message:
          description: Сообщение об успешном обновлении
          example: contacts.statusUpdated
          type: string
      type: object
    internal_proj_docserver_handler.DocContentResponse:
      properties:
        content:
          example: |-
            # Documentation

            This is the content of the markdown file.
          type: string
        path:
          example: docs/README.md
          type: string
      type: object
    internal_proj_docserver_handler.DocFile:
      properties:
        children:
          items:
            $ref: "#/components/schemas/internal_proj_docserver_handler.DocFile"
          type: array
        name:
          example: README.md
          type: string
        path:
          example: docs/README.md
          type: string
        type:
          enum:
            - file
            - directory
          example: file
          type: string
      type: object
    internal_proj_docserver_handler.DocFilesResponse:
      properties:
        files:
          items:
            $ref: "#/components/schemas/internal_proj_docserver_handler.DocFile"
          type: array
        rootPath:
          example: ./docs
          type: string
      type: object
    internal_proj_marketplace_handler.AttributeCreateResponse:
      properties:
        id:
          example: 123
          type: integer
        message:
          example: marketplace.attributeCreated
          type: string
      type: object
    internal_proj_marketplace_handler.AttributeGroupResponse:
      properties:
        group:
          $ref: "#/components/schemas/backend_internal_domain_models.AttributeGroup"
      type: object
    internal_proj_marketplace_handler.AttributeGroupWithItemsData:
      properties:
        group:
          $ref: "#/components/schemas/backend_internal_domain_models.AttributeGroup"
        items:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.AttributeGroupItem"
          type: array
      type: object
    internal_proj_marketplace_handler.AttributeGroupsResponse:
      properties:
        groups:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.AttributeGroup"
          type: array
      type: object
    internal_proj_marketplace_handler.AttributeRange:
      properties:
        max:
          example: 1000000
          type: number
        min:
          example: 0
          type: number
      type: object
    internal_proj_marketplace_handler.AttributeRangesResponse:
      properties:
        data:
          additionalProperties:
            $ref: "#/components/schemas/internal_proj_marketplace_handler.AttributeRange"
          type: object
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.BatchTranslateData:
      properties:
        listing_count:
          example: 3
          type: integer
        provider:
          example: google
          type: string
        target_lang:
          example: en
          type: string
      type: object
    internal_proj_marketplace_handler.BatchTranslateRequest:
      type: object
    internal_proj_marketplace_handler.BulkUpdateResult:
      properties:
        errors:
          items:
            type: string
          type: array
        success_count:
          example: 5
          type: integer
        total_count:
          example: 10
          type: integer
      type: object
    internal_proj_marketplace_handler.CategorySummary:
      properties:
        id:
          example: 10
          type: integer
        name:
          example: Smartphones
          type: string
        slug:
          example: smartphones
          type: string
      type: object
    internal_proj_marketplace_handler.ChatMessagesResponse:
      properties:
        limit:
          type: integer
        messages:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceMessage"
          type: array
        page:
          type: integer
        total:
          type: integer
      type: object
    internal_proj_marketplace_handler.Coordinates:
      properties:
        lat:
          example: 55.7558
          type: number
        lng:
          example: 37.6173
          type: number
      type: object
    internal_proj_marketplace_handler.DetectLanguageRequest:
      properties:
        text:
          example: Hello world
          type: string
      type: object
    internal_proj_marketplace_handler.DetectedLanguageData:
      properties:
        confidence:
          example: 0.99
          type: number
        language:
          example: en
          type: string
      type: object
    internal_proj_marketplace_handler.EnhanceImagesData:
      properties:
        job_id:
          example: enhance_123_1234567890
          type: string
        message:
          example: marketplace.imageEnhancementStarted
          type: string
      type: object
    internal_proj_marketplace_handler.EnhanceImagesResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.EnhanceImagesData"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.EnhancePreviewData:
      properties:
        preview_url:
          example: https://example.com/preview/123/quality
          type: string
      type: object
    internal_proj_marketplace_handler.EnhancePreviewResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.EnhancePreviewDat\
            a"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.FavoriteStatusData:
      properties:
        is_in_favorites:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.FavoritesCountData:
      properties:
        count:
          example: 5
          type: integer
      type: object
    internal_proj_marketplace_handler.IDMessageResponse:
      properties:
        id:
          example: 123
          type: integer
        message:
          example: marketplace.created
          type: string
      type: object
    internal_proj_marketplace_handler.ImageModerationResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.ModerationData"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.ImagesUploadResponse:
      properties:
        count:
          example: 3
          type: integer
        images:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceImage"
          type: array
        message:
          example: marketplace.imagesUploaded
          type: string
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.ImportAttributesResult:
      properties:
        errors:
          items:
            type: string
          type: array
        success_count:
          example: 5
          type: integer
        total_count:
          example: 10
          type: integer
      type: object
    internal_proj_marketplace_handler.ListingsResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
          type: array
        meta:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.PaginationMeta"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.MapBounds:
      properties:
        ne:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.Coordinates"
        sw:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.Coordinates"
      type: object
    internal_proj_marketplace_handler.MapBoundsData:
      properties:
        bounds:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.MapBounds"
        count:
          example: 25
          type: integer
        listings:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MapMarker"
          type: array
        zoom:
          example: 10
          type: integer
      type: object
    internal_proj_marketplace_handler.MapBoundsResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.MapBoundsData"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.MapClustersData:
      properties:
        count:
          example: 50
          type: integer
        data: {}
        type:
          example: clusters
          type: string
        zoom:
          example: 10
          type: integer
      type: object
    internal_proj_marketplace_handler.MapClustersResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.MapClustersData"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.MessageResponse:
      properties:
        message:
          example: marketplace.operationSuccess
          type: string
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.ModerationData:
      properties:
        has_prohibited:
          example: false
          type: boolean
        labels:
          example:
            - image
            - photo
          items:
            type: string
          type: array
        prohibited_labels:
          items:
            type: string
          type: array
      type: object
    internal_proj_marketplace_handler.PaginationMeta:
      properties:
        has_more:
          example: true
          type: boolean
        limit:
          example: 20
          type: integer
        page:
          example: 1
          type: integer
        total:
          example: 100
          type: integer
        total_pages:
          example: 5
          type: integer
      type: object
    internal_proj_marketplace_handler.PartialOperationResponse:
      properties:
        data: {}
        error:
          example: marketplace.partialOperationCompleted
          type: string
        success:
          example: false
          type: boolean
      type: object
    internal_proj_marketplace_handler.ProviderData:
      properties:
        provider:
          example: google
          type: string
      type: object
    internal_proj_marketplace_handler.ReindexStartedResponse:
      properties:
        message:
          example: marketplace.reindexStarted
          type: string
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.SearchMetadata:
      properties:
        facets:
          additionalProperties:
            items:
              $ref: "#/components/schemas/backend_internal_domain_search.Bucket"
            type: array
          type: object
        has_more:
          example: true
          type: boolean
        page:
          example: 1
          type: integer
        size:
          example: 20
          type: integer
        spelling_suggestion:
          type: string
        suggestions:
          items:
            type: string
          type: array
        took_ms:
          example: 25
          type: integer
        total:
          example: 100
          type: integer
        total_pages:
          example: 5
          type: integer
      type: object
    internal_proj_marketplace_handler.SearchResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.MarketplaceListing"
          type: array
        meta:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.SearchMetadata"
      type: object
    internal_proj_marketplace_handler.SetProviderRequest:
      properties:
        provider:
          example: google
          type: string
      type: object
    internal_proj_marketplace_handler.SetProviderResponse:
      properties:
        data:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.ProviderData"
        message:
          example: marketplace.providerSet
          type: string
        success:
          example: true
          type: boolean
      type: object
    internal_proj_marketplace_handler.SuggestionItem:
      properties:
        category:
          $ref: "#/components/schemas/internal_proj_marketplace_handler.CategorySummary"
        text:
          example: iPhone 13
          type: string
        type:
          example: product
          type: string
      type: object
    internal_proj_marketplace_handler.TranslateTextRequest:
      properties:
        provider:
          example: google
          type: string
        source_lang:
          example: en
          type: string
        target_lang:
          example: ru
          type: string
        text:
          example: Hello world
          type: string
      type: object
    internal_proj_marketplace_handler.TranslatedTextData:
      properties:
        provider:
          example: google
          type: string
        source_lang:
          example: en
          type: string
        target_lang:
          example: ru
          type: string
        translated_text:
          example: Привет мир
          type: string
      type: object
    internal_proj_marketplace_handler.TranslationLimitsData:
      properties:
        daily_limit:
          example: 10000
          type: integer
        provider:
          example: google
          type: string
        remaining:
          example: 6550
          type: integer
        used_today:
          example: 3450
          type: integer
      type: object
    internal_proj_marketplace_handler.TranslationUpdateRequest:
      properties:
        is_verified:
          example: false
          type: boolean
        language:
          example: en
          type: string
        provider:
          example: google
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    internal_proj_marketplace_handler.UnreadCountData:
      properties:
        count:
          example: 5
          type: integer
      type: object
    internal_proj_notifications_handler.NotificationMarkReadResponse:
      description: Ответ при изменении статуса уведомления
      properties:
        message:
          description: Сообщение об успешной отметке
          example: notifications.markedAsRead
          type: string
      type: object
    internal_proj_notifications_handler.NotificationSettingsResponse:
      description: Настройки уведомлений пользователя
      properties:
        data:
          description: Массив настроек для разных типов уведомлений
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.NotificationSettings"
          type: array
      type: object
    internal_proj_notifications_handler.NotificationSettingsUpdateResponse:
      description: Ответ при обновлении настроек уведомлений
      properties:
        message:
          description: Сообщение об успешном обновлении
          example: notifications.settingsUpdated
          type: string
        settings:
          description: Обновленные настройки
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.NotificationSettings"
          type: array
      type: object
    internal_proj_notifications_handler.PublicEmailSendResponse:
      description: Ответ при отправке email с публичной формы
      properties:
        message:
          description: Сообщение о результате
          example: email.sentSuccessfully
          type: string
        success:
          description: Флаг успешной отправки
          example: true
          type: boolean
      type: object
    internal_proj_notifications_handler.TelegramConnectResponse:
      description: Ответ при успешном подключении Telegram
      properties:
        message:
          description: Сообщение об успешном подключении
          example: telegram.connected
          type: string
      type: object
    internal_proj_notifications_handler.TelegramStatusResponse:
      description: Информация о подключении Telegram к аккаунту
      properties:
        connected:
          description: Подключен ли Telegram
          example: true
          type: boolean
        username:
          description: Имя пользователя в Telegram (если подключен)
          example: john_doe
          type: string
      type: object
    internal_proj_notifications_handler.TelegramTokenResponse:
      description: Токен для связывания аккаунта с Telegram ботом
      properties:
        generated_at:
          description: Время генерации токена
          example: 2024-01-15T10:30:00Z
          type: string
        token:
          description: Сгенерированный токен
          example: 123_abc...
          type: string
      type: object
    internal_proj_notifications_handler.TelegramWebhookResponse:
      description: Ответ на webhook запрос от Telegram
      properties:
        status:
          description: Статус обработки
          example: OK
          type: string
      type: object
    internal_proj_payments_handler.StripeWebhookRequest:
      properties:
        created:
          example: 1234567890
          type: integer
        data:
          additionalProperties: true
          type: object
        id:
          example: evt_1234567890
          type: string
        object:
          example: event
          type: string
        type:
          example: checkout.session.completed
          type: string
      type: object
    internal_proj_payments_handler.WebhookResponse:
      properties:
        message:
          example: payments.webhook.processed
          type: string
        status:
          example: success
          type: string
      type: object
    internal_proj_reviews_handler.PhotosResponse:
      properties:
        message:
          example: Photos uploaded successfully
          type: string
        photos:
          items:
            type: string
          type: array
        success:
          example: true
          type: boolean
      type: object
    internal_proj_reviews_handler.RatingResponse:
      properties:
        rating:
          example: 4.5
          type: number
        success:
          example: true
          type: boolean
      type: object
    internal_proj_reviews_handler.ResponseRequest:
      properties:
        response:
          example: Thank you for your review!
          type: string
      type: object
    internal_proj_reviews_handler.ReviewMessageResponse:
      properties:
        message:
          example: Operation completed successfully
          type: string
        success:
          example: true
          type: boolean
      type: object
    internal_proj_reviews_handler.ReviewsListResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.Review"
          type: array
        meta:
          $ref: "#/components/schemas/internal_proj_reviews_handler.ReviewsMeta"
        success:
          example: true
          type: boolean
      type: object
    internal_proj_reviews_handler.ReviewsMeta:
      properties:
        limit:
          example: 20
          type: integer
        page:
          example: 1
          type: integer
        total:
          example: 100
          type: integer
      type: object
    internal_proj_reviews_handler.VoteRequest:
      properties:
        vote_type:
          example: helpful
          type: string
      type: object
    internal_proj_storefront_handler.ApplyCategoryMappingsResponse:
      properties:
        message:
          type: string
        updated_count:
          type: integer
      type: object
    internal_proj_storefront_handler.CategoryMappingsUpdateResponse:
      properties:
        message:
          type: string
      type: object
    internal_proj_storefront_handler.MessageResponse:
      properties:
        message:
          type: string
      type: object
    internal_proj_users_handler.AdminAdminsResponse:
      properties:
        email:
          example: admin@example.com
          type: string
        is_admin:
          example: true
          type: boolean
      type: object
    internal_proj_users_handler.AdminCheckResponse:
      properties:
        is_admin:
          example: false
          type: boolean
      type: object
    internal_proj_users_handler.AdminMessageResponse:
      properties:
        message:
          example: admin.users.success.profile_updated
          type: string
      type: object
    internal_proj_users_handler.AdminStatusUpdateRequest:
      properties:
        status:
          enum:
            - active
            - blocked
            - pending
          example: active
          type: string
      required:
        - status
      type: object
    internal_proj_users_handler.AdminUserListResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/backend_internal_domain_models.UserProfile"
          type: array
        limit:
          example: 10
          type: integer
        page:
          example: 1
          type: integer
        pages:
          example: 10
          type: integer
        total:
          example: 100
          type: integer
      type: object
    internal_proj_users_handler.AuthResponse:
      properties:
        access_token:
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          type: string
        expires_in:
          example: 3600
          type: integer
        token_type:
          example: Bearer
          type: string
        user:
          $ref: "#/components/schemas/internal_proj_users_handler.UserResponse"
      type: object
    internal_proj_users_handler.LoginRequest:
      properties:
        email:
          example: user@example.com
          type: string
        password:
          example: password123
          minLength: 6
          type: string
      required:
        - email
        - password
      type: object
    internal_proj_users_handler.LoginResponse:
      properties:
        message:
          example: users.login.success.authenticated
          type: string
        user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
      type: object
    internal_proj_users_handler.MessageResponse:
      properties:
        message:
          example: Операция выполнена успешно
          type: string
      type: object
    internal_proj_users_handler.PublicUserResponse:
      properties:
        created_at:
          example: 2023-01-01T12:00:00Z
          type: string
        email:
          example: user@example.com
          type: string
        id:
          example: 1
          type: integer
        name:
          example: Иван Иванов
          type: string
        picture_url:
          example: https://example.com/avatar.jpg
          type: string
      type: object
    internal_proj_users_handler.RegisterRequest:
      properties:
        email:
          example: user@example.com
          type: string
        name:
          example: John Doe
          minLength: 2
          type: string
        password:
          example: password123
          minLength: 6
          type: string
        phone:
          example: "+1234567890"
          type: string
      required:
        - email
        - name
        - password
      type: object
    internal_proj_users_handler.RegisterResponse:
      properties:
        message:
          example: Пользователь успешно зарегистрирован
          type: string
        user:
          $ref: "#/components/schemas/backend_internal_domain_models.User"
      type: object
    internal_proj_users_handler.SessionResponse:
      properties:
        authenticated:
          example: true
          type: boolean
        user:
          $ref: "#/components/schemas/internal_proj_users_handler.SessionUserResponse"
      type: object
    internal_proj_users_handler.SessionUserResponse:
      properties:
        city:
          example: Moscow
          type: string
        country:
          example: Russia
          type: string
        email:
          example: user@example.com
          type: string
        id:
          example: 1
          type: integer
        is_admin:
          example: false
          type: boolean
        name:
          example: John Doe
          type: string
        phone:
          example: "+1234567890"
          type: string
        picture_url:
          example: https://example.com/avatar.jpg
          type: string
        provider:
          example: password
          type: string
      type: object
    internal_proj_users_handler.TokenResponse:
      properties:
        access_token:
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
          type: string
        expires_in:
          example: 3600
          type: integer
        token_type:
          example: Bearer
          type: string
      type: object
    internal_proj_users_handler.UserResponse:
      properties:
        email:
          example: user@example.com
          type: string
        id:
          example: 1
          type: integer
        name:
          example: John Doe
          type: string
        picture_url:
          example: https://example.com/avatar.jpg
          type: string
      type: object
    tgbotapi.Animation:
      properties:
        file_id:
          type: string
        file_name:
          type: string
        file_size:
          type: integer
        mime_type:
          type: string
        thumb:
          $ref: "#/components/schemas/tgbotapi.PhotoSize"
      type: object
    tgbotapi.Audio:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
        performer:
          description: optional
          type: string
        title:
          description: optional
          type: string
      type: object
    tgbotapi.CallbackQuery:
      properties:
        chat_instance:
          type: string
        data:
          description: optional
          type: string
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        game_short_name:
          description: optional
          type: string
        id:
          type: string
        inline_message_id:
          description: optional
          type: string
        message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
      type: object
    tgbotapi.Chat:
      properties:
        all_members_are_administrators:
          description: optional
          type: boolean
        description:
          description: optional
          type: string
        first_name:
          description: optional
          type: string
        id:
          type: integer
        invite_link:
          description: optional
          type: string
        last_name:
          description: optional
          type: string
        photo:
          $ref: "#/components/schemas/tgbotapi.ChatPhoto"
        title:
          description: optional
          type: string
        type:
          type: string
        username:
          description: optional
          type: string
      type: object
    tgbotapi.ChatAnimation:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_name:
          description: optional
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.ChatPhoto:
      properties:
        big_file_id:
          type: string
        small_file_id:
          type: string
      type: object
    tgbotapi.ChosenInlineResult:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        inline_message_id:
          type: string
        location:
          $ref: "#/components/schemas/tgbotapi.Location"
        query:
          type: string
        result_id:
          type: string
      type: object
    tgbotapi.Contact:
      properties:
        first_name:
          type: string
        last_name:
          description: optional
          type: string
        phone_number:
          type: string
        user_id:
          description: optional
          type: integer
      type: object
    tgbotapi.Document:
      properties:
        file_id:
          type: string
        file_name:
          description: optional
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
      type: object
    tgbotapi.EncryptedCredentials:
      properties:
        data:
          description: >-
            Base64-encoded encrypted JSON-serialized data with unique user's

            payload, data hashes and secrets required for EncryptedPassportElement

            decryption and authentication
          type: string
        hash:
          description: Base64-encoded data hash for data authentication
          type: string
        secret:
          description: |-
            Base64-encoded secret, encrypted with the bot's public RSA key,
            required for data decryption
          type: string
      type: object
    tgbotapi.EncryptedPassportElement:
      properties:
        data:
          description: |-
            Base64-encoded encrypted Telegram Passport element data provided by
            the user, available for "personal_details", "passport",
            "driver_license", "identity_card", "identity_passport" and "address"
            types. Can be decrypted and verified using the accompanying
            EncryptedCredentials.
          type: string
        email:
          description: User's verified email address, available only for "email" type
          type: string
        files:
          description: >-
            Array of encrypted files with documents provided by the user,

            available for "utility_bill", "bank_statement", "rental_agreement",

            "passport_registration" and "temporary_registration" types. Files can

            be decrypted and verified using the accompanying EncryptedCredentials.
          items:
            $ref: "#/components/schemas/tgbotapi.PassportFile"
          type: array
        front_side:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: >-
            Encrypted file with the front side of the document, provided by the

            user. Available for "passport", "driver_license", "identity_card" and

            "internal_passport". The file can be decrypted and verified using the

            accompanying EncryptedCredentials.
        phone_number:
          description: User's verified phone number, available only for "phone_number" type
          type: string
        reverse_side:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: >-
            Encrypted file with the reverse side of the document, provided by
            the

            user. Available for "driver_license" and "identity_card". The file can

            be decrypted and verified using the accompanying EncryptedCredentials.
        selfie:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: |-
            Encrypted file with the selfie of the user holding a document,
            provided by the user; available for "passport", "driver_license",
            "identity_card" and "internal_passport". The file can be decrypted
            and verified using the accompanying EncryptedCredentials.
        type:
          description: Element type.
          type: string
      type: object
    tgbotapi.Game:
      properties:
        animation:
          $ref: "#/components/schemas/tgbotapi.Animation"
        description:
          type: string
        photo:
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        text:
          type: string
        text_entities:
          items:
            $ref: "#/components/schemas/tgbotapi.MessageEntity"
          type: array
        title:
          type: string
      type: object
    tgbotapi.InlineQuery:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        location:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Location"
          description: optional
        offset:
          type: string
        query:
          type: string
      type: object
    tgbotapi.Invoice:
      properties:
        currency:
          type: string
        description:
          type: string
        start_parameter:
          type: string
        title:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.Location:
      properties:
        latitude:
          type: number
        longitude:
          type: number
      type: object
    tgbotapi.Message:
      properties:
        animation:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.ChatAnimation"
          description: optional
        audio:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Audio"
          description: optional
        caption:
          description: optional
          type: string
        channel_chat_created:
          description: optional
          type: boolean
        chat:
          $ref: "#/components/schemas/tgbotapi.Chat"
        contact:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Contact"
          description: optional
        date:
          type: integer
        delete_chat_photo:
          description: optional
          type: boolean
        document:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Document"
          description: optional
        edit_date:
          description: optional
          type: integer
        entities:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.MessageEntity"
          type: array
        forward_date:
          description: optional
          type: integer
        forward_from:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        forward_from_chat:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Chat"
          description: optional
        forward_from_message_id:
          description: optional
          type: integer
        from:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        game:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Game"
          description: optional
        group_chat_created:
          description: optional
          type: boolean
        invoice:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Invoice"
          description: optional
        left_chat_member:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        location:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Location"
          description: optional
        message_id:
          type: integer
        migrate_from_chat_id:
          description: optional
          type: integer
        migrate_to_chat_id:
          description: optional
          type: integer
        new_chat_members:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.User"
          type: array
        new_chat_photo:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        new_chat_title:
          description: optional
          type: string
        passport_data:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportData"
          description: optional
        photo:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        pinned_message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
        reply_to_message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
        sticker:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Sticker"
          description: optional
        successful_payment:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.SuccessfulPayment"
          description: optional
        supergroup_chat_created:
          description: optional
          type: boolean
        text:
          description: optional
          type: string
        venue:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Venue"
          description: optional
        video:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Video"
          description: optional
        video_note:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.VideoNote"
          description: optional
        voice:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Voice"
          description: optional
      type: object
    tgbotapi.MessageEntity:
      properties:
        length:
          type: integer
        offset:
          type: integer
        type:
          type: string
        url:
          description: optional
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
      type: object
    tgbotapi.OrderInfo:
      properties:
        email:
          type: string
        name:
          type: string
        phone_number:
          type: string
        shipping_address:
          $ref: "#/components/schemas/tgbotapi.ShippingAddress"
      type: object
    tgbotapi.PassportData:
      properties:
        credentials:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.EncryptedCredentials"
          description: Encrypted credentials required to decrypt the data
        data:
          description: |-
            Array with information about documents and other Telegram Passport
            elements that was shared with the bot
          items:
            $ref: "#/components/schemas/tgbotapi.EncryptedPassportElement"
          type: array
      type: object
    tgbotapi.PassportFile:
      properties:
        file_date:
          description: Unix time when the file was uploaded
          type: integer
        file_id:
          description: Unique identifier for this file
          type: string
        file_size:
          description: File size
          type: integer
      type: object
    tgbotapi.PhotoSize:
      properties:
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        width:
          type: integer
      type: object
    tgbotapi.PreCheckoutQuery:
      properties:
        currency:
          type: string
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        invoice_payload:
          type: string
        order_info:
          $ref: "#/components/schemas/tgbotapi.OrderInfo"
        shipping_option_id:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.ShippingAddress:
      properties:
        city:
          type: string
        country_code:
          type: string
        post_code:
          type: string
        state:
          type: string
        street_line1:
          type: string
        street_line2:
          type: string
      type: object
    tgbotapi.ShippingQuery:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        invoice_payload:
          type: string
        shipping_address:
          $ref: "#/components/schemas/tgbotapi.ShippingAddress"
      type: object
    tgbotapi.Sticker:
      properties:
        emoji:
          description: optional
          type: string
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        set_name:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.SuccessfulPayment:
      properties:
        currency:
          type: string
        invoice_payload:
          type: string
        order_info:
          $ref: "#/components/schemas/tgbotapi.OrderInfo"
        provider_payment_charge_id:
          type: string
        shipping_option_id:
          type: string
        telegram_payment_charge_id:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.Update:
      properties:
        callback_query:
          $ref: "#/components/schemas/tgbotapi.CallbackQuery"
        channel_post:
          $ref: "#/components/schemas/tgbotapi.Message"
        chosen_inline_result:
          $ref: "#/components/schemas/tgbotapi.ChosenInlineResult"
        edited_channel_post:
          $ref: "#/components/schemas/tgbotapi.Message"
        edited_message:
          $ref: "#/components/schemas/tgbotapi.Message"
        inline_query:
          $ref: "#/components/schemas/tgbotapi.InlineQuery"
        message:
          $ref: "#/components/schemas/tgbotapi.Message"
        pre_checkout_query:
          $ref: "#/components/schemas/tgbotapi.PreCheckoutQuery"
        shipping_query:
          $ref: "#/components/schemas/tgbotapi.ShippingQuery"
        update_id:
          type: integer
      type: object
    tgbotapi.User:
      properties:
        first_name:
          type: string
        id:
          type: integer
        is_bot:
          description: optional
          type: boolean
        language_code:
          description: optional
          type: string
        last_name:
          description: optional
          type: string
        username:
          description: optional
          type: string
      type: object
    tgbotapi.Venue:
      properties:
        address:
          type: string
        foursquare_id:
          description: optional
          type: string
        location:
          $ref: "#/components/schemas/tgbotapi.Location"
        title:
          type: string
      type: object
    tgbotapi.Video:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.VideoNote:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        length:
          type: integer
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
      type: object
    tgbotapi.Voice:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
      type: object
