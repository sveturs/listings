openapi: 3.0.0
info:
  contact:
    email: support@svetu.rs
    name: API Support
    url: https://svetu.rs/support
  description: API для платформы Sve Tu - маркетплейс объявлений
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://svetu.rs/terms
  title: Sve Tu Marketplace API
  version: "1.0"
paths:
  /api/admin/attributes:
    post:
      description: Creates a new attribute for categories
      requestBody:
        $ref: "#/components/requestBodies/models.CategoryAttribute"
      responses:
        "201":
          description: marketplace.attributeCreated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeCreateResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.requiredFieldsMissing
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create attribute
      tags:
        - marketplace-admin-attributes
  /api/admin/categories:
    post:
      description: Creates a new marketplace category
      requestBody:
        content:
          application/json:
            schema:
              properties:
                description:
                  type: string
                icon:
                  type: string
                is_active:
                  type: boolean
                name:
                  type: string
                parent_id:
                  type: integer
                seo_description:
                  type: string
                seo_keywords:
                  type: string
                seo_title:
                  type: string
                slug:
                  type: string
              type: object
        description: Category data
        required: true
      responses:
        "200":
          description: Category created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.categoryNameRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{category_id}/components":
    get:
      description: Returns custom components for a specific category
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
        - description: Usage context
          in: query
          name: context
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CustomUIComponentUsage"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category components
      tags:
        - marketplace-admin-custom-components
  "/api/admin/categories/{id}":
    delete:
      description: Deletes a marketplace category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete category
      tags:
        - marketplace-admin-categories
    get:
      description: Returns detailed information about a specific category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.MarketplaceCategory"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.categoryNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category by ID
      tags:
        - marketplace-admin-categories
    put:
      description: Updates an existing marketplace category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                description:
                  type: string
                icon:
                  type: string
                is_active:
                  type: boolean
                name:
                  type: string
                parent_id:
                  type: integer
                seo_description:
                  type: string
                seo_keywords:
                  type: string
                seo_title:
                  type: string
                slug:
                  type: string
              type: object
        description: Updated category data
        required: true
      responses:
        "200":
          description: Category updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.categoryNameRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/attributes":
    post:
      description: Links an attribute to a category with optional required setting
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                attribute_id:
                  type: integer
                is_required:
                  type: boolean
              type: object
        description: Attribute data
        required: true
      responses:
        "200":
          description: Attribute added to category successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.addAttributeToCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/attributes/{attr_id}":
    delete:
      description: Unlinks an attribute from a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attr_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute removed from category successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidAttributeId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeAttributeFromCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from category
      tags:
        - marketplace-admin-categories
    put:
      description: Updates settings for an attribute-category relationship
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attr_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_enabled:
                  type: boolean
                is_required:
                  type: boolean
              type: object
        description: Attribute settings
        required: true
      responses:
        "200":
          description: Attribute category updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidAttributeId or
            marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateAttributeCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute category settings
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/groups":
    get:
      description: Returns attribute groups attached to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category groups
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.AttributeGroup"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoryGroupsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category attribute groups
      tags:
        - marketplace-admin-categories
    post:
      description: Attaches an attribute group to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                group_id:
                  type: integer
                sort_order:
                  type: integer
              type: object
        description: Group attachment data
        required: true
      responses:
        "201":
          description: Group attached successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.attachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Attach attribute group to category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/groups/{group_id}":
    delete:
      description: Detaches an attribute group from a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Group ID
          in: path
          name: group_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Group detached successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.detachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Detach attribute group from category
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/move":
    put:
      description: Moves a category to a different parent in the hierarchy
      parameters:
        - description: Category ID to move
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                new_parent_id:
                  type: integer
              type: object
        description: New parent category ID
        required: true
      responses:
        "200":
          description: Category moved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.moveCategoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Move category in hierarchy
      tags:
        - marketplace-admin-categories
  "/api/admin/categories/{id}/reorder":
    post:
      description: Changes the order of categories based on provided IDs list
      parameters:
        - description: Parent category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                ordered_ids:
                  items:
                    type: integer
                  type: array
              type: object
        description: List of category IDs in new order
        required: true
      responses:
        "200":
          description: Categories reordered successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.emptyIdList
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.reorderCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reorder categories
      tags:
        - marketplace-admin-categories
  /api/admin/categories/all:
    get:
      description: Returns all marketplace categories including inactive ones for
        admin panel
      responses:
        "200":
          description: Categories list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceCategory"
                        type: array
                    type: object
        "500":
          description: marketplace.getCategoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all categories including inactive
      tags:
        - marketplace-admin-categories
  /api/admin/custom-components:
    get:
      description: Returns a list of all custom UI components
      parameters:
        - description: Filter by component type
          in: query
          name: component_type
          schema:
            type: string
        - description: Filter by active status
          in: query
          name: active
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CustomUIComponent"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List custom components
      tags:
        - marketplace-admin-custom-components
    post:
      description: Creates a new custom UI component
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateCustomComponentRequest"
        description: Component data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create custom component
      tags:
        - marketplace-admin-custom-components
  "/api/admin/custom-components/{id}":
    delete:
      description: Deletes a custom UI component
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Component deleted
        "400":
          description: Bad Request
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete custom component
      tags:
        - marketplace-admin-custom-components
    get:
      description: Gets a custom UI component by ID
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.componentNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get custom component
      tags:
        - marketplace-admin-custom-components
    put:
      description: Updates a custom UI component
      parameters:
        - description: Component ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateCustomComponentRequest"
        description: Component data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CustomUIComponent"
                    type: object
        "400":
          description: marketplace.invalidId or marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update custom component
      tags:
        - marketplace-admin-custom-components
  /api/admin/custom-components/templates:
    get:
      description: Returns a list of all component templates
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ComponentTemplate"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List templates
      tags:
        - marketplace-admin-custom-components
    post:
      description: Creates a template for a custom component
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateTemplateRequest"
        description: Template data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ComponentTemplate"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create template
      tags:
        - marketplace-admin-custom-components
  /api/admin/custom-components/usage:
    get:
      description: Returns a list of all component usages with filtering
      parameters:
        - description: Component ID
          in: query
          name: component_id
          schema:
            type: integer
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CustomUIComponentUsage"
                        type: array
                    type: object
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get component usages
      tags:
        - marketplace-admin-custom-components
    post:
      description: Adds component usage for a specific category
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateComponentUsageRequest"
        description: Usage data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CustomUIComponentUsage"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add component usage
      tags:
        - marketplace-admin-custom-components
  "/api/admin/custom-components/usage/{id}":
    delete:
      description: Removes component usage for a category
      parameters:
        - description: Usage ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Usage removed
        "400":
          description: marketplace.invalidId
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.internalServerError
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove component usage
      tags:
        - marketplace-admin-custom-components
  "/api/admin/translations/{entity_type}/{entity_id}/{field_name}":
    put:
      description: Updates translation for a specific field of an entity
      parameters:
        - description: Entity type (category, attribute)
          in: path
          name: entity_type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: entity_id
          required: true
          schema:
            type: integer
        - description: Field name
          in: path
          name: field_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.UpdateFieldTranslationRequest"
        description: Translation update request
        required: true
      responses:
        "200":
          description: Translation updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TranslationFieldStatus"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateTranslationError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update field translation
      tags:
        - marketplace-admin-translations
  /api/admin/translations/batch-attributes:
    post:
      description: Translates multiple attributes and their options to specified languages
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.BatchTranslateAttributesRequest"
        description: Batch translation request
        required: true
      responses:
        "200":
          description: Batch translation started successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.BatchTranslateResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.batchTranslateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Batch translate attributes
      tags:
        - marketplace-admin-translations
  /api/admin/translations/batch-categories:
    post:
      description: Translates multiple categories to specified languages
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.BatchTranslateCategoriesRequest"
        description: Batch translation request
        required: true
      responses:
        "200":
          description: Batch translation started successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.BatchTranslateResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.batchTranslateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Batch translate categories
      tags:
        - marketplace-admin-translations
  /api/admin/translations/status:
    get:
      description: Gets translation status for categories or attributes
      parameters:
        - description: Entity type (category, attribute)
          in: query
          name: entity_type
          required: true
          schema:
            type: string
        - description: Comma-separated entity IDs
          in: query
          name: entity_ids
          schema:
            type: string
      responses:
        "200":
          description: Translation status retrieved
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.TranslationStatusItem"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidEntityType
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getTranslationStatusError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get translation status
      tags:
        - marketplace-admin-translations
  /api/admin/variant-attributes:
    get:
      description: Gets list of all variant attributes from product_variant_attributes table
      parameters:
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Offset
          in: query
          name: offset
          schema:
            type: integer
            default: 0
        - description: Search by name or display_name
          in: query
          name: search
          schema:
            type: string
      responses:
        "200":
          description: Variant attributes list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ProductVariantAttribute"
                        type: array
                    type: object
        "500":
          description: marketplace.getVariantAttributesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get variant attributes
      tags:
        - marketplace-admin-variant-attributes
    post:
      description: Creates a new variant attribute in product_variant_attributes table
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ProductVariantAttribute"
        description: Variant attribute data
        required: true
      responses:
        "201":
          description: marketplace.variantAttributeCreated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ProductVariantAttribute"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.requiredFieldsMissing
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createVariantAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create variant attribute
      tags:
        - marketplace-admin-variant-attributes
  "/api/admin/variant-attributes/{id}":
    delete:
      description: Deletes a variant attribute (only if not used by any products)
      parameters:
        - description: Variant attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.variantAttributeDeleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: marketplace.invalidID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: marketplace.variantAttributeInUse
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteVariantAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete variant attribute
      tags:
        - marketplace-admin-variant-attributes
    get:
      description: Gets a single variant attribute by its ID
      parameters:
        - description: Variant attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Variant attribute details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ProductVariantAttribute"
                    type: object
        "400":
          description: marketplace.invalidID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.variantAttributeNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getVariantAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get variant attribute by ID
      tags:
        - marketplace-admin-variant-attributes
    put:
      description: Updates an existing variant attribute
      parameters:
        - description: Variant attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ProductVariantAttribute"
        description: Updated variant attribute data
        required: true
      responses:
        "200":
          description: marketplace.variantAttributeUpdated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ProductVariantAttribute"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.variantAttributeNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateVariantAttributeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update variant attribute
      tags:
        - marketplace-admin-variant-attributes
  /api/ai/analyze:
    post:
      description: Analyzes a product image and extracts information using Claude AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AnalyzeProductRequest"
        description: Analysis request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AnalyzeProductResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Analyze product image using AI
      tags:
        - ai
  /api/ai/translate:
    post:
      description: Translates title and description to specified languages using Claude AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_ai_handler.TranslateContentRe\
                quest"
        description: Translation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TranslateContentResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Translate content to multiple languages
      tags:
        - ai
  "/api/v1/admin-check/{email}":
    get:
      description: Checks if user with specified email is an administrator (no
        authorization required)
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminAdminsResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.check_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Public administrator check
      tags:
        - public
  /api/v1/admin/admins:
    get:
      description: Returns list of all system administrators
      responses:
        "200":
          description: List of administrators
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.AdminUser"
                        type: array
                    type: object
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.fetch_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all administrators
      tags:
        - admin-management
    post:
      description: Adds a new administrator by email
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AdminUser"
        description: Administrator data
        required: true
      responses:
        "200":
          description: Created administrator
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AdminUser"
                    type: object
        "400":
          description: admin.admins.error.invalid_format or
            admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.add_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add new administrator
      tags:
        - admin-management
  "/api/v1/admin/admins/{email}":
    delete:
      description: Removes administrator privileges from user by email
      parameters:
        - description: Administrator email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Administrator removed
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.remove_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove administrator
      tags:
        - admin-management
  "/api/v1/admin/admins/check/{email}":
    get:
      description: Checks if user with specified email is an administrator
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminAdminsResponse"
                    type: object
        "400":
          description: admin.admins.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: admin.admins.error.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.admins.error.check_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check administrator status
      tags:
        - admin-management
  /api/v1/admin/attributes/variant-compatible:
    get:
      description: Returns all attributes that can be used as product variants
      responses:
        "200":
          description: List of variant compatible attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.UnifiedAttribute"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get variant compatible attributes
      tags:
        - admin-variant-attributes
  "/api/v1/admin/categories/{category_id}/keywords":
    get:
      description: Returns all keywords for a specific category
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Keywords list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryKeyword"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category keywords
      tags:
        - marketplace-admin-categories
    post:
      description: Adds a new keyword to the specified category
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryKeywordRequest"
        description: Keyword data
        required: true
      responses:
        "201":
          description: Created keyword
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CategoryKeyword"
                    type: object
        "400":
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add keyword to category
      tags:
        - marketplace-admin-categories
  "/api/v1/admin/categories/{id}/translate":
    post:
      description: Automatically translates category name, description, seo_title and
        seo_description to all supported languages using Google Translate
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/Languages"
      responses:
        "200":
          description: Translation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.CategoryTranslationResult"
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Translation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Auto-translate category
      tags:
        - marketplace-admin-categories
  "/api/v1/admin/categories/{id}/variant-attributes":
    get:
      description: Gets list of variant attributes available for products in this category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category variant attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryVariantAttribute"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoryVariantAttributesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category variant attributes
      tags:
        - marketplace-admin-categories
    put:
      description: Updates the list of variant attributes available for products in
        this category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryVariantAttributesRequest"
        description: List of variant attributes with their settings
        required: true
      responses:
        "200":
          description: marketplace.categoryVariantAttributesUpdated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateCategoryVariantAttributesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update category variant attributes
      tags:
        - marketplace-admin-categories
  "/api/v1/admin/categories/keywords/{keyword_id}":
    delete:
      description: Deletes a keyword from category
      parameters:
        - description: Keyword ID
          in: path
          name: keyword_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Keyword deleted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid keyword ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Keyword not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete category keyword
      tags:
        - marketplace-admin-categories
    put:
      description: Updates an existing keyword
      parameters:
        - description: Keyword ID
          in: path
          name: keyword_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryKeywordUpdateRequest"
        description: Updated keyword data
        required: true
      responses:
        "200":
          description: Updated keyword
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CategoryKeyword"
                    type: object
        "400":
          description: Invalid request data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Keyword not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update category keyword
      tags:
        - marketplace-admin-categories
  /api/v1/admin/categories/variant-attributes:
    put:
      description: Updates all variant attributes for a category (replaces existing)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryVariantAttributesUpdateRequest"
        description: Update request
        required: true
      responses:
        "200":
          description: Attributes updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update category variant attributes
      tags:
        - admin-variant-attributes
  /api/v1/admin/category-proposals:
    get:
      description: List category proposals with pagination and filters (admin only)
      parameters:
        - description: Filter by status (pending/approved/rejected)
          in: query
          name: status
          schema:
            type: string
        - description: Filter by storefront ID
          in: query
          name: storefront_id
          schema:
            type: integer
        - description: "Page number (default: 1)"
          in: query
          name: page
          schema:
            type: integer
        - description: "Page size (default: 20, max: 100)"
          in: query
          name: page_size
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.CategoryProposalListResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: List category proposals
      tags:
        - admin
        - categories
        - proposals
    post:
      description: Create a new category proposal (requires authentication)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateCategoryProposalRequest"
        description: Proposal data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.CategoryProposal"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Create category proposal
      tags:
        - admin
        - categories
        - proposals
  "/api/v1/admin/category-proposals/{id}":
    delete:
      description: Delete a category proposal (admin only)
      parameters:
        - description: Proposal ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: No content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Delete category proposal
      tags:
        - admin
        - categories
        - proposals
    get:
      description: Get a category proposal by ID (admin only)
      parameters:
        - description: Proposal ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.CategoryProposal"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Get category proposal
      tags:
        - admin
        - categories
        - proposals
    put:
      description: Update a pending category proposal (admin only)
      parameters:
        - description: Proposal ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateCategoryProposalRequest"
        description: Update data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.CategoryProposal"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Update category proposal
      tags:
        - admin
        - categories
        - proposals
  "/api/v1/admin/category-proposals/{id}/approve":
    post:
      description: Approve a pending category proposal and optionally create the
        category (admin only)
      parameters:
        - description: Proposal ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryProposalApproveRequest"
        description: Approve options
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Approve category proposal
      tags:
        - admin
        - categories
        - proposals
  "/api/v1/admin/category-proposals/{id}/reject":
    post:
      description: Reject a pending category proposal (admin only)
      parameters:
        - description: Proposal ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryProposalRejectRequest"
        description: Reject reason
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.CategoryProposal"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Reject category proposal
      tags:
        - admin
        - categories
        - proposals
  /api/v1/admin/category-proposals/pending/count:
    get:
      description: Get count of pending category proposals (admin only)
      parameters:
        - description: Filter by storefront ID
          in: query
          name: storefront_id
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                properties:
                  count:
                    type: integer
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Get pending count
      tags:
        - admin
        - categories
        - proposals
  /api/v1/admin/delivery/analytics:
    get:
      description: Get analytics and statistics for deliveries
      parameters:
        - description: From date (YYYY-MM-DD)
          in: query
          name: from
          schema:
            type: string
        - description: To date (YYYY-MM-DD)
          in: query
          name: to
          schema:
            type: string
        - description: Provider ID
          in: query
          name: provider_id
          schema:
            type: integer
      responses:
        "200":
          description: Analytics data
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.DeliveryAnalytics"
                    type: object
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get delivery analytics
      tags:
        - admin-delivery
  /api/v1/admin/delivery/dashboard:
    get:
      responses:
        "200":
          description: Dashboard statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.DashboardStats"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get dashboard statistics
      tags:
        - delivery-admin
  /api/v1/admin/delivery/pricing-rules:
    get:
      responses:
        "200":
          description: List of pricing rules
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PricingRule"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get pricing rules
      tags:
        - delivery-admin
    post:
      description: Create new pricing rule for provider
      requestBody:
        $ref: "#/components/requestBodies/models.PricingRule"
      responses:
        "200":
          description: Created rule
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PricingRule"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create pricing rule
      tags:
        - admin-delivery
  "/api/v1/admin/delivery/pricing-rules/{id}":
    delete:
      parameters:
        - description: Rule ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Rule deleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Delete pricing rule
      tags:
        - delivery-admin
    put:
      parameters:
        - description: Rule ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/models.PricingRule"
      responses:
        "200":
          description: Rule updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Update pricing rule
      tags:
        - delivery-admin
  /api/v1/admin/delivery/problems:
    get:
      parameters:
        - description: Problem type filter
          in: query
          name: type
          schema:
            type: string
        - description: Status filter
          in: query
          name: status
          schema:
            type: string
      responses:
        "200":
          description: List of problem shipments
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/logistics.ProblemShipment"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get problem shipments
      tags:
        - delivery-admin
  "/api/v1/admin/delivery/problems/{id}/assign":
    post:
      parameters:
        - description: Problem ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ProblemAssignment"
        description: Assignment details
        required: true
      responses:
        "200":
          description: Problem assigned
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Assign problem to admin
      tags:
        - delivery-admin
  "/api/v1/admin/delivery/problems/{id}/resolve":
    post:
      parameters:
        - description: Problem ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ProblemResolution"
        description: Resolution details
        required: true
      responses:
        "200":
          description: Problem resolved
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Resolve problem
      tags:
        - delivery-admin
  /api/v1/admin/delivery/providers:
    get:
      description: Get detailed list of all providers for admin panel
      responses:
        "200":
          description: List of providers
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Provider"
                        type: array
                    type: object
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get providers for admin
      tags:
        - admin-delivery
  "/api/v1/admin/delivery/providers/{id}":
    put:
      description: Update provider settings
      parameters:
        - description: Provider ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.Provider"
        description: Provider data
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update provider
      tags:
        - admin-delivery
  "/api/v1/admin/delivery/providers/{id}/config":
    put:
      parameters:
        - description: Provider ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ProviderConfig"
        description: Provider configuration
        required: true
      responses:
        "200":
          description: Configuration updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Update provider configuration
      tags:
        - delivery-admin
  "/api/v1/admin/delivery/providers/{id}/toggle":
    post:
      parameters:
        - description: Provider ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Provider status updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: boolean
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Toggle provider status
      tags:
        - delivery-admin
  /api/v1/admin/listings/statistics:
    get:
      description: Returns listing statistics for admin dashboard
      responses:
        "200":
          description: Statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminStatisticsResponse"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get admin statistics
      tags:
        - admin
  /api/v1/admin/logistics/analytics/couriers:
    get:
      description: Возвращает сравнительную аналитику по курьерским службам
      parameters:
        - description: Дата начала периода (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата окончания периода (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
      responses:
        "200":
          description: Courier comparison
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items: {}
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Сравнение курьерских служб
      tags:
        - admin-logistics
  /api/v1/admin/logistics/analytics/export:
    get:
      description: Экспортирует отчет по логистике в указанном формате
      parameters:
        - description: Формат экспорта (csv, xlsx)
          in: query
          name: format
          schema:
            type: string
            default: csv
        - description: Тип отчета (shipments, problems, performance)
          in: query
          name: report_type
          schema:
            type: string
            default: shipments
        - description: Дата начала периода (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата окончания периода (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
      responses:
        "200":
          description: Report file
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        "400":
          description: Bad request - invalid parameters
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Экспортировать отчет
      tags:
        - admin-logistics
  /api/v1/admin/logistics/analytics/financial:
    get:
      description: Возвращает финансовые показатели логистики за указанный период
      parameters:
        - description: Дата начала периода (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата окончания периода (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
      responses:
        "200":
          description: Financial report
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить финансовый отчет
      tags:
        - admin-logistics
  /api/v1/admin/logistics/analytics/performance:
    get:
      description: Возвращает метрики производительности логистики за указанный период
      parameters:
        - description: Дата начала периода (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата окончания периода (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
        - description: Группировка (day, week, month)
          in: query
          name: group_by
          schema:
            type: string
            default: day
      responses:
        "200":
          description: Performance metrics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить метрики производительности
      tags:
        - admin-logistics
  /api/v1/admin/logistics/dashboard:
    get:
      description: Возвращает агрегированные метрики и статистику для отображения на
        dashboard
      responses:
        "200":
          description: Dashboard statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить статистику для dashboard логистики
      tags:
        - admin-logistics
  /api/v1/admin/logistics/dashboard/chart:
    get:
      description: Возвращает статистику доставок за последние 7 дней для графиков
      responses:
        "200":
          description: Weekly chart data
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items: {}
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить данные для недельного графика
      tags:
        - admin-logistics
  /api/v1/admin/logistics/problems:
    get:
      description: Возвращает список проблем с отправлениями с возможностью фильтрации
      parameters:
        - description: Фильтр по статусу проблемы
          in: query
          name: status
          schema:
            type: string
        - description: Фильтр по критичности (low, medium, high, critical)
          in: query
          name: severity
          schema:
            type: string
        - description: Фильтр по типу проблемы
          in: query
          name: problem_type
          schema:
            type: string
        - description: Фильтр по назначенному пользователю
          in: query
          name: assigned_to
          schema:
            type: integer
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество элементов на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: List of problems
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить список проблемных отправлений
      tags:
        - admin-logistics
    post:
      description: Создает новую запись о проблеме с отправлением
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/logistics.ProblemShipment"
        description: Данные проблемы
        required: true
      responses:
        "201":
          description: Created problem
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.ProblemShipment"
                    type: object
        "400":
          description: Bad request - invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Создать новую проблему
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}":
    put:
      description: Обновляет информацию о проблеме с отправлением
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Обновляемые поля
        required: true
      responses:
        "200":
          description: Updated problem
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.ProblemShipment"
                    type: object
        "400":
          description: Bad request - invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Обновить проблему
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}/assign":
    post:
      description: Назначает проблему на конкретного пользователя для решения
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: integer
              type: object
        description: ID пользователя для назначения
        required: true
      responses:
        "200":
          description: Problem assigned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad request - invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Назначить проблему пользователю
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}/comments":
    get:
      description: Возвращает список всех комментариев к проблеме
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of comments
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/logistics.ProblemComment"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить комментарии к проблеме
      tags:
        - admin-logistics
    post:
      description: Добавляет комментарий к существующей проблеме
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Текст комментария
        required: true
      responses:
        "201":
          description: Added comment
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.ProblemComment"
                    type: object
        "400":
          description: Bad request - invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Добавить комментарий к проблеме
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}/details":
    get:
      description: Возвращает полную информацию о проблеме включая комментарии и историю
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Problem details with comments and history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.ProblemShipment"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить детальную информацию о проблеме
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}/history":
    get:
      description: Возвращает историю всех изменений статуса и назначения проблемы
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: History of changes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/logistics.ProblemStatusHistory"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить историю изменений проблемы
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/problems/{id}/resolve":
    post:
      description: Отмечает проблему как решенную с указанием резолюции
      parameters:
        - description: ID проблемы
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Резолюция проблемы
        required: true
      responses:
        "200":
          description: Problem resolved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad request - invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Problem not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Решить проблему
      tags:
        - admin-logistics
  /api/v1/admin/logistics/shipments:
    get:
      description: Возвращает список отправлений с возможностью фильтрации и пагинации
      parameters:
        - description: Фильтр по статусу
          in: query
          name: status
          schema:
            type: string
        - description: Фильтр по курьерской службе (bex, postexpress)
          in: query
          name: courier_service
          schema:
            type: string
        - description: Дата начала периода (RFC3339)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата окончания периода (RFC3339)
          in: query
          name: date_to
          schema:
            type: string
        - description: Фильтр по городу
          in: query
          name: city
          schema:
            type: string
        - description: Поиск по трек-номеру
          in: query
          name: tracking_number
          schema:
            type: string
        - description: Только проблемные отправления
          in: query
          name: has_problems
          schema:
            type: boolean
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество элементов на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Поле для сортировки
          in: query
          name: sort_by
          schema:
            type: string
            default: created_at
        - description: Порядок сортировки (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
            default: desc
      responses:
        "200":
          description: List of shipments with total count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Bad request - invalid filters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить список отправлений с фильтрами
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/shipments/{id}":
    get:
      description: Возвращает полную информацию об отправлении включая историю
        статусов и проблемы
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Тип отправления (bex, postexpress)
          in: query
          name: type
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Shipment details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/logistics.ShipmentDetails"
                    type: object
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить детальную информацию об отправлении
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/shipments/{id}/action":
    post:
      description: Выполняет специальное действие (связаться с курьером, отправить
        уведомление и т.д.)
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Действие и параметры
        required: true
      responses:
        "200":
          description: Action performed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Выполнить действие над отправлением
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/shipments/{id}/status":
    put:
      description: Изменяет статус отправления и добавляет запись в лог
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Новый статус
        required: true
      responses:
        "200":
          description: Status updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Обновить статус отправления
      tags:
        - admin-logistics
  "/api/v1/admin/logistics/shipments/{provider}/{id}":
    get:
      description: Возвращает полную информацию об отправлении включая историю статусов
      parameters:
        - description: Провайдер (BEX, PostExpress)
          in: path
          name: provider
          required: true
          schema:
            type: string
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Shipment details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Bad request - invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Получить детальную информацию об отправлении по провайдеру
      tags:
        - admin-logistics
  /api/v1/admin/marketplace/attributes:
    get:
      description: Returns paginated list of all category attributes sorted by
        sort_order and ID with optional search and filter
      parameters:
        - description: "Page number (default: 1)"
          in: query
          name: page
          schema:
            type: integer
        - description: "Page size (default: 20, max: 100)"
          in: query
          name: page_size
          schema:
            type: integer
        - description: Search term for name or display_name
          in: query
          name: search
          schema:
            type: string
        - description: Filter by attribute type
          in: query
          name: type
          schema:
            type: string
      responses:
        "200":
          description: Paginated list of attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PaginatedResponse"
                    type: object
        "400":
          description: Invalid pagination parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all attributes with pagination, search and filter
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/attributes/{id}":
    delete:
      description: Deletes a category attribute by ID
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.attributeDeleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid attribute ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attribute
      tags:
        - marketplace-admin-attributes
    get:
      description: Returns detailed information about a specific attribute
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CategoryAttribute"
                    type: object
        "400":
          description: Invalid attribute ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Attribute not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute by ID
      tags:
        - marketplace-admin-attributes
    put:
      description: Updates an existing category attribute with new data
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/models.CategoryAttribute"
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/attributes/{id}/translate":
    post:
      description: Automatically translates attribute display name and options to all
        supported languages using Google Translate
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/Languages"
      responses:
        "200":
          description: Translation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TranslationResult"
                    type: object
        "400":
          description: Invalid attribute ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Attribute not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Translation error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Auto-translate attribute
      tags:
        - marketplace-admin-attributes
  /api/v1/admin/marketplace/attributes/bulk:
    put:
      description: Updates multiple category attributes in a single request
      requestBody:
        content:
          application/json:
            schema:
              properties:
                attributes:
                  items:
                    $ref: "#/components/schemas/models.CategoryAttribute"
                  type: array
              type: object
        description: List of attributes to update
        required: true
      responses:
        "200":
          description: Update results with success count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.BulkUpdateResult"
                    type: object
        "206":
          description: Partial update with errors
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/handler.PartialOperationResponse"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.BulkUpdateResult"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Bulk update attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/{attributeId}":
    delete:
      description: Removes the link between a category attribute and a category
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from category
      tags:
        - marketplace-admin-attributes
    post:
      description: Links a category attribute to a specific category with optional settings
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                is_required:
                  type: boolean
                sort_order:
                  type: integer
              type: object
        description: Attribute settings for category
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to category
      tags:
        - marketplace-admin-attributes
    put:
      description: Updates settings for an attribute within a specific category
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                custom_component:
                  type: string
                is_enabled:
                  type: boolean
                is_required:
                  type: boolean
                sort_order:
                  type: integer
              type: object
        description: Attribute category settings
        required: true
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute category settings
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/export":
    get:
      description: Exports all attribute settings for a specific category as JSON
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category attributes with settings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryAttributeMapping"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Export category attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{categoryId}/attributes/import":
    post:
      description: Imports attribute settings into a category, replacing existing settings
      parameters:
        - description: Category ID
          in: path
          name: categoryId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/models.CategoryAttributeMapping"
              type: array
        description: List of attribute mappings to import
        required: true
      responses:
        "200":
          description: Import results with success count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ImportAttributesResult"
                    type: object
        "206":
          description: Partial import with errors
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/handler.PartialOperationResponse"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ImportAttributesResult"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Import category attributes
      tags:
        - marketplace-admin-attributes
  "/api/v1/admin/marketplace/categories/{targetCategoryId}/attributes/copy":
    post:
      description: Copies all attribute settings from a source category to a target category
      parameters:
        - description: Target category ID
          in: path
          name: targetCategoryId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                source_category_id:
                  type: integer
              type: object
        description: Source category ID
        required: true
      responses:
        "200":
          description: Success message
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Copy attribute settings between categories
      tags:
        - marketplace-admin-attributes
  /api/v1/admin/reindex-all-listings:
    post:
      description: Alternative endpoint to reindex all marketplace listings
      responses:
        "200":
          description: Reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReindexStartedResponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings (alias)
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-listings:
    post:
      description: Reindexes all marketplace listings in the search index
      responses:
        "200":
          description: Reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-listings-with-translations:
    post:
      description: Reindexes all marketplace listings with their translations in the
        search index
      responses:
        "200":
          description: Reindexing with translations started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReindexStartedResponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex all listings with translations
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/reindex-ratings:
    post:
      description: Reindexes ratings and review counts for all marketplace listings
      responses:
        "200":
          description: Rating reindexing started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReindexStartedResponse"
                    type: object
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.adminCheckError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex listing ratings
      tags:
        - marketplace-admin-indexing
  /api/v1/admin/roles:
    get:
      description: Returns list of all available roles in the system
      responses:
        "200":
          description: List of roles
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Role"
                        type: array
                    type: object
        "500":
          description: admin.users.error.fetch_roles_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all roles (Admin)
      tags:
        - admin-users
  /api/v1/admin/search/analyze-weights:
    post:
      description: Анализирует эффективность текущих весов без запуска полной оптимизации
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AnalyzeWeightsRequest"
        description: Параметры анализа
        required: true
      responses:
        "200":
          description: Результаты анализа
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.WeightOptimizationResult"
                        type: array
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Анализ текущих весов поиска
      tags:
        - Search Optimization
  /api/v1/admin/search/apply-weights:
    post:
      description: Применяет выбранные оптимизированные веса к системе поиска
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.ApplyWeightsRequest"
        description: Параметры применения весов
        required: true
      responses:
        "200":
          description: Веса применены
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Применение оптимизированных весов
      tags:
        - Search Optimization
  /api/v1/admin/search/backup-weights:
    post:
      description: Создает резервную копию текущих весов поиска для возможности отката
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Параметры резервной копии
        required: true
      responses:
        "200":
          description: Резервная копия создана
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Создание резервной копии весов
      tags:
        - Search Optimization
  /api/v1/admin/search/index/documents:
    get:
      description: Search and filter indexed documents
      parameters:
        - description: Search query
          in: query
          name: query
          schema:
            type: string
        - description: Document type (listing/product)
          in: query
          name: type
          schema:
            type: string
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: integer
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/service.IndexedDocument"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Search indexed documents
      tags:
        - admin-search
  /api/v1/admin/search/index/info:
    get:
      description: Returns detailed information about the search index
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.IndexInfo"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get search index information
      tags:
        - admin-search
  /api/v1/admin/search/index/reindex:
    post:
      description: Trigger reindexing of all marketplace documents
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Reindex search documents
      tags:
        - admin-search
  /api/v1/admin/search/index/statistics:
    get:
      description: Returns statistics about indexed documents
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.IndexStatistics"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get search index statistics
      tags:
        - admin-search
  "/api/v1/admin/search/optimization-cancel/{session_id}":
    post:
      description: Отменяет запущенный процесс оптимизации весов
      parameters:
        - description: ID сессии оптимизации
          in: path
          name: session_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Оптимизация отменена
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверный ID сессии
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Отмена оптимизации
      tags:
        - Search Optimization
  /api/v1/admin/search/optimization-config:
    get:
      description: Возвращает текущую конфигурацию параметров оптимизации весов
      responses:
        "200":
          description: Конфигурация оптимизации
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.OptimizationConfig"
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Конфигурация оптимизации
      tags:
        - Search Optimization
    put:
      description: Обновляет параметры оптимизации весов по умолчанию
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/service.OptimizationConfig"
        description: Новая конфигурация
        required: true
      responses:
        "200":
          description: Конфигурация обновлена
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверная конфигурация
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновление конфигурации оптимизации
      tags:
        - Search Optimization
  /api/v1/admin/search/optimization-history:
    get:
      description: Возвращает список последних сессий оптимизации весов
      parameters:
        - description: Максимальное количество записей
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: История оптимизаций
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.OptimizationSession"
                        type: array
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: История оптимизаций
      tags:
        - Search Optimization
  "/api/v1/admin/search/optimization-status/{session_id}":
    get:
      description: Возвращает текущий статус и результаты процесса оптимизации весов
      parameters:
        - description: ID сессии оптимизации
          in: path
          name: session_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Статус оптимизации
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.OptimizationSession"
                    type: object
        "400":
          description: Неверный ID сессии
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Сессия не найдена
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получение статуса оптимизации
      tags:
        - Search Optimization
  /api/v1/admin/search/optimize-weights:
    post:
      description: Запускает процесс машинного обучения для оптимизации весов полей
        поиска на основе поведенческих данных
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.StartOptimizationRequest"
        description: Параметры оптимизации
        required: true
      responses:
        "200":
          description: Оптимизация запущена
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Запуск оптимизации весов поиска
      tags:
        - Search Optimization
  /api/v1/admin/search/rollback-weights:
    post:
      description: Откатывает веса поиска к предыдущим значениям
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: ID весов для отката
        required: true
      responses:
        "200":
          description: Откат выполнен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Откат весов
      tags:
        - Search Optimization
  /api/v1/admin/search/synonyms:
    get:
      description: Возвращает список синонимов для указанного языка с возможностью поиска
      parameters:
        - description: Язык синонимов (en, ru, sr)
          in: query
          name: language
          schema:
            type: string
        - description: Поиск по термину
          in: query
          name: search
          schema:
            type: string
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество записей на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Список синонимов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          additionalProperties: true
                          type: object
                        type: array
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получение списка синонимов
      tags:
        - Search Synonyms
    post:
      description: Создает новый синоним для улучшения поиска
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.SynonymRequest"
        description: Данные синонима
        required: true
      responses:
        "201":
          description: Синоним создан
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: Синоним уже существует
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Создание нового синонима
      tags:
        - Search Synonyms
  "/api/v1/admin/search/synonyms/{id}":
    delete:
      description: Удаляет синоним из системы
      parameters:
        - description: ID синонима
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Синоним удален
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверный ID синонима
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Синоним не найден
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Удаление синонима
      tags:
        - Search Synonyms
    put:
      description: Обновляет существующий синоним
      parameters:
        - description: ID синонима
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.SynonymRequest"
        description: Обновленные данные синонима
        required: true
      responses:
        "200":
          description: Синоним обновлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Неверные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Синоним не найден
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновление синонима
      tags:
        - Search Synonyms
  /api/v1/admin/sync-discounts:
    post:
      description: Synchronizes discount data for all listings (Admin only)
      responses:
        "200":
          description: Discounts synchronized successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: admin.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.syncError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Synchronize discount data
      tags:
        - marketplace-admin
  /api/v1/admin/translations/ai/apply:
    post:
      description: Apply translations generated by AI providers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ApplyTranslationsRequest"
        description: Translations to apply
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Apply AI-generated translations
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/costs:
    get:
      description: Returns summary of AI translation costs across all providers
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get AI translation costs summary
      tags:
        - Translation Admin
  "/api/v1/admin/translations/ai/costs/{provider}":
    get:
      description: Returns detailed cost information for a specific AI provider
      parameters:
        - description: Provider name (openai, google, deepl, claude)
          in: path
          name: provider
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/translation_admin.ProviderCosts"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get detailed costs for a specific provider
      tags:
        - Translation Admin
  "/api/v1/admin/translations/ai/costs/{provider}/reset":
    post:
      description: Resets cost tracking for a specific provider
      parameters:
        - description: Provider name (openai, google, deepl, claude)
          in: path
          name: provider
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: string
                        type: object
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Reset AI provider costs
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/costs/alerts:
    get:
      description: Returns alerts if costs exceed specified limits
      parameters:
        - description: Daily cost limit in USD
          in: query
          name: daily_limit
          schema:
            type: number
            format: float64
            default: 100
        - description: Monthly cost limit in USD
          in: query
          name: monthly_limit
          schema:
            type: number
            format: float64
            default: 2000
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          type: string
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get AI translation cost alerts
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/providers:
    get:
      description: Returns list of configured AI translation providers
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          additionalProperties: true
                          type: object
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get available AI translation providers
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/rate-limit-status:
    get:
      description: Returns current rate limit status for all AI translation providers
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          $ref: "#/components/schemas/ratelimit.Status"
                        type: object
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get rate limit status for AI providers
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/translate:
    post:
      description: Translates text using configured AI providers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AITranslateRequest"
        description: Translation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AITranslateResponse"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Translate text using AI
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/translate-batch:
    post:
      description: Translates multiple texts using configured AI providers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AITranslateBatchRequest"
        description: Batch translation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AITranslateBatchResponse"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Batch translate texts using AI
      tags:
        - Translation Admin
  /api/v1/admin/translations/ai/translate-module:
    post:
      description: Translates all missing translations in a module
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.TranslateModuleRequest"
        description: Module translation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.TranslateModuleResponse"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Translate entire module using AI
      tags:
        - Translation Admin
  /api/v1/admin/translations/audit/logs:
    get:
      description: Retrieve audit logs with optional filters
      parameters:
        - description: "Limit results (default: 100)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Filter by user ID
          in: query
          name: user_id
          schema:
            type: integer
        - description: Filter by action type
          in: query
          name: action
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.TranslationAuditLog"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get audit logs
      tags:
        - Translation Admin
  /api/v1/admin/translations/audit/statistics:
    get:
      description: Retrieve statistics about audit logs and user activity
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AuditStatistics"
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get audit statistics
      tags:
        - Translation Admin
  /api/v1/admin/translations/bulk/translate:
    post:
      description: Perform bulk translation of multiple entities across languages
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BulkTranslateRequest"
        description: Bulk translation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BatchTranslateResult"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Bulk translate multiple entities
      tags:
        - Translation Admin
  /api/v1/admin/translations/database:
    get:
      description: Returns translations from database with optional filters
      parameters:
        - description: Entity type filter
          in: query
          name: entity_type
          schema:
            type: string
        - description: Entity ID filter
          in: query
          name: entity_id
          schema:
            type: integer
        - description: Language filter
          in: query
          name: language
          schema:
            type: string
        - description: Field name filter
          in: query
          name: field_name
          schema:
            type: string
        - description: Verified status filter
          in: query
          name: is_verified
          schema:
            type: boolean
        - description: Limit results
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Translation"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get database translations with filters
      tags:
        - Translation Admin
  "/api/v1/admin/translations/database/{id}":
    delete:
      description: Deletes a translation permanently
      parameters:
        - description: Translation ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Delete translation from database
      tags:
        - Translation Admin
    get:
      description: Returns a single translation from database
      parameters:
        - description: Translation ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Translation"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get single translation by ID
      tags:
        - Translation Admin
    put:
      description: Updates an existing translation
      parameters:
        - description: Translation ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.TranslationUpdateRequest"
        description: Translation update
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update translation in database
      tags:
        - Translation Admin
  /api/v1/admin/translations/database/batch:
    post:
      description: Create, update or delete multiple translations at once
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BatchOperationsRequest"
        description: Batch operations
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BatchOperationsResult"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Perform batch operations on translations
      tags:
        - Translation Admin
  /api/v1/admin/translations/export:
    get:
      description: Export database translations to JSON format for backup or migration
      parameters:
        - description: Entity type to export (frontend, database, all)
          in: query
          name: entity_type
          schema:
            type: string
        - description: Language code to export (en, ru, sr, all)
          in: query
          name: language
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Export translations to JSON
      tags:
        - admin-translations
  /api/v1/admin/translations/export/advanced:
    post:
      description: Export translations in various formats (JSON, CSV, XLIFF)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ExportRequest"
        description: Export request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Advanced export translations
      tags:
        - Translation Admin
  "/api/v1/admin/translations/frontend/module/{name}":
    get:
      description: Returns all translations for the specified module
      parameters:
        - description: Module name
          in: path
          name: name
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.FrontendTranslation"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get translations for a specific module
      tags:
        - Translation Admin
    put:
      description: Updates multiple translations within a module
      parameters:
        - description: Module name
          in: path
          name: name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/models.FrontendTranslation"
              type: array
        description: Translation updates
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update translations for a module
      tags:
        - Translation Admin
  /api/v1/admin/translations/frontend/modules:
    get:
      description: Returns list of all frontend modules with statistics
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.FrontendModule"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get all frontend translation modules
      tags:
        - Translation Admin
  /api/v1/admin/translations/frontend/validate:
    post:
      description: Validates translations across modules and languages
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ValidateTranslationsRequest"
        description: Validation request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ValidationResult"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Validate translations for consistency
      tags:
        - Translation Admin
  /api/v1/admin/translations/import:
    post:
      description: Import translations from JSON format to database
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ImportTranslationsRequest"
        description: Import request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Import translations from JSON
      tags:
        - admin-translations
  /api/v1/admin/translations/import/advanced:
    post:
      description: Import translations from various formats (JSON, CSV, XLIFF)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.TranslationImportRequest"
        description: Import request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ImportResult"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Advanced import translations
      tags:
        - Translation Admin
  /api/v1/admin/translations/providers:
    get:
      description: Returns list of available translation providers (Claude, DeepL, etc.)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.TranslationProvider"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get all translation providers
      tags:
        - Translation Admin
  "/api/v1/admin/translations/providers/{id}":
    put:
      description: Updates provider settings and configuration
      parameters:
        - description: Provider ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.TranslationProvider"
        description: Provider configuration
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update translation provider configuration
      tags:
        - Translation Admin
  /api/v1/admin/translations/stats/overview:
    get:
      description: Returns comprehensive statistics about translations
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.TranslationStatistics"
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get translation statistics overview
      tags:
        - Translation Admin
  /api/v1/admin/translations/sync/conflicts/resolve:
    post:
      description: Batch resolve translation sync conflicts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ConflictResolutionBatch"
        description: Conflict resolutions
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ConflictResolutionResult"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Resolve multiple translation conflicts
      tags:
        - Translation Admin
  /api/v1/admin/translations/sync/db-to-frontend:
    post:
      description: Synchronize database translations to frontend JSON files
      parameters:
        - description: Entity type to sync
          in: query
          name: entity_type
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync database to frontend
      tags:
        - admin-translations
  /api/v1/admin/translations/sync/frontend-to-db:
    post:
      description: Synchronize frontend JSON translations to database
      parameters:
        - description: Module name to sync (all for all modules)
          in: query
          name: module
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync frontend to database
      tags:
        - admin-translations
  /api/v1/admin/translations/sync/frontend-to-db-old:
    post:
      description: Synchronizes all frontend translations to the database (OLD METHOD)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync frontend translations to database OLD
      tags:
        - Translation Admin
  "/api/v1/admin/translations/versions/{entity}/{id}":
    get:
      description: |-
        Returns version history for all translations of an entity
        Returns all versions for a specific translation ID
      parameters:
        - description: Entity type (translation, category, listing)
          in: path
          name: entity
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Translation ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.TranslationVersion"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get versions for a specific translation
      tags:
        - Translation Admin
        - Translation Admin
  /api/v1/admin/translations/versions/diff:
    get:
      description: Compare two translation versions and return differences
      parameters:
        - description: First version ID
          in: query
          name: version1
          required: true
          schema:
            type: integer
        - description: Second version ID
          in: query
          name: version2
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.VersionDiff"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get differences between two versions
      tags:
        - Translation Admin
  /api/v1/admin/translations/versions/rollback:
    post:
      description: Rollback a translation to a specific previous version
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.RollbackRequest"
        description: Rollback request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Rollback translation to previous version
      tags:
        - Translation Admin
  "/api/v1/admin/translations/versions/translation/{id}":
    get:
      description: |-
        Returns version history for all translations of an entity
        Returns all versions for a specific translation ID
      parameters:
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Translation ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.TranslationVersion"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get versions for a specific translation
      tags:
        - Translation Admin
        - Translation Admin
  /api/v1/admin/users:
    get:
      description: Returns paginated list of all users in the system
      parameters:
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 20
        - description: Filter by status (active, inactive, suspended)
          in: query
          name: status
          schema:
            type: string
        - description: Sort field (id, name, email, created_at, last_seen, account_status)
          in: query
          name: sort_by
          schema:
            type: string
            default: id
        - description: Sort order (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
            default: asc
      responses:
        "200":
          description: List of users
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminUserListResponse"
                    type: object
        "500":
          description: admin.users.error.fetch_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all users (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}":
    delete:
      description: Permanently deletes a user from the system
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User deleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.delete_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete user (Admin)
      tags:
        - admin-users
    get:
      description: Returns detailed user information by user ID
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserProfile"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: admin.users.error.user_not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user by ID (Admin)
      tags:
        - admin-users
    put:
      description: Updates user profile information by administrator
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UserProfileUpdate"
        description: User update data
        required: true
      responses:
        "200":
          description: Profile updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id or
            admin.users.error.invalid_format or
            admin.users.error.validation_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.update_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/balance":
    get:
      description: Returns balance information for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User balance
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserBalance"
                    type: object
        "400":
          description: admin.balance.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.balance.error.fetch_balance_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user balance (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/role":
    put:
      description: Updates user role by ID
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.UpdateUserRoleRequest"
        description: Role update request
        required: true
      responses:
        "200":
          description: Role updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id or
            admin.users.error.invalid_format or admin.users.error.invalid_role
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.role_update_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user role (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/status":
    put:
      description: Updates user status (active, blocked, pending)
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AdminStatusUpdateRequest"
        description: Status update (active, blocked, pending)
        required: true
      responses:
        "200":
          description: Status updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminMessageResponse"
                    type: object
        "400":
          description: admin.users.error.invalid_user_id or
            admin.users.error.invalid_format or admin.users.error.invalid_status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.users.error.status_update_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user status (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{id}/transactions":
    get:
      description: Returns paginated transaction history for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Number of items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Number of items to skip
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Transaction history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.BalanceTransaction"
                        type: array
                    type: object
        "400":
          description: admin.balance.error.invalid_user_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: admin.balance.error.fetch_transactions_failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user transactions (Admin)
      tags:
        - admin-users
  "/api/v1/admin/users/{user_id}/subscription":
    get:
      description: Get subscription details for a specific user (Admin only)
      parameters:
        - description: User ID
          in: path
          name: user_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User subscription
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserSubscriptionInfo"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get user subscription (Admin)
      tags:
        - admin
  "/api/v1/admin/variant-attributes/{id}/mappings":
    get:
      description: Gets all category attribute mappings for a variant attribute
      parameters:
        - description: Variant attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category attributes linked to this variant attribute
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryAttribute"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getMappingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get variant attribute mappings
      tags:
        - marketplace-admin-variant-attributes
    put:
      description: Updates category attribute mappings for a variant attribute
      parameters:
        - description: Variant attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                category_attribute_ids:
                  items:
                    type: integer
                  type: array
              type: object
        description: Array of category attribute IDs to link
        required: true
      responses:
        "200":
          description: marketplace.mappingsUpdated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateMappingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update variant attribute mappings
      tags:
        - marketplace-admin-variant-attributes
  /api/v1/admin/variant-attributes/mappings:
    get:
      description: Returns variant attribute mappings for a specific category
      parameters:
        - description: Category ID
          in: query
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category variant mappings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.VariantAttributeMapping"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get category variant mappings
      tags:
        - admin-variant-attributes
    post:
      description: Creates a new mapping between variant attribute and category
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.VariantAttributeMappingCreateRequest"
        description: Mapping data
        required: true
      responses:
        "201":
          description: Created mapping
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.VariantAttributeMapping"
                    type: object
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create variant mapping
      tags:
        - admin-variant-attributes
  "/api/v1/admin/variant-attributes/mappings/{id}":
    delete:
      description: Deletes a variant attribute mapping
      parameters:
        - description: Mapping ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Mapping deleted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Mapping not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Delete variant mapping
      tags:
        - admin-variant-attributes
    patch:
      description: Updates an existing variant attribute mapping
      parameters:
        - description: Mapping ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.VariantAttributeMappingUpdateRequest"
        description: Update data
        required: true
      responses:
        "200":
          description: Mapping updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Mapping not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update variant mapping
      tags:
        - admin-variant-attributes
  /api/v1/analytics/event:
    post:
      description: Records an analytics event for a storefront
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.EventRequest"
        description: Event data
        required: true
      responses:
        "200":
          description: Event recorded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Record analytics event
      tags:
        - analytics
  /api/v1/analytics/metrics/items:
    get:
      description: Returns performance metrics for items (admin only)
      parameters:
        - description: Start date (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: End date (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Items performance
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/service.ItemPerformance"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - admin only
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get items performance
      tags:
        - analytics
  /api/v1/analytics/metrics/search:
    get:
      description: Returns search analytics metrics (admin only)
      parameters:
        - description: Start date (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: End date (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
        - description: Period (day, week, month)
          in: query
          name: period
          schema:
            type: string
            default: week
      responses:
        "200":
          description: Search metrics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.SearchMetrics"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden - admin only
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get search metrics
      tags:
        - analytics
  /api/v1/analytics/metrics/update:
    post:
      description: Forces update of aggregated search metrics for a specific period
      parameters:
        - description: Period start date (RFC3339)
          in: query
          name: period_start
          required: true
          schema:
            type: string
        - description: Period end date (RFC3339)
          in: query
          name: period_end
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Metrics updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: string
                        type: object
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Admin access required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update aggregated metrics
      tags:
        - analytics
  "/api/v1/analytics/sessions/{session_id}/events":
    get:
      description: Returns behavior events for a specific session
      parameters:
        - description: Session ID
          in: path
          name: session_id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Session events
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/behavior.BehaviorEvent"
                        type: array
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get session events
      tags:
        - analytics
  /api/v1/analytics/track:
    post:
      description: Records user behavior events for analytics (supports both single
        event and batch)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/behavior.TrackEventBatch"
        description: Event batch data
        required: true
      responses:
        "200":
          description: Events tracked successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "429":
          description: Too many requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Track behavior events
      tags:
        - analytics
  "/api/v1/analytics/users/{user_id}/events":
    get:
      description: Returns behavior events for a specific user
      parameters:
        - description: User ID
          in: path
          name: user_id
          required: true
          schema:
            type: integer
        - description: "Limit results (default: 20, max: 100)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: User events
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/behavior.BehaviorEvent"
                        type: array
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get user events
      tags:
        - analytics
  /api/v1/auth/google:
    get:
      description: Redirects user to Google OAuth consent page
      parameters:
        - description: User locale (en, ru, sr)
          in: query
          name: locale
          schema:
            type: string
        - description: URL to return after auth
          in: query
          name: return_url
          schema:
            type: string
      responses:
        "302":
          description: Redirect to Google OAuth
      summary: Start Google OAuth authentication
      tags:
        - auth
  /api/v1/auth/google/callback:
    get:
      description: Processes OAuth callback from Google and authenticates user
      parameters:
        - description: OAuth authorization code
          in: query
          name: code
          required: true
          schema:
            type: string
        - description: OAuth state parameter
          in: query
          name: state
          required: true
          schema:
            type: string
      responses:
        "302":
          description: Redirect to frontend with auth tokens
        "400":
          description: Invalid callback parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Handle Google OAuth callback
      tags:
        - auth
  /api/v1/auth/login:
    post:
      description: Authenticates user via auth-service
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Login request
        required: true
      responses:
        "200":
          description: Login successful
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "401":
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: User login
      tags:
        - auth
  /api/v1/auth/logout:
    post:
      description: Logs out the current user
      responses:
        "200":
          description: Logout successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: User logout
      tags:
        - auth
  /api/v1/auth/me:
    get:
      description: Returns info about the currently authenticated user
      responses:
        "200":
          description: User info
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get current user info
      tags:
        - auth
  /api/v1/auth/refresh:
    post:
      description: Refreshes the access token using a refresh token from body or cookie
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Refresh token request (optional if using cookie)
      responses:
        "200":
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: No refresh token provided
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Invalid refresh token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Refresh access token
      tags:
        - auth
  /api/v1/auth/register:
    post:
      description: Registers a new user via auth-service
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Registration request
        required: true
      responses:
        "201":
          description: User registered successfully
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: User already exists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Register a new user
      tags:
        - auth
  /api/v1/auth/session:
    get:
      description: Returns information about the current authenticated session
      responses:
        "200":
          description: Session info
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get current session
      tags:
        - auth
  /api/v1/auth/validate:
    get:
      description: Validates the current access token
      responses:
        "200":
          description: Token is valid
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Validate token
      tags:
        - auth
  /api/v1/b2c_stores:
    get:
      description: Returns paginated list of b2c_stores with filters. Public endpoint
        that shows only active b2c_stores by default. Admins can see all
        b2c_stores.
      parameters:
        - description: Filter by user ID
          in: query
          name: user_id
          schema:
            type: integer
        - description: Filter by active status
          in: query
          name: is_active
          schema:
            type: boolean
        - description: Filter by verification status
          in: query
          name: is_verified
          schema:
            type: boolean
        - description: Filter by city
          in: query
          name: city
          schema:
            type: string
        - description: Minimum rating filter
          in: query
          name: min_rating
          schema:
            type: number
            format: float32
        - description: Search in name and description
          in: query
          name: search
          schema:
            type: string
        - description: Latitude for geo search
          in: query
          name: lat
          schema:
            type: number
            format: float64
        - description: Longitude for geo search
          in: query
          name: lng
          schema:
            type: number
            format: float64
        - description: Radius in km for geo search
          in: query
          name: radius_km
          schema:
            type: number
            format: float64
        - description: Sort field (rating, products_count, distance)
          in: query
          name: sort_by
          schema:
            type: string
        - description: Sort order (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
        - description: Results per page (max 100)
          in: query
          name: limit
          schema:
            type: integer
        - description: Results offset
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: List of b2c_stores
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.StorefrontsListResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: List b2c_stores
      tags:
        - b2c_stores
    post:
      description: Creates a new storefront for the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.StorefrontCreateDTO"
        description: Storefront data
        required: true
      responses:
        "201":
          description: Created storefront
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Storefront"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Storefront limit reached
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create new storefront
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}":
    delete:
      description: Deletes a storefront. Soft delete by default (marks as inactive).
        Admins can use ?hard=true for permanent removal
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: "Hard delete (permanent removal, admin only). Default: false (soft
            delete)"
          in: query
          name: hard
          schema:
            type: boolean
      responses:
        "200":
          description: Storefront deleted
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Only owner can delete storefront
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete storefront
      tags:
        - b2c_stores
    get:
      description: Returns storefront details by ID
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Storefront"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront by ID
      tags:
        - b2c_stores
    put:
      description: Updates storefront details
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.StorefrontUpdateDTO"
        description: Update data
        required: true
      responses:
        "200":
          description: Storefront updated
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update storefront
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/aggregated-rating":
    get:
      description: Returns aggregated rating for a storefront including breakdown by sources
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Aggregated rating
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AggregatedRating"
                    type: object
        "400":
          description: Invalid storefront ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront aggregated rating
      tags:
        - reviews
  "/api/v1/b2c_stores/{id}/analytics":
    get:
      description: Returns analytics data for a storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Start date (RFC3339 format)
          in: query
          name: from
          schema:
            type: string
        - description: End date (RFC3339 format)
          in: query
          name: to
          schema:
            type: string
      responses:
        "200":
          description: Analytics data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.StorefrontAnalytics"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get storefront analytics
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/banner":
    post:
      description: Uploads a banner image for the storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                banner:
                  description: Banner file
                  type: string
                  format: binary
              required:
                - banner
        required: true
      responses:
        "200":
          description: Banner URL
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload storefront banner
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/delivery-options":
    put:
      description: Updates storefront delivery options
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/models.StorefrontDeliveryOption"
              type: array
        description: Delivery options
        required: true
      responses:
        "200":
          description: Delivery options updated
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update delivery options
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/hours":
    put:
      description: Updates storefront working hours
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/models.StorefrontHours"
              type: array
        description: Working hours
        required: true
      responses:
        "200":
          description: Hours updated
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update working hours
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/logo":
    post:
      description: Uploads a logo image for the storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                logo:
                  description: Logo file
                  type: string
                  format: binary
              required:
                - logo
        required: true
      responses:
        "200":
          description: Logo URL
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload storefront logo
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/payment-methods":
    put:
      description: Updates storefront payment methods
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/models.StorefrontPaymentMethod"
              type: array
        description: Payment methods
        required: true
      responses:
        "200":
          description: Payment methods updated
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update payment methods
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/restore":
    post:
      description: Restores a previously deactivated storefront (admin only)
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront restored
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Admin access required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Restore deactivated storefront
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{id}/staff":
    get:
      description: Returns list of staff members with their roles and permissions
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Staff list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.StaffListResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront staff
      tags:
        - b2c_stores
        - staff
    post:
      description: Adds a new staff member to the storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AddStaffRequest"
        description: Staff data
        required: true
      responses:
        "200":
          description: Staff added
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions or staff limit reached
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add staff member
      tags:
        - b2c_stores
        - staff
  "/api/v1/b2c_stores/{id}/staff/{staffId}/permissions":
    put:
      description: Updates permissions for a staff member
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Staff ID
          in: path
          name: staffId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        description: Permissions map
        required: true
      responses:
        "200":
          description: Permissions updated
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Staff not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update staff permissions
      tags:
        - b2c_stores
        - staff
  "/api/v1/b2c_stores/{id}/staff/{userId}":
    delete:
      description: Removes a staff member from the storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: User ID of staff member
          in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Staff removed
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Insufficient permissions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Staff not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove staff member
      tags:
        - b2c_stores
        - staff
  "/api/v1/b2c_stores/{id}/view":
    post:
      description: Records a view for analytics
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: View recorded
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Record storefront view
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/{slug}/dashboard/low-stock":
    get:
      description: Returns products with low stock for storefront dashboard
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Low stock products
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/postgres.LowStockProduct"
                        type: array
                    type: object
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get low stock products
      tags:
        - b2c_stores
        - dashboard
  "/api/v1/b2c_stores/{slug}/dashboard/notifications":
    get:
      description: Returns notifications for storefront dashboard
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Dashboard notifications
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.DashboardNotification"
                        type: array
                    type: object
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get dashboard notifications
      tags:
        - b2c_stores
        - dashboard
  "/api/v1/b2c_stores/{slug}/dashboard/recent-orders":
    get:
      description: Returns recent orders for storefront dashboard
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 5
      responses:
        "200":
          description: Recent orders
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/postgres.DashboardOrder"
                        type: array
                    type: object
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get recent orders
      tags:
        - b2c_stores
        - dashboard
  "/api/v1/b2c_stores/{slug}/dashboard/stats":
    get:
      description: Returns statistics for storefront dashboard
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Dashboard statistics
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/postgres.DashboardStats"
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get dashboard statistics
      tags:
        - b2c_stores
        - dashboard
  "/api/v1/b2c_stores/{slug}/products":
    get:
      description: Returns paginated list of products for a storefront
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Filter by category ID
          in: query
          name: category_id
          schema:
            type: integer
        - description: Search in name and description
          in: query
          name: search
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
        - description: Stock status filter (in_stock, low_stock, out_of_stock)
          in: query
          name: stock_status
          schema:
            type: string
        - description: Filter by active status
          in: query
          name: is_active
          schema:
            type: boolean
        - description: Filter by SKU
          in: query
          name: sku
          schema:
            type: string
        - description: Filter by barcode
          in: query
          name: barcode
          schema:
            type: string
        - description: Sort by field (name, price, created_at, stock_quantity)
          in: query
          name: sort_by
          schema:
            type: string
        - description: Sort order (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
        - description: "Number of items per page (default: 20)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Number of items to skip
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: List of products
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/models.StorefrontProduct"
                type: array
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Get storefront products
      tags:
        - storefront-products
    post:
      description: Creates a new product for the storefront with optional variants support
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateProductRequest"
        description: Product data with optional variants
        required: true
      responses:
        "201":
          description: Created product with variants
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.StorefrontProduct"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create a storefront product
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/{id}":
    delete:
      description: Permanently deletes a product and all related data (reviews,
        favorites, images, etc.)
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Must be true for hard delete
          in: query
          name: hard
          required: true
          schema:
            type: boolean
      responses:
        "200":
          description: Product permanently deleted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Hard delete a storefront product
      tags:
        - storefront-products
    get:
      description: Returns details of a specific product
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Product details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.StorefrontProduct"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Get a storefront product
      tags:
        - storefront-products
    put:
      description: Updates product details
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateProductRequest"
        description: Product update data
        required: true
      responses:
        "200":
          description: Product updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Update a storefront product
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/{id}/inventory":
    post:
      description: Records inventory movement and updates stock
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateInventoryRequest"
        description: Inventory update data
        required: true
      responses:
        "200":
          description: Inventory updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Update product inventory
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/bulk/create":
    post:
      description: Create multiple products in a single request
      parameters:
        - description: Bearer token
          in: header
          name: Authorization
          required: true
          schema:
            type: string
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BulkCreateProductsRequest"
        description: Products to create
        required: true
      responses:
        "200":
          description: Bulk creation result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.BulkCreateProductsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Bulk create products
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/bulk/delete":
    delete:
      description: Delete multiple products in a single request
      parameters:
        - description: Bearer token
          in: header
          name: Authorization
          required: true
          schema:
            type: string
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BulkDeleteProductsRequest"
        description: Product IDs to delete
        required: true
      responses:
        "200":
          description: Bulk deletion result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.BulkDeleteProductsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Bulk delete products
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/bulk/status":
    put:
      description: Update active/inactive status of multiple products
      parameters:
        - description: Bearer token
          in: header
          name: Authorization
          required: true
          schema:
            type: string
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BulkUpdateStatusRequest"
        description: Product IDs and status
        required: true
      responses:
        "200":
          description: Bulk status update result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.BulkUpdateStatusResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Bulk update product status
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/bulk/update":
    put:
      description: Update multiple products in a single request
      parameters:
        - description: Bearer token
          in: header
          name: Authorization
          required: true
          schema:
            type: string
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.BulkUpdateProductsRequest"
        description: Products to update
        required: true
      responses:
        "200":
          description: Bulk update result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.BulkUpdateProductsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Bulk update products
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{slug}/products/stats":
    get:
      description: Returns statistics about storefront products
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Product statistics
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ProductStats"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get product statistics
      tags:
        - storefront-products
  "/api/v1/b2c_stores/{storefront_id}/cart":
    delete:
      description: Removes all items from the shopping cart
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Cart cleared
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Clear shopping cart
      tags:
        - cart
    get:
      description: Gets the current contents of the shopping cart for a storefront
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Cart contents
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ShoppingCart"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get shopping cart
      tags:
        - cart
  "/api/v1/b2c_stores/{storefront_id}/cart/items":
    post:
      description: Adds a product to the shopping cart for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AddToCartRequest"
        description: Item to add
        required: true
      responses:
        "200":
          description: Updated cart
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ShoppingCart"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add item to cart
      tags:
        - cart
  "/api/v1/b2c_stores/{storefront_id}/cart/items/{item_id}":
    delete:
      description: Removes an item from the shopping cart
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
        - description: Cart item ID
          in: path
          name: item_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Updated cart
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ShoppingCart"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Item not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove item from cart
      tags:
        - cart
    put:
      description: Updates the quantity of an item in the cart
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
        - description: Cart item ID
          in: path
          name: item_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateCartItemRequest"
        description: Updated quantity
        required: true
      responses:
        "200":
          description: Updated cart
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ShoppingCart"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Item not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update cart item quantity
      tags:
        - cart
  "/api/v1/b2c_stores/{storefront_id}/import/analyze-attributes":
    post:
      description: Detect and analyze product attributes before import
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/postApiV1B2cStores_storefrontId_importAnalyze\
          Attributes"
      responses:
        "200":
          description: Attribute analysis result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.AnalyzeAttributesResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Analyze attributes in import file
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/analyze-categories":
    post:
      description: Analyze categories and get AI mapping suggestions before import
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/postApiV1B2cStores_storefrontId_importAnalyze\
          Attributes"
      responses:
        "200":
          description: Category analysis result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.AnalyzeCategoriesResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Analyze categories in import file
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/analyze-client-categories":
    post:
      description: Analyze unique client categories and suggest new marketplace categories
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AnalyzeClientCategoriesRequest"
        description: Analysis request
        required: true
      responses:
        "200":
          description: Category analysis
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.AnalyzeClientCategoriesResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Analyze client categories
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/detect-variants":
    post:
      description: Detect and group product variants before import
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/postApiV1B2cStores_storefrontId_importAnalyze\
          Attributes"
      responses:
        "200":
          description: Variant detection result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.DetectVariantsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Detect product variants
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/file":
    post:
      description: Import products from uploaded file (supports XML, CSV, ZIP formats)
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Import file
                  type: string
                  format: binary
                file_type:
                  description: File type
                  type: string
                  enum:
                    - xml
                    - csv
                    - zip
                update_mode:
                  description: Update mode
                  type: string
                  enum:
                    - create_only
                    - update_only
                    - upsert
                  default: upsert
                category_mapping_mode:
                  description: Category mapping mode
                  type: string
                  enum:
                    - auto
                    - manual
                    - skip
                  default: auto
              required:
                - file
                - file_type
        required: true
      responses:
        "200":
          description: Import job created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJob"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Import products from file
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/jobs":
    get:
      description: Get list of import jobs for a storefront
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
        - description: Filter by status
          in: query
          name: status
          schema:
            type: string
        - description: Limit number of results
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: List of import jobs
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJobsResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get import jobs
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/preview":
    post:
      description: Preview first N rows of import file with validation before actual import
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Import file
                  type: string
                  format: binary
                file_type:
                  description: File type
                  type: string
                  enum:
                    - xml
                    - csv
                    - zip
                preview_limit:
                  description: Number of rows to preview
                  type: integer
                  default: 10
              required:
                - file
                - file_type
        required: true
      responses:
        "200":
          description: Preview result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportPreviewResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Preview import file
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/url":
    post:
      description: Import products from a URL (supports XML, CSV, ZIP formats)
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ImportRequest"
        description: Import request
        required: true
      responses:
        "200":
          description: Import job created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJob"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Import products from URL
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/import/validate":
    post:
      description: Validate import file structure and data without actually importing
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/postApiV1B2cStores_storefrontId_importAnalyze\
          Attributes"
      responses:
        "200":
          description: Validation result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJobStatus"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Validate import file
      tags:
        - b2c_stores
        - import
  "/api/v1/b2c_stores/{storefront_id}/orders":
    get:
      description: Gets a list of orders for a specific storefront (owner only)
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Filter by status
          in: query
          name: status
          schema:
            type: string
      responses:
        "200":
          description: Storefront orders
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.StorefrontOrder"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get storefront orders
      tags:
        - orders
  "/api/v1/b2c_stores/{storefront_id}/orders/{order_id}/status":
    put:
      description: Updates the status of an order (seller only)
      parameters:
        - description: Storefront ID
          in: path
          name: storefront_id
          required: true
          schema:
            type: integer
        - description: Order ID
          in: path
          name: order_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateOrderStatusRequest"
        description: Status update
        required: true
      responses:
        "200":
          description: Updated order
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.StorefrontOrder"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update order status
      tags:
        - orders
  /api/v1/b2c_stores/ai/ab-test-titles:
    post:
      description: Evaluates multiple title variants and returns the best one
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.ABTestTitlesRequest"
        description: Title variants
        required: true
      responses:
        "200":
          description: A/B test result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: A/B test product titles
      tags:
        - AI Storefronts
  /api/v1/b2c_stores/ai/analyze-product-image:
    post:
      description: Uses Claude AI to analyze product image and extract title,
        description, category hints, price, etc.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AnalyzeProductImageRequest"
        description: Image data
        required: true
      responses:
        "200":
          description: AI analysis result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AnalyzeProductResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Analyze product image with AI for storefront products
      tags:
        - AI Storefronts
  /api/v1/b2c_stores/ai/detect-category:
    post:
      description: Uses AI to detect the most suitable category for a storefront product
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_b2c_handler.DetectCategoryReq\
                uest"
        description: Product details
        required: true
      responses:
        "200":
          description: Category detection result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.AIDetectionResult"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Detect category for storefront product
      tags:
        - AI Storefronts
  /api/v1/b2c_stores/ai/metrics:
    get:
      description: Returns accuracy and performance metrics for AI category detection
      responses:
        "200":
          description: Metrics data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get AI detection metrics for storefront products
      tags:
        - AI Storefronts
  /api/v1/b2c_stores/ai/translate-content:
    post:
      description: Translates product title and description to specified languages
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_b2c_handler.TranslateContentR\
                equest"
        description: Content to translate
        required: true
      responses:
        "200":
          description: Translation result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Translate product content to multiple languages
      tags:
        - AI Storefronts
  /api/v1/b2c_stores/building:
    get:
      description: Returns all b2c_stores located in the same building
      parameters:
        - description: Building latitude
          in: query
          name: lat
          required: true
          schema:
            type: number
            format: float64
        - description: Building longitude
          in: query
          name: lng
          required: true
          schema:
            type: number
            format: float64
      responses:
        "200":
          description: Businesses in building
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/models.StorefrontMapData"
                type: array
        "400":
          description: Invalid coordinates
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get businesses in building
      tags:
        - b2c_stores
        - map
  /api/v1/b2c_stores/import/csv-template:
    get:
      description: Get CSV template with headers and example data for product import
      responses:
        "200":
          description: CSV template
          content:
            text/csv:
              schema:
                type: string
      summary: Get CSV import template
      tags:
        - b2c_stores
        - import
  /api/v1/b2c_stores/import/formats:
    get:
      description: Get information about supported import formats and their requirements
      responses:
        "200":
          description: Import formats information
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
      summary: Get supported import formats
      tags:
        - b2c_stores
        - import
  /api/v1/b2c_stores/map:
    get:
      description: Returns b2c_stores within map bounds with minimal data for performance
      parameters:
        - description: Minimum latitude
          in: query
          name: min_lat
          required: true
          schema:
            type: number
            format: float64
        - description: Maximum latitude
          in: query
          name: max_lat
          required: true
          schema:
            type: number
            format: float64
        - description: Minimum longitude
          in: query
          name: min_lng
          required: true
          schema:
            type: number
            format: float64
        - description: Maximum longitude
          in: query
          name: max_lng
          required: true
          schema:
            type: number
            format: float64
        - description: Minimum rating filter
          in: query
          name: min_rating
          schema:
            type: number
            format: float32
      responses:
        "200":
          description: Map markers data
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/models.StorefrontMapData"
                type: array
        "400":
          description: Invalid bounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get b2c_stores for map
      tags:
        - b2c_stores
        - map
  /api/v1/b2c_stores/my:
    get:
      description: Returns list of b2c_stores owned by current user
      responses:
        "200":
          description: List of user's b2c_stores
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/models.Storefront"
                type: array
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get my b2c_stores
      tags:
        - b2c_stores
  /api/v1/b2c_stores/nearby:
    get:
      description: Returns b2c_stores within specified radius from coordinates
      parameters:
        - description: Latitude
          in: query
          name: lat
          required: true
          schema:
            type: number
            format: float64
        - description: Longitude
          in: query
          name: lng
          required: true
          schema:
            type: number
            format: float64
        - description: Radius in kilometers (default 5)
          in: query
          name: radius_km
          schema:
            type: number
            format: float64
        - description: Maximum results (default 20, max 100)
          in: query
          name: limit
          schema:
            type: integer
      responses:
        "200":
          description: Nearby b2c_stores
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/models.Storefront"
                type: array
        "400":
          description: Invalid coordinates
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get nearby b2c_stores
      tags:
        - b2c_stores
        - map
  "/api/v1/b2c_stores/products/{id}":
    get:
      description: Returns details of a specific product using only product ID
      parameters:
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Product details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.StorefrontProduct"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      summary: Get a storefront product by ID
      tags:
        - storefront-products
  /api/v1/b2c_stores/search:
    get:
      description: Performs advanced search of b2c_stores using OpenSearch engine
      parameters:
        - description: Search query
          in: query
          name: q
          schema:
            type: string
        - description: City filter
          in: query
          name: city
          schema:
            type: string
        - description: Latitude for geo search
          in: query
          name: lat
          schema:
            type: number
            format: float64
        - description: Longitude for geo search
          in: query
          name: lng
          schema:
            type: number
            format: float64
        - description: Search radius in kilometers
          in: query
          name: radius_km
          schema:
            type: integer
        - description: Minimum rating
          in: query
          name: min_rating
          schema:
            type: number
            format: float64
        - description: Only verified b2c_stores
          in: query
          name: is_verified
          schema:
            type: boolean
        - description: Only currently open b2c_stores
          in: query
          name: is_open_now
          schema:
            type: boolean
        - description: Payment methods (comma separated)
          in: query
          name: payment_methods
          schema:
            type: string
        - description: Has delivery option
          in: query
          name: has_delivery
          schema:
            type: boolean
        - description: Has self pickup option
          in: query
          name: has_self_pickup
          schema:
            type: boolean
        - description: Sort field (rating, distance, products_count, created_at)
          in: query
          name: sort_by
          schema:
            type: string
        - description: Sort order (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
        - description: Number of results (max 100)
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Results offset
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/opensearch.StorefrontSearchResult"
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search b2c_stores using OpenSearch
      tags:
        - b2c_stores
        - search
  "/api/v1/b2c_stores/slug/{slug}":
    get:
      description: Returns storefront details by slug or ID
      parameters:
        - description: Storefront slug or ID
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Storefront details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.Storefront"
        "404":
          description: Storefront not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront by slug or ID
      tags:
        - b2c_stores
  "/api/v1/b2c_stores/slug/{slug}/products/{product_id}/images":
    get:
      description: Returns all images for a specific product
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Product images
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/services.UploadImageResponse"
                        type: array
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get product images
      tags:
        - storefront-images
    post:
      description: Uploads a new image for a storefront product
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  description: Image file
                  type: string
                  format: binary
                is_main:
                  description: Set as main image
                  type: boolean
                display_order:
                  description: Display order
                  type: integer
              required:
                - image
        required: true
      responses:
        "200":
          description: Image uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.UploadImageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "413":
          description: File too large
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Upload image for storefront product
      tags:
        - storefront-images
  "/api/v1/b2c_stores/slug/{slug}/products/{product_id}/images/{image_id}":
    delete:
      description: Deletes a specific image of a product
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
        - description: Image ID
          in: path
          name: image_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Image deleted successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Image not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Delete product image
      tags:
        - storefront-images
  "/api/v1/b2c_stores/slug/{slug}/products/{product_id}/images/{image_id}/main":
    post:
      description: Sets a specific image as the main image for a product
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
        - description: Image ID
          in: path
          name: image_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Main image set successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Image not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Set main product image
      tags:
        - storefront-images
  "/api/v1/b2c_stores/slug/{slug}/products/{product_id}/images/order":
    put:
      description: Updates the display order of product images
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/handler.ImageOrderUpdate"
              type: array
        description: Image order updates
        required: true
      responses:
        "200":
          description: Image order updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Update image display order
      tags:
        - storefront-images
  /api/v1/balance:
    get:
      description: Returns current balance and frozen balance for authenticated user
      responses:
        "200":
          description: User balance information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserBalance"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: balance.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user balance
      tags:
        - balance
  /api/v1/balance/deposit:
    post:
      description: Creates a new payment session for balance deposit
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.DepositRequest"
        description: Deposit details
        required: true
      responses:
        "200":
          description: Payment session created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PaymentSession"
                    type: object
        "400":
          description: balance.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: balance.createDepositError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create deposit
      tags:
        - balance
  /api/v1/balance/mock/complete:
    post:
      description: Completes a mock payment session for testing purposes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CompleteMockPaymentRequest"
        description: Payment session ID
        required: true
      responses:
        "200":
          description: Payment completed successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: object
                    type: object
        "400":
          description: balance.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: balance.completeMockPaymentError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Complete mock payment
      tags:
        - balance
  /api/v1/balance/payment-methods:
    get:
      description: Returns list of available payment methods
      responses:
        "200":
          description: List of payment methods
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PaymentMethod"
                        type: array
                    type: object
        "500":
          description: balance.getPaymentMethodsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get payment methods
      tags:
        - balance
  /api/v1/balance/transactions:
    get:
      description: Returns paginated list of user balance transactions
      parameters:
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Offset
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: List of transactions
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.BalanceTransaction"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: balance.getTransactionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get transaction history
      tags:
        - balance
  /api/v1/bex/calculate-rate:
    post:
      description: Calculate shipping cost for given parameters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_bexexpress_models.CalculateRa\
                teRequest"
        description: Rate calculation parameters
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_bexexpress_models.CalculateRa\
                          teResponse"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Calculate shipping rate
      tags:
        - BEX Express
  /api/v1/bex/parcel-shops:
    get:
      description: Get list of BEX parcel shops
      parameters:
        - description: Filter by city
          in: query
          name: city
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.BEXParcelShop"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get parcel shops
      tags:
        - BEX Express
  /api/v1/bex/search-address:
    post:
      description: Search for addresses in BEX database
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.SearchAddressRequest"
        description: Search parameters
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.AddressSuggestion"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search addresses
      tags:
        - BEX Express
  /api/v1/bex/shipments:
    post:
      description: Create a new shipment through BEX Express
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_bexexpress_models.CreateShipm\
                entRequest"
        description: Shipment details
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BEXShipment"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Create BEX shipment
      tags:
        - BEX Express
  "/api/v1/bex/shipments/{id}":
    delete:
      description: Cancel a shipment
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "404":
          description: Not Found
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Cancel shipment
      tags:
        - BEX Express
    get:
      description: Get shipment information by ID
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BEXShipment"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get shipment details
      tags:
        - BEX Express
  "/api/v1/bex/shipments/{id}/label":
    get:
      description: Get printable label for shipment
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Page size (4 for A4, 6 for A6)
          in: query
          name: size
          schema:
            type: integer
            default: 4
      responses:
        "200":
          description: OK
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        "404":
          description: Not Found
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get shipment label
      tags:
        - BEX Express
  "/api/v1/bex/shipments/{id}/status":
    get:
      description: Get current status of shipment
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BEXShipment"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get shipment status
      tags:
        - BEX Express
  /api/v1/bex/shipments/bulk:
    post:
      description: Create multiple shipments at once
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/backend_internal_proj_bexexpress_models.CreateShipm\
                  entRequest"
              type: array
        description: Array of shipment details
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.BEXShipment"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Create bulk shipments
      tags:
        - BEX Express
  "/api/v1/bex/track/{tracking}":
    get:
      description: Track shipment by tracking number
      parameters:
        - description: Tracking number
          in: path
          name: tracking
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.BEXShipment"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Track shipment
      tags:
        - BEX Express
  /api/v1/bex/webhook/status:
    post:
      description: Receive status updates from BEX
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Webhook data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Handle BEX status webhook
      tags:
        - BEX Express
  /api/v1/cars/makes:
    get:
      description: Get all available car makes from the database
      parameters:
        - description: Filter by country
          in: query
          name: country
          schema:
            type: string
        - description: Filter domestic brands
          in: query
          name: is_domestic
          schema:
            type: boolean
        - description: Show only active brands
          in: query
          name: active_only
          schema:
            type: boolean
            default: true
      responses:
        "200":
          description: List of car makes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CarMake"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get all car makes
      tags:
        - marketplace-cars
  "/api/v1/cars/makes/{make_slug}/models":
    get:
      description: Get all car models for a specific make
      parameters:
        - description: Car make slug
          in: path
          name: make_slug
          required: true
          schema:
            type: string
        - description: Show only active models
          in: query
          name: active_only
          schema:
            type: boolean
            default: true
      responses:
        "200":
          description: List of car models
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CarModel"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Make not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get car models by make
      tags:
        - marketplace-cars
  /api/v1/cars/makes/search:
    get:
      description: Search car makes by name with fuzzy matching
      parameters:
        - description: Search query
          in: query
          name: q
          required: true
          schema:
            type: string
        - description: Limit results
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CarMake"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search car makes
      tags:
        - marketplace-cars
  "/api/v1/cars/models/{model_id}/generations":
    get:
      description: Get all generations for a specific car model
      parameters:
        - description: Car model ID
          in: path
          name: model_id
          required: true
          schema:
            type: integer
        - description: Show only active generations
          in: query
          name: active_only
          schema:
            type: boolean
            default: true
      responses:
        "200":
          description: List of car generations
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CarGeneration"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Model not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get car generations by model
      tags:
        - marketplace-cars
  /api/v1/cars/stats:
    get:
      description: Get statistics about cars in the marketplace (total listings,
        makes, models)
      responses:
        "200":
          description: Car statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get car statistics
      tags:
        - marketplace-cars
  "/api/v1/cars/vin/{vin}/decode":
    get:
      description: Decode vehicle identification number (VIN) to get vehicle information
      parameters:
        - description: VIN number (17 characters)
          in: path
          name: vin
          required: true
          schema:
            type: string
      responses:
        "200":
          description: VIN decode result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.VINDecodeResult"
                    type: object
        "400":
          description: Invalid VIN
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Decode VIN number
      tags:
        - marketplace-cars
  "/api/v1/categories/{id}/apply-defaults":
    post:
      description: Apply default delivery attributes to all products in category
        without attributes
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Number of updated products
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: integer
                        type: object
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Apply category defaults to products
      tags:
        - delivery
  "/api/v1/categories/{id}/delivery-defaults":
    get:
      description: Get default delivery attributes for a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category defaults
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CategoryDefaults"
                    type: object
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get category default attributes
      tags:
        - delivery
    put:
      description: Update default delivery attributes for a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CategoryDefaults"
        description: Category defaults
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update category default attributes
      tags:
        - delivery
  "/api/v1/categories/{slug}/variant-attributes":
    get:
      description: Returns variant attributes suitable for specific category
      parameters:
        - description: Category slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Variant attributes for category
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ProductVariantAttribute"
                        type: array
                    type: object
        "404":
          description: Category not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get variant attributes for category
      tags:
        - marketplace-variant-attributes
  /api/v1/config/storage:
    get:
      description: Returns storage configuration including bucket names for frontend
      responses:
        "200":
          description: Storage configuration
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/config.StorageConfig"
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storage configuration
      tags:
        - config
  /api/v1/contacts:
    get:
      description: Возвращает список контактов с фильтрацией по статусу и пагинацией
      parameters:
        - description: Фильтр по статусу (pending, accepted, blocked)
          in: query
          name: status
          schema:
            type: string
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Список контактов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ContactsListResponse"
                    type: object
        "400":
          description: validation.invalidStatusFilter
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: contacts.fetchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить список контактов
      tags:
        - contacts
    post:
      description: Добавляет пользователя в список контактов
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AddContactRequest"
        description: Данные для добавления контакта
        required: true
      responses:
        "200":
          description: Контакт успешно добавлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserContact"
                    type: object
        "400":
          description: validation.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: contacts.userNotAllowRequests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: contacts.alreadyExists
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: contacts.addError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Добавить контакт
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}":
    delete:
      description: Удаляет пользователя из списка контактов
      parameters:
        - description: ID контакта для удаления
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Контакт удален
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ContactRemoveResponse"
                    type: object
        "400":
          description: validation.invalidContactUserId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: contacts.removeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Удалить контакт
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}/check":
    get:
      description: Проверяет, являются ли два пользователя контактами
      parameters:
        - description: ID пользователя для проверки
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Статус контакта
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ContactStatusCheckResponse"
                    type: object
        "400":
          description: validation.invalidContactUserId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: contacts.checkError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Проверить статус контакта
      tags:
        - contacts
  "/api/v1/contacts/{contact_user_id}/status":
    put:
      description: Изменяет статус контакта (принять или заблокировать)
      parameters:
        - description: ID контакта
          in: path
          name: contact_user_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateContactRequest"
        description: Новый статус контакта
        required: true
      responses:
        "200":
          description: Статус обновлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ContactStatusUpdateResponse"
                    type: object
        "400":
          description: validation.invalidContactUserId или validation.invalidStatus
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: contacts.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить статус контакта
      tags:
        - contacts
  /api/v1/contacts/incoming:
    get:
      description: Возвращает список входящих запросов в контакты со статусом pending
      parameters:
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Количество на странице
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Список входящих запросов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ContactsListResponse"
                    type: object
        "500":
          description: contacts.fetchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить входящие запросы в контакты
      tags:
        - contacts
  /api/v1/contacts/privacy:
    get:
      description: Возвращает текущие настройки приватности пользователя
      responses:
        "200":
          description: Настройки приватности
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserPrivacySettings"
                    type: object
        "500":
          description: privacy.fetchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить настройки приватности
      tags:
        - contacts
    put:
      description: Изменяет настройки приватности пользователя
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdatePrivacySettingsRequest"
        description: Новые настройки приватности
        required: true
      responses:
        "200":
          description: Обновленные настройки
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserPrivacySettings"
                    type: object
        "400":
          description: validation.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: privacy.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить настройки приватности
      tags:
        - contacts
  "/api/v1/courier/{courier_id}/deliveries":
    get:
      description: Retrieves list of active deliveries assigned to a courier
      parameters:
        - description: Courier ID
          in: path
          name: courier_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Active deliveries
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/tracking.Delivery"
                        type: array
                    type: object
        "400":
          description: Invalid courier ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Courier not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get active deliveries for courier
      tags:
        - courier
  "/api/v1/courier/{courier_id}/location":
    post:
      description: Updates courier's current location and broadcasts to tracking clients
      parameters:
        - description: Courier ID
          in: path
          name: courier_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tracking.CourierLocationUpdate"
        description: Location data
        required: true
      responses:
        "200":
          description: Location updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Courier not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update courier location
      tags:
        - tracking
  /api/v1/credit/calculate:
    post:
      description: Calculate credit/loan details including monthly payments and total
        amounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/credit.CreditCalculationRequest"
        description: Credit calculation request
        required: true
      responses:
        "200":
          description: Credit calculation result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/credit.CreditCalculationResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Calculate credit
      tags:
        - credit
  /api/v1/delivery:
    post:
      description: Creates a new delivery with courier assignment
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tracking.CreateDeliveryRequest"
        description: Delivery data
        required: true
      responses:
        "201":
          description: Delivery created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/tracking.Delivery"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create new delivery
      tags:
        - delivery
  "/api/v1/delivery/{delivery_id}/status":
    put:
      description: Updates the status of a delivery (picked_up, in_transit, delivered,
        failed)
      parameters:
        - description: Delivery ID
          in: path
          name: delivery_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tracking.DeliveryStatusUpdate"
        description: Status update
        required: true
      responses:
        "200":
          description: Status updated successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Delivery not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update delivery status
      tags:
        - tracking
  /api/v1/delivery/calculate-cart:
    post:
      description: Calculate delivery rates for cart items with optimization
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CartCalculationRequest"
        description: Cart calculation request
        required: true
      responses:
        "200":
          description: Calculation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/calculator.CalculationResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Calculate delivery for cart
      tags:
        - delivery
  /api/v1/delivery/calculate-universal:
    post:
      description: Calculate delivery rates across all available providers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/calculator.CalculationRequest"
        description: Calculation request
        required: true
      responses:
        "200":
          description: Calculation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/calculator.CalculationResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Calculate universal delivery rates
      tags:
        - delivery
  /api/v1/delivery/providers:
    get:
      description: Get list of available delivery providers
      parameters:
        - description: Only active providers
          in: query
          name: active
          schema:
            type: boolean
      responses:
        "200":
          description: List of providers
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Provider"
                        type: array
                    type: object
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get delivery providers
      tags:
        - delivery
  "/api/v1/delivery/webhooks/{provider}/tracking":
    post:
      description: Process tracking status updates from delivery providers
      parameters:
        - description: Provider code (post_express, bex_express, etc.)
          in: path
          name: provider
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: Webhook payload from provider
        required: true
      responses:
        "200":
          description: Webhook processed successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: object
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Provider not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Handle tracking webhook
      tags:
        - delivery
  /api/v1/docs/content:
    get:
      description: Returns the content of a specific markdown file
      parameters:
        - description: File path relative to docs root
          in: query
          name: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: File content
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.DocContentResponse"
                    type: object
        "400":
          description: docs.pathRequired or docs.invalidPath or docs.onlyMarkdownAllowed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: docs.fileNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: docs.readError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get file content
      tags:
        - docs
  /api/v1/docs/files:
    get:
      description: Returns the hierarchical list of markdown files in the
        documentation directory
      responses:
        "200":
          description: List of documentation files
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.DocFilesResponse"
                    type: object
        "500":
          description: docs.scanError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get documentation files
      tags:
        - docs
  /api/v1/geocode/cities:
    get:
      description: Возвращает список городов по частичному названию для автодополнения
      parameters:
        - description: Поисковый запрос (минимум 2 символа)
          in: query
          name: q
          required: true
          schema:
            type: string
        - description: Максимальное количество результатов
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Список городов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.GeoLocation"
                        type: array
                    type: object
        "500":
          description: geocode.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Поиск городов
      tags:
        - geocode
  /api/v1/geocode/reverse:
    get:
      description: Получает адрес по географическим координатам
      parameters:
        - description: Широта
          in: query
          name: lat
          required: true
          schema:
            type: number
            format: float64
        - description: Долгота
          in: query
          name: lon
          required: true
          schema:
            type: number
            format: float64
      responses:
        "200":
          description: Адрес по координатам
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.GeoLocation"
                    type: object
        "400":
          description: validation.invalidLatitude или validation.invalidLongitude
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: geocode.reverseError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Обратное геокодирование
      tags:
        - geocode
  /api/v1/gis/advanced/apply-filters:
    post:
      description: Apply travel time, POI, and density filters to listings
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.ApplyAdvancedFiltersRequest"
        description: Advanced filters request
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: validation.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: gis.filterError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Apply advanced geo filters
      tags:
        - gis-advanced
  /api/v1/gis/advanced/density/analyze:
    post:
      description: Analyze listing density in a given area
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.BoundingBox"
        description: Bounding box for analysis
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.DensityAnalysisResult"
                        type: array
                    type: object
        "400":
          description: validation.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: gis.densityAnalysisError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Analyze listing density
      tags:
        - gis-advanced
  /api/v1/gis/advanced/density/heatmap:
    get:
      description: Get point data for density heatmap visualization
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          additionalProperties: true
                          type: object
                        type: array
                    type: object
        "400":
          description: validation.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: gis.heatmapError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get density heatmap data
      tags:
        - gis-advanced
  /api/v1/gis/advanced/isochrone:
    post:
      description: Returns isochrone polygon for travel time analysis
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.TravelTimeFilter"
        description: Travel time filter parameters
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.IsohronResponse"
                    type: object
        "400":
          description: validation.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: gis.isochroneError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get isochrone polygon
      tags:
        - gis-advanced
  /api/v1/gis/advanced/poi/search:
    get:
      description: Search for POIs like schools, hospitals, metro stations
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.POISearchResult"
                        type: array
                    type: object
        "400":
          description: validation.failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: gis.poiSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search points of interest
      tags:
        - gis-advanced
  /api/v1/gis/cities:
    get:
      description: Get all cities with optional filtering by viewport bounds
      parameters:
        - description: Country code (e.g., RS)
          in: query
          name: country_code
          schema:
            type: string
        - description: Filter cities with districts
          in: query
          name: has_districts
          schema:
            type: boolean
        - description: Viewport north boundary
          in: query
          name: bounds_north
          schema:
            type: number
        - description: Viewport south boundary
          in: query
          name: bounds_south
          schema:
            type: number
        - description: Viewport east boundary
          in: query
          name: bounds_east
          schema:
            type: number
        - description: Viewport west boundary
          in: query
          name: bounds_west
          schema:
            type: number
      responses:
        "200":
          description: List of cities
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.City"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get cities
      tags:
        - gis
  /api/v1/gis/cities/visible:
    post:
      description: Get cities visible in viewport bounds with distance to center
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.VisibleCitiesRequest"
        description: Viewport bounds and center
        required: true
      responses:
        "200":
          description: Visible cities with distances
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.VisibleCitiesResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get visible cities
      tags:
        - gis
  /api/v1/gis/clusters:
    get:
      description: Возвращает кластеризованные точки для отображения на карте
      parameters:
        - description: Уровень зума карты (1-20)
          in: query
          name: zoom
          required: true
          schema:
            type: integer
        - description: Границы видимой области (south,west,north,east)
          in: query
          name: bounds
          required: true
          schema:
            type: string
        - description: ID категории для фильтрации
          in: query
          name: category_id
          schema:
            type: integer
        - description: Минимальная цена
          in: query
          name: min_price
          schema:
            type: number
        - description: Максимальная цена
          in: query
          name: max_price
          schema:
            type: number
      responses:
        "200":
          description: Массив кластеров
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.ClusterPoint"
                        type: array
                    type: object
        "400":
          description: Некорректные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Получить кластеры объявлений
      tags:
        - gis
  /api/v1/gis/districts:
    get:
      description: Get all districts with optional filtering
      parameters:
        - description: Country code (e.g., RS)
          in: query
          name: country_code
          schema:
            type: string
        - description: City ID
          in: query
          name: city_id
          schema:
            type: string
        - description: City IDs (comma-separated)
          in: query
          name: city_ids
          style: form
          explode: false
          schema:
            type: array
            items:
              type: string
        - description: District name (partial match)
          in: query
          name: name
          schema:
            type: string
      responses:
        "200":
          description: List of districts
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.District"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get districts
      tags:
        - gis
  "/api/v1/gis/districts/{id}":
    get:
      description: Get a single district by its ID
      parameters:
        - description: District ID
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: District details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.District"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: District not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get district by ID
      tags:
        - gis
  "/api/v1/gis/districts/{id}/boundary":
    get:
      description: Get district boundary as GeoJSON polygon for map visualization
      parameters:
        - description: District ID
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: District boundary
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.DistrictBoundaryResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: District not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get district boundary
      tags:
        - gis
  /api/v1/gis/geocode/cache/cleanup:
    post:
      description: Удаляет устаревшие записи из кэша геокодирования
      responses:
        "200":
          description: Количество удаленных записей
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          format: int64
                          type: integer
                        type: object
                    type: object
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Очистка устаревшего кэша
      tags:
        - gis
  /api/v1/gis/geocode/cache/stats:
    get:
      description: Возвращает статистику использования кэша геокодирования
      responses:
        "200":
          description: Статистика кэша
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Статистика кэша геокодирования
      tags:
        - gis
  /api/v1/gis/geocode/multilingual:
    post:
      description: Получает адреса по координатам на трех языках (сербский,
        английский, русский)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.MultilingualGeocodeRequest"
        description: Координаты
        required: true
      responses:
        "200":
          description: Адреса на разных языках
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.MultilingualGeocodeResponse"
                    type: object
        "400":
          description: Ошибка валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Многоязычное обратное геокодирование
      tags:
        - gis
  /api/v1/gis/geocode/reverse:
    get:
      description: Получает адрес по координатам
      parameters:
        - description: Широта
          in: query
          name: lat
          required: true
          schema:
            type: number
            minimum: -90
            maximum: 90
        - description: Долгота
          in: query
          name: lng
          required: true
          schema:
            type: number
            minimum: -180
            maximum: 180
        - description: Язык ответа
          in: query
          name: language
          schema:
            type: string
            default: '"en"'
      responses:
        "200":
          description: Найденный адрес
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.AddressSuggestion"
                    type: object
        "400":
          description: Ошибка валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Обратное геокодирование
      tags:
        - gis
  /api/v1/gis/geocode/suggestions:
    get:
      description: Возвращает список предложений адресов для автодополнения
      parameters:
        - description: Поисковый запрос
          in: query
          name: q
          required: true
          schema:
            type: string
            minLength: 2
        - description: Лимит результатов
          in: query
          name: limit
          schema:
            type: integer
            default: 5
        - description: Язык ответа
          in: query
          name: language
          schema:
            type: string
            default: '"en"'
        - description: Код страны для фильтрации
          in: query
          name: country_code
          schema:
            type: string
      responses:
        "200":
          description: Список предложений
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.AddressSuggestion"
                        type: array
                    type: object
        "400":
          description: Ошибка валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Поиск предложений адресов
      tags:
        - gis
  /api/v1/gis/geocode/validate:
    post:
      description: Проверяет и возвращает геокодированные данные для указанного адреса
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.GeocodeValidateRequest"
        description: Запрос валидации
        required: true
      responses:
        "200":
          description: Результат валидации
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.GeocodeValidateResponse"
                    type: object
        "400":
          description: Ошибка валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Валидация геокодирования адреса
      tags:
        - gis
  /api/v1/gis/heatmap:
    get:
      description: Возвращает точки с весами для построения тепловой карты
      parameters:
        - description: Границы видимой области (south,west,north,east)
          in: query
          name: bounds
          required: true
          schema:
            type: string
        - description: Метрика для веса (price, views, density)
          in: query
          name: metric
          schema:
            type: string
            default: density
      responses:
        "200":
          description: Данные для тепловой карты
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          additionalProperties: true
                          type: object
                        type: array
                    type: object
        "400":
          description: Некорректные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Получить данные для тепловой карты
      tags:
        - gis
  "/api/v1/gis/listings/{id}/address":
    put:
      description: Обновляет геолокацию и адрес объявления с полной валидацией и
        логированием
      parameters:
        - description: ID объявления
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.UpdateAddressRequest"
        description: Данные для обновления
        required: true
      responses:
        "200":
          description: Обновленные геоданные
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.EnhancedListingGeo"
                    type: object
        "400":
          description: Ошибка валидации
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Нет прав доступа
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Объявление не найдено
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновление адреса объявления с валидацией
      tags:
        - gis
  "/api/v1/gis/listings/{id}/location":
    get:
      description: Получение координат и адреса объявления
      parameters:
        - description: ID объявления
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Геоданные объявления
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.GeoListing"
                    type: object
        "400":
          description: Некорректный ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Объявление не найдено
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Получение геоданных объявления
      tags:
        - GIS
    put:
      description: Обновление координат и адреса объявления
      parameters:
        - description: ID объявления
          in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.UpdateLocationRequest"
        description: Новые координаты и адрес
        required: true
      responses:
        "200":
          description: Успешное обновление
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Некорректные данные
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Нет прав на изменение
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Объявление не найдено
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновление геолокации объявления
      tags:
        - GIS
  /api/v1/gis/municipalities:
    get:
      description: Get all municipalities with optional filtering
      parameters:
        - description: Country code (e.g., RS)
          in: query
          name: country_code
          schema:
            type: string
        - description: District ID
          in: query
          name: district_id
          schema:
            type: string
        - description: Municipality name (partial match)
          in: query
          name: name
          schema:
            type: string
      responses:
        "200":
          description: List of municipalities
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.Municipality"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get municipalities
      tags:
        - gis
  "/api/v1/gis/municipalities/{id}":
    get:
      description: Get a single municipality by its ID
      parameters:
        - description: Municipality ID
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Municipality details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.Municipality"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Municipality not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get municipality by ID
      tags:
        - gis
  /api/v1/gis/nearby:
    get:
      description: Получение объявлений в радиусе от заданной точки
      parameters:
        - description: Широта
          in: query
          name: lat
          required: true
          schema:
            type: number
        - description: Долгота
          in: query
          name: lng
          required: true
          schema:
            type: number
        - description: Радиус поиска в километрах (по умолчанию 5)
          in: query
          name: radius_km
          schema:
            type: number
        - description: Количество результатов (по умолчанию 200, максимум 5000)
          in: query
          name: limit
          schema:
            type: integer
      responses:
        "200":
          description: Ближайшие объявления
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.SearchResponse"
                    type: object
        "400":
          description: Некорректные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Получение ближайших объявлений
      tags:
        - GIS
  /api/v1/gis/search:
    get:
      description: Поиск объявлений с учетом геолокации, фильтров и сортировки
      parameters:
        - description: "Границы поиска в формате: north,south,east,west"
          in: query
          name: bounds
          schema:
            type: string
        - description: "Центр поиска в формате: lat,lng"
          in: query
          name: center
          schema:
            type: string
        - description: Радиус поиска в километрах
          in: query
          name: radius_km
          schema:
            type: number
        - description: Категории объявлений
          in: query
          name: categories
          style: form
          explode: false
          schema:
            type: array
            items: {}
        - description: Минимальная цена
          in: query
          name: min_price
          schema:
            type: number
        - description: Максимальная цена
          in: query
          name: max_price
          schema:
            type: number
        - description: Валюта
          in: query
          name: currency
          schema:
            type: string
        - description: Текстовый поиск
          in: query
          name: q
          schema:
            type: string
        - description: Поле сортировки (distance, price, created_at)
          in: query
          name: sort_by
          schema:
            type: string
        - description: Порядок сортировки (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
        - description: Количество результатов
          in: query
          name: limit
          schema:
            type: integer
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: Результаты поиска
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.SearchResponse"
                    type: object
        "400":
          description: Некорректные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Пространственный поиск объявлений
      tags:
        - GIS
  "/api/v1/gis/search/by-district/{district_id}":
    get:
      description: Search for listings within a specific district
      parameters:
        - description: District ID
          in: path
          name: district_id
          required: true
          schema:
            type: string
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: string
        - description: Minimum price
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price
          in: query
          name: max_price
          schema:
            type: number
        - description: "Limit results (default: 1000, max: 5000)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.GeoListing"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: District not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search listings by district
      tags:
        - gis
  "/api/v1/gis/search/by-municipality/{municipality_id}":
    get:
      description: Search for listings within a specific municipality
      parameters:
        - description: Municipality ID
          in: path
          name: municipality_id
          required: true
          schema:
            type: string
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: string
        - description: Minimum price
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price
          in: query
          name: max_price
          schema:
            type: number
        - description: "Limit results (default: 1000, max: 5000)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset for pagination
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/types.GeoListing"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Municipality not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search listings by municipality
      tags:
        - gis
  /api/v1/gis/search/radius:
    get:
      description: Поиск объявлений в заданном радиусе от точки с детальными фильтрами
      parameters:
        - description: Широта центра поиска
          in: query
          name: latitude
          required: true
          schema:
            type: number
        - description: Долгота центра поиска
          in: query
          name: longitude
          required: true
          schema:
            type: number
        - description: Радиус поиска в метрах
          in: query
          name: radius
          required: true
          schema:
            type: number
        - description: Категории объявлений
          in: query
          name: categories
          style: form
          explode: false
          schema:
            type: array
            items: {}
        - description: ID категорий
          in: query
          name: category_ids
          style: form
          explode: false
          schema:
            type: array
            items: {}
        - description: Минимальная цена
          in: query
          name: min_price
          schema:
            type: number
        - description: Максимальная цена
          in: query
          name: max_price
          schema:
            type: number
        - description: Валюта
          in: query
          name: currency
          schema:
            type: string
        - description: Текстовый поиск
          in: query
          name: q
          schema:
            type: string
        - description: Поле сортировки (distance, price, created_at)
          in: query
          name: sort_by
          schema:
            type: string
        - description: Порядок сортировки (asc, desc)
          in: query
          name: sort_order
          schema:
            type: string
        - description: Количество результатов (по умолчанию 1000, максимум 5000)
          in: query
          name: limit
          schema:
            type: integer
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: Результаты радиусного поиска
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/types.RadiusSearchResponse"
                    type: object
        "400":
          description: Некорректные параметры
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Радиусный поиск объявлений
      tags:
        - GIS
  "/api/v1/import/jobs/{jobId}":
    get:
      description: Get detailed information about an import job including errors
      parameters:
        - description: Job ID
          in: path
          name: jobId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Import job details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJob"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get import job details
      tags:
        - b2c_stores
        - import
  "/api/v1/import/jobs/{jobId}/cancel":
    post:
      description: Cancel a running import job
      parameters:
        - description: Job ID
          in: path
          name: jobId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Job canceled successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Cancel import job
      tags:
        - b2c_stores
        - import
  "/api/v1/import/jobs/{jobId}/retry":
    post:
      description: Retry a failed import job
      parameters:
        - description: Job ID
          in: path
          name: jobId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: New import job created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJob"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Retry import job
      tags:
        - b2c_stores
        - import
  "/api/v1/import/jobs/{jobId}/status":
    get:
      description: Get current status of an import job
      parameters:
        - description: Job ID
          in: path
          name: jobId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Import job status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.ImportJobStatus"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Job not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get import job status
      tags:
        - b2c_stores
        - import
  /api/v1/marketplace/admin/attribute-groups:
    get:
      description: Returns all attribute groups
      responses:
        "200":
          description: List of attribute groups
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeGroupsResponse"
                    type: object
        "500":
          description: marketplace.listGroupsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: List attribute groups
      tags:
        - marketplace-admin-attribute-groups
    post:
      responses:
        "400":
          description: marketplace.invalidRequest or marketplace.groupNameRequired
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createGroupError
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
  "/api/v1/marketplace/admin/attribute-groups/{id}":
    delete:
      description: Deletes an attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.groupDeleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attribute group
      tags:
        - marketplace-admin-attribute-groups
    get:
      description: Returns information about a specific attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute group information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeGroupResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.groupNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute group
      tags:
        - marketplace-admin-attribute-groups
    put:
      description: Updates an existing attribute group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdateAttributeGroupRequest"
        description: Updated group data
        required: true
      responses:
        "200":
          description: marketplace.groupUpdated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update attribute group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/attribute-groups/{id}/items":
    get:
      description: Returns attribute group with all its attributes
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Group with items
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeGroupWithItemsData"
                    type: object
        "400":
          description: marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.groupNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getGroupItemsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attribute group with items
      tags:
        - marketplace-admin-attribute-groups
    post:
      description: Adds an attribute to a group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AddItemToGroupRequest"
        description: Attribute data
        required: true
      responses:
        "201":
          description: Item added successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.addItemError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add attribute to group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/attribute-groups/{id}/items/{attributeId}":
    delete:
      description: Removes an attribute from a group
      parameters:
        - description: Group ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Attribute ID
          in: path
          name: attributeId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.itemRemoved
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidGroupId or marketplace.invalidAttributeId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeItemError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove attribute from group
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/categories/{id}/groups":
    get:
      description: Returns attribute groups attached to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Category groups
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeGroupsResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getCategoryGroupsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get category attribute groups
      tags:
        - marketplace-admin-attribute-groups
    post:
      description: Attaches an attribute group to a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.AttachGroupToCategoryRequest"
        description: Group attachment data
        required: true
      responses:
        "201":
          description: Group attached successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.attachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Attach group to category
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/admin/categories/{id}/groups/{groupId}":
    delete:
      description: Detaches an attribute group from a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Group ID
          in: path
          name: groupId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: marketplace.groupDetached
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId or marketplace.invalidGroupId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.detachGroupError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Detach group from category
      tags:
        - marketplace-admin-attribute-groups
  "/api/v1/marketplace/attachments/{id}":
    delete:
      description: Deletes an attachment (only by the message sender)
      parameters:
        - description: Attachment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidAttachmentId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.deleteAttachmentForbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteAttachmentError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete attachment
      tags:
        - marketplace-chat
    get:
      description: Returns information about a specific attachment
      parameters:
        - description: Attachment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ChatAttachment"
                    type: object
        "400":
          description: marketplace.invalidAttachmentId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.accessDenied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.attachmentNotFound or marketplace.messageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get attachment info
      tags:
        - marketplace-chat
  "/api/v1/marketplace/attachments/{id}/download":
    get:
      description: Downloads an attachment file with authorization check
      parameters:
        - description: Attachment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: File content
        "400":
          description: marketplace.invalidAttachmentId
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.accessDenied
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.attachmentNotFound
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Download attachment file
      tags:
        - marketplace-chat
  /api/v1/marketplace/categories:
    get:
      description: Returns all marketplace categories
      parameters:
        - description: Language code (e.g., 'sr', 'en', 'ru')
          in: query
          name: lang
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceCategory"
                        type: array
                    type: object
        "500":
          description: marketplace.categoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get categories list
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/{category_id}/keywords":
    get:
      description: Возвращает список ключевых слов с весами для указанной категории
      parameters:
        - description: ID категории
          in: path
          name: category_id
          required: true
          schema:
            type: integer
        - description: Язык (ru, en, sr)
          in: query
          name: language
          schema:
            type: string
      responses:
        "200":
          description: Список ключевых слов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.CategoryKeywordResponse"
                        type: array
                    type: object
        "404":
          description: Категория не найдена
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Получить ключевые слова категории
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/{id}/attribute-ranges":
    get:
      description: Returns min/max values for numeric attributes in a category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AttributeRangesResponse"
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.rangesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get attribute value ranges
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/{id}/attributes":
    get:
      description: Returns all attributes available for a specific category
      parameters:
        - description: Category ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Language code (e.g., 'sr', 'en', 'ru')
          in: query
          name: lang
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryAttribute"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidCategoryId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.attributesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get category attributes
      tags:
        - marketplace-categories
  /api/v1/marketplace/categories/detect:
    post:
      description: Использует комбинированный подход с ключевыми словами и similarity search
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_c2c_handler.DetectCategoryReq\
                uest"
        description: Данные для определения категории
        required: true
      responses:
        "200":
          description: Результат определения категории
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.DetectCategoryResponse"
                    type: object
        "400":
          description: Недостаточно данных
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Определить категорию по ключевым словам и атрибутам
      tags:
        - marketplace-categories
  "/api/v1/marketplace/categories/detect/{stats_id}/confirm":
    put:
      description: Обновляет статистику для улучшения алгоритма
      parameters:
        - description: ID записи статистики
          in: path
          name: stats_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.UpdateConfirmationRequest"
        description: Данные подтверждения
        required: true
      responses:
        "200":
          description: Успешное обновление
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: boolean
                        type: object
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Подтвердить или исправить выбор категории
      tags:
        - marketplace-categories
  /api/v1/marketplace/category-suggestions:
    get:
      description: Returns category suggestions based on query
      parameters:
        - description: Search query
          in: query
          name: query
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Category suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategorySuggestion"
                        type: array
                    type: object
        "400":
          description: marketplace.queryRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.categorySuggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get category suggestions
      tags:
        - marketplace-search
  /api/v1/marketplace/category-tree:
    get:
      description: Returns hierarchical tree of all categories with caching
      parameters:
        - description: Language code (e.g., 'sr', 'en', 'ru')
          in: query
          name: lang
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.CategoryTreeNode"
                        type: array
                    type: object
        "500":
          description: marketplace.categoryTreeError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get category tree
      tags:
        - marketplace-categories
  /api/v1/marketplace/chat:
    get:
      description: Returns all chats where the user is a participant
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceChat"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getChatsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user's chats
      tags:
        - marketplace-chat
  /api/v1/marketplace/chat/messages:
    get:
      description: Returns paginated messages from a chat
      parameters:
        - description: Chat ID
          in: query
          name: chat_id
          schema:
            type: string
        - description: Listing ID
          in: query
          name: listing_id
          schema:
            type: string
        - description: Receiver ID for direct messages
          in: query
          name: receiver_id
          schema:
            type: string
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ChatMessagesResponse"
                    type: object
        "400":
          description: marketplace.invalidChatId or marketplace.invalidListingId or
            marketplace.chatParamsRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getMessagesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get chat messages
      tags:
        - marketplace-chat
  "/api/v1/marketplace/chat/messages/{id}/translation":
    get:
      description: Translates a chat message to the specified language
      parameters:
        - description: Message ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Target language code (ru, en, sr)
          in: query
          name: lang
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.TranslationResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Translate a specific message
      tags:
        - marketplace-chat
  "/api/v1/marketplace/chats/{chat_id}/archive":
    post:
      description: Archives a chat for the user
      parameters:
        - description: Chat ID
          in: path
          name: chat_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidChatId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.archiveChatError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Archive chat
      tags:
        - marketplace-chat
  /api/v1/marketplace/enhance-images:
    post:
      description: Enhances multiple images for a marketplace listing using AI processing
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                listing_id:
                  description: Listing ID
                  type: integer
                enhancement_type:
                  description: Enhancement type
                  type: string
                  default: quality
              required:
                - listing_id
        required: true
      responses:
        "200":
          description: Enhancement job started
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.EnhanceImagesResponse"
                    type: object
        "400":
          description: marketplace.invalidId or marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound or marketplace.imageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.enhanceError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Enhance listing images
      tags:
        - marketplace-images
  /api/v1/marketplace/enhance-preview:
    post:
      description: Creates a preview of an enhanced image before applying changes
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                image_id:
                  description: Image ID to enhance
                  type: integer
                enhancement_type:
                  description: Enhancement type
                  type: string
                  default: quality
              required:
                - image_id
        required: true
      responses:
        "200":
          description: Enhancement preview
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.EnhancePreviewResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.enhanceError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create image enhancement preview
      tags:
        - marketplace-images
  /api/v1/marketplace/enhanced-suggestions:
    get:
      description: Returns enhanced suggestions with categories and products
      parameters:
        - description: Search query
          in: query
          name: query
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Enhanced suggestions
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: marketplace.queryRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get enhanced search suggestions
      tags:
        - marketplace-search
  /api/v1/marketplace/favorites:
    get:
      description: Returns all listings marked as favorites by the user
      responses:
        "200":
          description: List of favorite listings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user's favorite listings
      tags:
        - marketplace-favorites
  "/api/v1/marketplace/favorites/{id}":
    delete:
      description: Removes a listing from user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Removed from favorites
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.removeFromFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Remove listing from favorites
      tags:
        - marketplace-favorites
    post:
      description: Adds a listing to user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Added to favorites
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.addToFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add listing to favorites
      tags:
        - marketplace-favorites
  "/api/v1/marketplace/favorites/{id}/check":
    get:
      description: Checks if a specific listing is in user's favorites
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Favorite status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.FavoriteStatusData"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.checkFavoritesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check if listing is in favorites
      tags:
        - marketplace-favorites
  /api/v1/marketplace/favorites/count:
    get:
      description: Returns the total number of listings in user's favorites
      responses:
        "200":
          description: Favorites count
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.FavoritesCountData"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getFavoritesCountError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get favorites count
      tags:
        - marketplace-favorites
  /api/v1/marketplace/fuzzy-search:
    get:
      description: Performs search with customizable fuzzy matching parameters
      parameters:
        - description: Search query
          in: query
          name: query
          required: true
          schema:
            type: string
        - description: Fuzziness level (AUTO, 0, 1, 2)
          in: query
          name: fuzziness
          schema:
            type: string
            default: AUTO
        - description: Minimum should match (e.g., 30%, 2)
          in: query
          name: minimum_should_match
          schema:
            type: string
            default: 30%
        - description: Use synonym expansion
          in: query
          name: use_synonyms
          schema:
            type: boolean
            default: true
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: string
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.SearchResponse"
        "400":
          description: marketplace.queryRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search with custom fuzzy parameters
      tags:
        - marketplace-search
  "/api/v1/marketplace/images/{id}":
    delete:
      description: Deletes an image from a marketplace listing
      parameters:
        - description: Image ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Image deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete listing image
      tags:
        - marketplace-images
  /api/v1/marketplace/listings:
    get:
      description: Returns paginated list of listings with optional filters
      parameters:
        - description: Search query
          in: query
          name: query
          schema:
            type: string
        - description: Category ID filter
          in: query
          name: category_id
          schema:
            type: integer
        - description: Condition filter (new, used, etc.)
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
        - description: Sort order (price_asc, price_desc, date_desc, etc.)
          in: query
          name: sort_by
          schema:
            type: string
        - description: User ID filter
          in: query
          name: user_id
          schema:
            type: integer
        - description: Storefront ID filter
          in: query
          name: storefront_id
          schema:
            type: integer
        - description: Exclude storefront products (for admin P2P listings)
          in: query
          name: exclude_b2c_stores
          schema:
            type: boolean
        - description: Number of items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Number of items to skip
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Listings list with pagination
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ListingsResponse"
                    type: object
        "500":
          description: marketplace.listError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listings list
      tags:
        - marketplace-listings
    post:
      description: Creates a new marketplace listing with attributes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.MarketplaceListing"
        description: Listing data
        required: true
      responses:
        "200":
          description: Listing created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.IDMessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: marketplace.duplicateTitle
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create new listing
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}":
    delete:
      description: Deletes a marketplace listing. Only the owner can delete
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Listing deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete listing
      tags:
        - marketplace-listings
    get:
      description: Returns detailed information about a specific listing including
        attributes and images
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Listing details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.MarketplaceListing"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listing details
      tags:
        - marketplace-listings
    put:
      description: Updates an existing marketplace listing. Only the owner can update
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.MarketplaceListing"
        description: Updated listing data
        required: true
      responses:
        "200":
          description: Listing updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update listing
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}/images":
    post:
      description: Uploads multiple images for a marketplace listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Image files to upload
                  type: string
                  format: binary
                main_image_index:
                  description: Index of the main image
                  type: integer
              required:
                - file
        required: true
      responses:
        "200":
          description: Images uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ImagesUploadResponse"
                    type: object
        "400":
          description: marketplace.invalidData or marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.uploadError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload listing images
      tags:
        - marketplace-images
  "/api/v1/marketplace/listings/{id}/price-history":
    get:
      description: Returns price history for a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Price history entries
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PriceHistoryEntry"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.priceHistoryError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listing price history
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/{id}/similar":
    get:
      description: Returns listings similar to a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Number of similar listings
          in: query
          name: limit
          schema:
            type: integer
            default: 5
      responses:
        "200":
          description: Similar listings list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.similarListingsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get similar listings
      tags:
        - marketplace-search
  "/api/v1/marketplace/listings/{id}/status":
    patch:
      description: Updates the status of a marketplace listing (active/inactive). Only
        the owner can update
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Status update data
        required: true
      responses:
        "200":
          description: Status updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update listing status
      tags:
        - marketplace-listings
  /api/v1/marketplace/listings/check-slug:
    post:
      description: Checks if a slug is available for use and suggests alternatives if not
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Slug to check
        required: true
      responses:
        "200":
          description: Slug availability status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Check slug availability
      tags:
        - marketplace-listings
  "/api/v1/marketplace/listings/slug/{slug}":
    get:
      description: Returns detailed information about a specific listing by URL slug
        including attributes and images
      parameters:
        - description: Listing slug
          in: path
          name: slug
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Listing details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.MarketplaceListing"
                    type: object
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listing details by slug
      tags:
        - marketplace-listings
  /api/v1/marketplace/map/bounds:
    get:
      description: Returns all listings within the specified geographical bounds
      parameters:
        - description: Northeast latitude
          in: query
          name: ne_lat
          required: true
          schema:
            type: number
        - description: Northeast longitude
          in: query
          name: ne_lng
          required: true
          schema:
            type: number
        - description: Southwest latitude
          in: query
          name: sw_lat
          required: true
          schema:
            type: number
        - description: Southwest longitude
          in: query
          name: sw_lng
          required: true
          schema:
            type: number
        - description: Map zoom level
          in: query
          name: zoom
          schema:
            type: integer
            default: 10
        - description: Comma-separated category IDs
          in: query
          name: categories
          schema:
            type: string
        - description: Item condition filter
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
        - description: JSON object with attribute filters
          in: query
          name: attributes
          schema:
            type: string
      responses:
        "200":
          description: Listings within bounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.MapBoundsResponse"
        "400":
          description: marketplace.invalidBounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.mapError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listings in bounds
      tags:
        - marketplace-map
  /api/v1/marketplace/map/clusters:
    get:
      description: Returns clustered listings data for efficient map rendering
      parameters:
        - description: Northeast latitude
          in: query
          name: ne_lat
          required: true
          schema:
            type: number
        - description: Northeast longitude
          in: query
          name: ne_lng
          required: true
          schema:
            type: number
        - description: Southwest latitude
          in: query
          name: sw_lat
          required: true
          schema:
            type: number
        - description: Southwest longitude
          in: query
          name: sw_lng
          required: true
          schema:
            type: number
        - description: Map zoom level
          in: query
          name: zoom
          schema:
            type: integer
            default: 10
        - description: Comma-separated category IDs
          in: query
          name: categories
          schema:
            type: string
        - description: Item condition filter
          in: query
          name: condition
          schema:
            type: string
        - description: Minimum price filter
          in: query
          name: min_price
          schema:
            type: number
        - description: Maximum price filter
          in: query
          name: max_price
          schema:
            type: number
        - description: JSON object with attribute filters
          in: query
          name: attributes
          schema:
            type: string
      responses:
        "200":
          description: Map clusters or markers data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.MapClustersResponse"
        "400":
          description: marketplace.invalidBounds
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.mapError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get map clusters
      tags:
        - marketplace-map
  /api/v1/marketplace/messages:
    post:
      description: Sends a new message to a chat
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateMessageRequest"
        description: Message data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.MarketplaceMessage"
                    type: object
        "400":
          description: marketplace.invalidRequest or marketplace.receiverRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.sendMessageError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Send chat message
      tags:
        - marketplace-chat
  "/api/v1/marketplace/messages/{id}/attachments":
    post:
      description: Uploads attachments for a chat message
      parameters:
        - description: Message ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  description: Files to upload
                  type: string
                  format: binary
              required:
                - files
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ChatAttachment"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidMessageId or marketplace.noFilesUploaded or
            marketplace.tooManyFiles
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.messageNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.uploadAttachmentsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload message attachments
      tags:
        - marketplace-chat
  /api/v1/marketplace/messages/read:
    post:
      description: Marks specified messages as read
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.MarkAsReadRequest"
        description: Message IDs to mark as read
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.markAsReadError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Mark messages as read
      tags:
        - marketplace-chat
  /api/v1/marketplace/messages/unread:
    get:
      description: Returns the number of unread messages for the user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.UnreadCountData"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getUnreadCountError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get unread messages count
      tags:
        - marketplace-chat
  /api/v1/marketplace/moderate-image:
    post:
      description: Checks an uploaded image for prohibited content using AI moderation
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: Image file to moderate
                  type: string
                  format: binary
              required:
                - file
        required: true
      responses:
        "200":
          description: Moderation results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ImageModerationResponse"
                    type: object
        "400":
          description: marketplace.invalidFile or marketplace.fileTooLarge
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.adminRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.moderationError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Moderate image content
      tags:
        - marketplace-images
  /api/v1/marketplace/my-listings:
    get:
      description: Returns all listings created by the authenticated user
      parameters:
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Offset
          in: query
          name: offset
          schema:
            type: integer
            default: 0
        - description: Filter by status (active, sold, draft)
          in: query
          name: status
          schema:
            type: string
      responses:
        "200":
          description: User's listings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.listError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get my listings
      tags:
        - marketplace
  /api/v1/marketplace/neighborhood-stats:
    get:
      description: Get statistics about listings in user's neighborhood
      parameters:
        - description: Center latitude
          in: query
          name: lat
          schema:
            type: number
        - description: Center longitude
          in: query
          name: lon
          schema:
            type: number
        - description: Radius in kilometers (default 5)
          in: query
          name: radius
          schema:
            type: number
      responses:
        "200":
          description: Statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.NeighborhoodStatsResponse"
                    type: object
        "500":
          description: marketplace.statsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get neighborhood statistics
      tags:
        - marketplace
  "/api/v1/marketplace/orders/{id}":
    get:
      description: Get detailed information about specific order
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Order details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.MarketplaceOrder"
                    type: object
      summary: Get order details
      tags:
        - orders
  "/api/v1/marketplace/orders/{id}/confirm-delivery":
    post:
      description: Confirm order delivery by buyer
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Delivery confirmed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Confirm order delivery
      tags:
        - orders
  "/api/v1/marketplace/orders/{id}/confirm-payment":
    post:
      description: Confirm order payment (for mock payment provider)
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.ConfirmPaymentRequest"
        description: Payment confirmation
        required: true
      responses:
        "200":
          description: Payment confirmed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Confirm order payment
      tags:
        - orders
  "/api/v1/marketplace/orders/{id}/dispute":
    post:
      description: Open dispute for order
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.OpenDisputeRequest"
        description: Dispute reason
        required: true
      responses:
        "200":
          description: Dispute opened
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Open order dispute
      tags:
        - orders
  "/api/v1/marketplace/orders/{id}/message":
    post:
      description: Add message to order conversation
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.AddMessageRequest"
        description: Message content
        required: true
      responses:
        "200":
          description: Message added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Add message to order
      tags:
        - orders
  "/api/v1/marketplace/orders/{id}/ship":
    post:
      description: Mark order as shipped by seller
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.MarkAsShippedRequest"
        description: Shipping details
        required: true
      responses:
        "200":
          description: Order marked as shipped
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Mark order as shipped
      tags:
        - orders
  /api/v1/marketplace/orders/create:
    post:
      description: Creates a new order for marketplace listing with payment preauthorization
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CreateMarketplaceOrderRequest"
        description: Order details
        required: true
      responses:
        "200":
          description: Order created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create marketplace order
      tags:
        - orders
  /api/v1/marketplace/orders/my/purchases:
    get:
      description: Get list of orders where current user is buyer
      parameters:
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Orders list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Get my purchases
      tags:
        - orders
  /api/v1/marketplace/orders/my/sales:
    get:
      description: Get list of orders where current user is seller
      parameters:
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Orders list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
      summary: Get my sales
      tags:
        - orders
  /api/v1/marketplace/popular-categories:
    get:
      description: Returns most popular categories by active listings count
      parameters:
        - description: Language code (e.g., 'sr', 'en', 'ru')
          in: query
          name: lang
          schema:
            type: string
        - description: "Limit of categories to return (default: 7)"
          in: query
          name: limit
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceCategory"
                        type: array
                    type: object
        "500":
          description: marketplace.categoriesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get popular categories
      tags:
        - marketplace-categories
  /api/v1/marketplace/recommendations:
    get:
      description: Get recommendations based on type and category without authentication
      parameters:
        - description: Recommendation type (trending, new, similar, recommended)
          in: query
          name: type
          schema:
            type: string
            default: trending
        - description: Category filter
          in: query
          name: category
          schema:
            type: string
        - description: Current item ID (for similar recommendations)
          in: query
          name: item_id
          schema:
            type: integer
        - description: Number of results
          in: query
          name: limit
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Recommendations
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
      summary: Get public recommendations
      tags:
        - marketplace-search
  /api/v1/marketplace/saved-searches:
    get:
      description: Returns all saved searches for the user
      responses:
        "200":
          description: List of saved searches
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.SavedSearchResponse"
                        type: array
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getSavedSearchesError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user's saved searches
      tags:
        - marketplace-saved-searches
    post:
      description: Creates a new saved search for the user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CreateSavedSearchRequest"
        description: Saved search data
        required: true
      responses:
        "200":
          description: Created saved search
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.SavedSearchResponse"
                    type: object
        "400":
          description: marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.createSavedSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create saved search
      tags:
        - marketplace-saved-searches
  "/api/v1/marketplace/saved-searches/{id}":
    delete:
      description: Deletes a saved search
      parameters:
        - description: Saved search ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.savedSearchNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.deleteSavedSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete saved search
      tags:
        - marketplace-saved-searches
    get:
      description: Returns a specific saved search
      parameters:
        - description: Saved search ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Saved search details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.SavedSearchResponse"
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.savedSearchNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getSavedSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get saved search by ID
      tags:
        - marketplace-saved-searches
    put:
      description: Updates a saved search
      parameters:
        - description: Saved search ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.UpdateSavedSearchRequest"
        description: Update data
        required: true
      responses:
        "200":
          description: Updated saved search
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.SavedSearchResponse"
                    type: object
        "400":
          description: marketplace.invalidRequest
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.savedSearchNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateSavedSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update saved search
      tags:
        - marketplace-saved-searches
  "/api/v1/marketplace/saved-searches/{id}/execute":
    get:
      description: Executes a saved search and returns the results
      parameters:
        - description: Saved search ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.savedSearchNotFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.executeSavedSearchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Execute saved search
      tags:
        - marketplace-saved-searches
  /api/v1/marketplace/search:
    get:
      description: Performs advanced search with filters, facets, and suggestions
      requestBody:
        $ref: "#/components/requestBodies/search.ServiceParams"
      responses:
        "200":
          description: Search results with metadata
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.SearchResponse"
        "500":
          description: marketplace.searchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Advanced search for listings
      tags:
        - marketplace-search
    post:
      description: Performs advanced search with filters, facets, and suggestions
      requestBody:
        $ref: "#/components/requestBodies/search.ServiceParams"
      responses:
        "200":
          description: Search results with metadata
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.SearchResponse"
        "500":
          description: marketplace.searchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Advanced search for listings
      tags:
        - marketplace-search
  /api/v1/marketplace/suggestions:
    get:
      description: Returns autocomplete suggestions based on prefix
      parameters:
        - description: Search prefix
          in: query
          name: prefix
          required: true
          schema:
            type: string
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: Suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          type: string
                        type: array
                    type: object
        "400":
          description: marketplace.prefixRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get search suggestions
      tags:
        - marketplace-search
  /api/v1/marketplace/test-fuzzy-search:
    get:
      description: Tests fuzzy search with synonyms expansion
      parameters:
        - description: Search query
          in: query
          name: query
          required: true
          schema:
            type: string
        - description: Language
          in: query
          name: lang
          schema:
            type: string
            default: ru
      responses:
        "200":
          description: Test results
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.FuzzySearchTestResponse"
                    type: object
        "400":
          description: marketplace.queryRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Test fuzzy search functionality
      tags:
        - marketplace-search
  "/api/v1/marketplace/translations/{id}":
    get:
      description: Retrieves all translations for a specific listing, optionally
        filtered by language
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Language filter
          in: query
          name: language
          schema:
            type: string
      responses:
        "200":
          description: Translations retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Translation"
                        type: array
                    type: object
        "400":
          description: marketplace.invalidId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.getTranslationsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get listing translations
      tags:
        - marketplace-translations
    put:
      description: Updates translations for a specific listing with support for
        different providers
      parameters:
        - description: Listing ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Translation provider (google, openai)
          in: query
          name: translation_provider
          schema:
            type: string
            default: google
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.TranslationUpdateRequest"
        description: Translation data
        required: true
      responses:
        "200":
          description: Translations updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_c2c_handler.MessageResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: marketplace.authRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: marketplace.forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: marketplace.notFound
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.updateTranslationError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update listing translations
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/batch-translate:
    post:
      description: Translates multiple listings to the specified target language using
        the selected provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.BatchTranslateRequest"
        description: Batch translation request
        required: true
      responses:
        "200":
          description: Batch translation started successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.BatchTranslateData"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Batch translate listings
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/detect-language:
    post:
      description: Automatically detects the language of the provided text
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.DetectLanguageRequest"
        description: Text for language detection
        required: true
      responses:
        "200":
          description: Language detected successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.DetectedLanguageData"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.detectLanguageError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Detect text language
      tags:
        - marketplace-translations
  /api/v1/marketplace/translations/translate:
    post:
      description: Translates text from source language to target language using
        specified provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.TranslateTextRequest"
        description: Translation request
        required: true
      responses:
        "200":
          description: Text translated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TranslatedTextData"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.translateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Translate text
      tags:
        - marketplace-translations
  /api/v1/notifications:
    get:
      description: Возвращает список уведомлений пользователя с пагинацией
      parameters:
        - description: Количество записей
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: Список уведомлений
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Notification"
                        type: array
                    type: object
        "500":
          description: notifications.getError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить уведомления
      tags:
        - notifications
  "/api/v1/notifications/{id}/read":
    put:
      description: Отмечает уведомление как прочитанное
      parameters:
        - description: ID уведомления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Уведомление отмечено как прочитанное
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.NotificationMarkReadResponse"
                    type: object
        "400":
          description: validation.invalidNotificationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: notifications.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Отметить как прочитанное
      tags:
        - notifications
  /api/v1/notifications/email/public:
    post:
      description: Отправляет email сообщение с публичной формы контактов
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Данные формы
        required: true
      responses:
        "200":
          description: Email отправлен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.PublicEmailSendResponse"
                    type: object
        "400":
          description: validation.invalidDataFormat или validation.allFieldsRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: email.sendError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Отправить email с формы обратной связи
      tags:
        - notifications
  /api/v1/notifications/settings:
    get:
      description: Возвращает настройки уведомлений пользователя для всех типов
      responses:
        "200":
          description: Настройки уведомлений
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.NotificationSettingsResponse"
                    type: object
      security:
        - BearerAuth: []
      summary: Получить настройки уведомлений
      tags:
        - notifications
    put:
      description: Обновляет настройки уведомлений для конкретного типа
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Настройки
        required: true
      responses:
        "200":
          description: Настройки обновлены
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.NotificationSettingsUpdateResponse"
                    type: object
        "400":
          description: validation.invalidDataFormat
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: notifications.updateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Обновить настройки уведомлений
      tags:
        - notifications
  /api/v1/notifications/telegram/connect:
    post:
      description: Связывает аккаунт пользователя с Telegram для получения уведомлений
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Данные для подключения
        required: true
      responses:
        "200":
          description: Telegram подключен
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TelegramConnectResponse"
                    type: object
        "400":
          description: validation.invalidDataFormat
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: telegram.connectionError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Подключить Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/status:
    get:
      description: Проверяет, подключен ли Telegram к аккаунту пользователя
      responses:
        "200":
          description: Статус подключения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TelegramStatusResponse"
                    type: object
        "401":
          description: auth.unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Статус подключения Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/token:
    get:
      description: Генерирует токен для связывания аккаунта с Telegram ботом
      responses:
        "200":
          description: Токен для подключения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TelegramTokenResponse"
                    type: object
        "500":
          description: notifications.tokenGenerateError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить токен для Telegram
      tags:
        - notifications
  /api/v1/notifications/telegram/webhook:
    post:
      description: Обрабатывает входящие обновления от Telegram бота
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tgbotapi.Update"
        description: Telegram update
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TelegramWebhookResponse"
                    type: object
      summary: Telegram webhook
      tags:
        - notifications
  /api/v1/orders:
    get:
      description: Gets a list of orders for the authenticated user
      parameters:
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Filter by status
          in: query
          name: status
          schema:
            type: string
        - description: Filter by storefront
          in: query
          name: storefront_id
          schema:
            type: integer
      responses:
        "200":
          description: User orders
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.StorefrontOrder"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user orders
      tags:
        - orders
    post:
      description: Creates a new order from cart items or direct items
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateOrderRequest"
        description: Order data
        required: true
      responses:
        "201":
          description: Created order
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.StorefrontOrder"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: Insufficient stock
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create new order
      tags:
        - orders
  "/api/v1/orders/{id}":
    get:
      description: Gets detailed information about a specific order
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Order details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.StorefrontOrder"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get order details
      tags:
        - orders
  "/api/v1/orders/{id}/cancel":
    put:
      description: Cancels an existing order if it's in a cancellable state
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CancelOrderRequest"
        description: Cancellation reason
        required: true
      responses:
        "200":
          description: Canceled order
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.StorefrontOrder"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Access denied
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: Order cannot be canceled
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Cancel order
      tags:
        - orders
  "/api/v1/orders/{id}/payment":
    post:
      description: Создает новый платеж для заказа через платежную систему
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CreateOrderPaymentRequest"
        description: Order payment details
        required: true
      responses:
        "200":
          description: Payment session created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.CreateOrderPaymentResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Create Order Payment
      tags:
        - order-payments
  "/api/v1/orders/{id}/payment/cancel":
    post:
      description: Отменяет платеж заказа
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Payment canceled successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order or payment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Cancel Order Payment
      tags:
        - order-payments
  "/api/v1/orders/{id}/payment/status":
    get:
      description: Получает текущий статус платежа заказа
      parameters:
        - description: Order ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Payment status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PaymentSession"
                    type: object
        "400":
          description: Invalid order ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Order or payment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get Order Payment Status
      tags:
        - order-payments
  /api/v1/payments/stripe/webhook:
    post:
      description: Processes webhook notifications from Stripe about payment status
      parameters:
        - description: Stripe signature for webhook verification
          in: header
          name: Stripe-Signature
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.StripeWebhookRequest"
        description: Stripe webhook payload
        required: true
      responses:
        "200":
          description: Webhook processed successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.WebhookResponse"
                    type: object
        "400":
          description: payments.webhook.invalid_signature or
            payments.webhook.processing_error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Process payment webhook
      tags:
        - payments
  /api/v1/postexpress/calculate-rate:
    post:
      description: Рассчитать стоимость доставки Post Express
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_postexpress_models.CalculateR\
                ateRequest"
        description: Параметры для расчета стоимости
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_postexpress_models.CalculateR\
                          ateResponse"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Calculate delivery rate
      tags:
        - PostExpress
  /api/v1/postexpress/health:
    get:
      description: Проверяет доступность и состояние сервиса Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
      summary: Health check для Post Express
      tags:
        - PostExpress
  "/api/v1/postexpress/locations/{id}":
    get:
      description: Получить информацию о населенном пункте по ID
      parameters:
        - description: ID населенного пункта
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressLocation"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get location
      tags:
        - PostExpress
  /api/v1/postexpress/locations/search:
    get:
      description: Поиск населенных пунктов Post Express
      parameters:
        - description: Поисковый запрос
          in: query
          name: q
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PostExpressLocation"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Search locations
      tags:
        - PostExpress
  /api/v1/postexpress/locations/sync:
    post:
      description: Синхронизировать населенные пункты с API Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync locations
      tags:
        - PostExpress
  /api/v1/postexpress/offices:
    get:
      description: Получить список почтовых отделений для населенного пункта
      parameters:
        - description: ID населенного пункта
          in: query
          name: location_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PostExpressOffice"
                        type: array
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get offices
      tags:
        - PostExpress
  "/api/v1/postexpress/offices/{code}":
    get:
      description: Получить информацию о почтовом отделении по коду
      parameters:
        - description: Код отделения
          in: path
          name: code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressOffice"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get office
      tags:
        - PostExpress
  /api/v1/postexpress/offices/sync:
    post:
      description: Синхронизировать почтовые отделения с API Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync offices
      tags:
        - PostExpress
  /api/v1/postexpress/rates:
    get:
      description: Получить список тарифов доставки Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.PostExpressRate"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get delivery rates
      tags:
        - PostExpress
  /api/v1/postexpress/settings:
    get:
      description: Получить текущие настройки интеграции с Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressSettings"
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get Post Express settings
      tags:
        - PostExpress
    put:
      description: Обновить настройки интеграции с Post Express
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.PostExpressSettings"
        description: Настройки Post Express
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressSettings"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update Post Express settings
      tags:
        - PostExpress
  /api/v1/postexpress/shipments:
    get:
      description: Получить список отправлений с фильтрацией и пагинацией
      parameters:
        - description: Статус отправления
          in: query
          name: status
          schema:
            type: string
        - description: Дата от (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата до (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
        - description: Город получателя
          in: query
          name: city
          schema:
            type: string
        - description: Номер страницы
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Размер страницы
          in: query
          name: page_size
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: object
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: List shipments
      tags:
        - PostExpress
    post:
      description: Создать новое отправление Post Express
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/backend_internal_proj_postexpress_models.CreateShip\
                mentRequest"
        description: Данные для создания отправления
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressShipment"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create shipment
      tags:
        - PostExpress
  "/api/v1/postexpress/shipments/{id}":
    get:
      description: Получить информацию об отправлении по ID
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PostExpressShipment"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get shipment
      tags:
        - PostExpress
  "/api/v1/postexpress/shipments/{id}/cancel":
    post:
      description: Отменить отправление
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/Request"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Cancel shipment
      tags:
        - PostExpress
  "/api/v1/postexpress/shipments/{id}/invoice":
    get:
      description: Получить накладную отправления в формате PDF
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: PDF накладная
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        "400":
          description: Bad Request
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get shipment invoice
      tags:
        - PostExpress
  "/api/v1/postexpress/shipments/{id}/label":
    get:
      description: Получить этикетку отправления в формате PDF
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: PDF этикетка
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        "400":
          description: Bad Request
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/pdf:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get shipment label
      tags:
        - PostExpress
  "/api/v1/postexpress/shipments/{id}/status":
    put:
      description: Обновить статус отправления
      parameters:
        - description: ID отправления
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: Новый статус
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update shipment status
      tags:
        - PostExpress
  /api/v1/postexpress/statistics/shipments:
    get:
      description: Получить статистику отправлений с фильтрами
      parameters:
        - description: Дата от (YYYY-MM-DD)
          in: query
          name: date_from
          schema:
            type: string
        - description: Дата до (YYYY-MM-DD)
          in: query
          name: date_to
          schema:
            type: string
        - description: Группировка (day, week, month)
          in: query
          name: group_by
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_postexpress_storage.ShipmentS\
                          tatistics"
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get shipment statistics
      tags:
        - PostExpress
  "/api/v1/postexpress/statistics/warehouse/{id}":
    get:
      description: Получить статистику склада
      parameters:
        - description: ID склада
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/storage.WarehouseStatistics"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get warehouse statistics
      tags:
        - PostExpress
  /api/v1/postexpress/test/config:
    get:
      description: Get current Post Express configuration (without password) for
        testing page
      responses:
        "200":
          description: Configuration
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
      summary: Get Post Express test config
      tags:
        - post-express-test
  /api/v1/postexpress/test/history:
    get:
      description: Get history of test shipments (mock data for demo)
      responses:
        "200":
          description: Test shipments history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/handler.TestShipmentResponse"
                        type: array
                    type: object
      summary: Get test shipments history
      tags:
        - post-express-test
  /api/v1/postexpress/test/shipment:
    post:
      description: Create a test shipment using Post Express WSP API for visual testing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.TestShipmentRequest"
        description: Test shipment request
        required: true
      responses:
        "200":
          description: Test shipment result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TestShipmentResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create test shipment
      tags:
        - post-express-test
  "/api/v1/postexpress/track/{tracking}":
    get:
      description: Получить события отслеживания отправления по трекинг-номеру
      parameters:
        - description: Трекинг-номер
          in: path
          name: tracking
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/backend_internal_proj_postexpress_models.TrackingEv\
                            ent"
                        type: array
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Track shipment
      tags:
        - PostExpress
  /api/v1/postexpress/track/sync:
    post:
      description: Синхронизировать статусы всех активных отправлений с Post Express
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Sync all active shipments
      tags:
        - PostExpress
  /api/v1/postexpress/warehouse:
    get:
      description: Получить список всех активных складов
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.Warehouse"
                        type: array
                    type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get warehouses
      tags:
        - PostExpress
  "/api/v1/postexpress/warehouse/{code}":
    get:
      description: Получить информацию о складе по коду
      parameters:
        - description: Код склада
          in: path
          name: code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Warehouse"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get warehouse
      tags:
        - PostExpress
  /api/v1/postexpress/warehouse/pickup-orders:
    post:
      description: Создать заказ на самовывоз со склада
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreatePickupOrderRequest"
        description: Данные для создания заказа на самовывоз
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.WarehousePickupOrder"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create pickup order
      tags:
        - PostExpress
  "/api/v1/postexpress/warehouse/pickup-orders/{id}":
    get:
      description: Получить информацию о заказе на самовывоз по ID
      parameters:
        - description: ID заказа на самовывоз
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.WarehousePickupOrder"
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get pickup order
      tags:
        - PostExpress
  "/api/v1/postexpress/warehouse/pickup-orders/{id}/cancel":
    post:
      description: Отменить заказ на самовывоз
      parameters:
        - description: ID заказа на самовывоз
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/Request"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Cancel pickup order
      tags:
        - PostExpress
  "/api/v1/postexpress/warehouse/pickup-orders/{id}/confirm":
    post:
      description: Подтвердить выдачу заказа со склада
      parameters:
        - description: ID заказа на самовывоз
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: Данные подтверждения
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Confirm pickup
      tags:
        - PostExpress
  "/api/v1/postexpress/warehouse/pickup-orders/code/{code}":
    get:
      description: Получить информацию о заказе на самовывоз по коду
      parameters:
        - description: Код самовывоза
          in: path
          name: code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.WarehousePickupOrder"
                    type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get pickup order by code
      tags:
        - PostExpress
  /api/v1/product-variant-attributes:
    get:
      description: Returns list of all product variant attributes
      responses:
        "200":
          description: List of variant attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ProductVariantAttribute"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get product variant attributes
      tags:
        - marketplace-variant-attributes
  "/api/v1/products/{id}/delivery-attributes":
    get:
      description: Get delivery attributes for a product
      parameters:
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Product type (listing or storefront_product)
          in: query
          name: type
          schema:
            type: string
            default: listing
      responses:
        "200":
          description: Product attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.DeliveryAttributes"
                    type: object
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get product delivery attributes
      tags:
        - delivery
    put:
      description: Update delivery attributes for a product
      parameters:
        - description: Product ID
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: Product type (listing or storefront_product)
          in: query
          name: type
          schema:
            type: string
            default: listing
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.DeliveryAttributes"
        description: Delivery attributes
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update product delivery attributes
      tags:
        - delivery
  "/api/v1/public/b2c_stores/{slug}/products/{product_id}":
    get:
      description: Public endpoint for getting basic product information - no
        authentication required
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.StorefrontProduct"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get product information (public endpoint)
      tags:
        - public-variants
  "/api/v1/public/b2c_stores/{slug}/products/{product_id}/variants":
    get:
      description: Public endpoint for getting product variants - no authentication required
      parameters:
        - description: Storefront slug
          in: path
          name: slug
          required: true
          schema:
            type: string
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/types.ProductVariant"
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get product variants for buyers (public endpoint)
      tags:
        - public-variants
  "/api/v1/public/categories/{category_id}/attributes":
    get:
      description: Public endpoint for getting all attributes that can be used for
        products in a specific category - no authentication required
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get available attributes for a category (public endpoint)
      tags:
        - public-variants
  "/api/v1/public/variants/{variant_id}":
    get:
      description: Public endpoint for getting specific variant details - no
        authentication required
      parameters:
        - description: Variant ID
          in: path
          name: variant_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/types.ProductVariant"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get variant by ID (public endpoint)
      tags:
        - public-variants
  /api/v1/public/variants/attributes:
    get:
      description: Public endpoint for getting all available variant attributes - no
        authentication required
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/types.ProductVariantAttribute"
                type: array
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get all variant attributes (public endpoint)
      tags:
        - public-variants
  "/api/v1/public/variants/attributes/{attribute_id}/values":
    get:
      description: Public endpoint for getting all possible values for a specific
        variant attribute - no authentication required
      parameters:
        - description: Attribute ID
          in: path
          name: attribute_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/types.ProductVariantAttributeValue"
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get values for a variant attribute (public endpoint)
      tags:
        - public-variants
  /api/v1/recommendations:
    post:
      description: Get recommendations based on type and category
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/recommendations.RecommendationRequest"
        description: Recommendation request
        required: true
      responses:
        "200":
          description: Recommendations
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get recommendations
      tags:
        - recommendations
  /api/v1/recommendations/view-history:
    get:
      description: Get view history for the current user
      parameters:
        - description: Limit
          in: query
          name: limit
          schema:
            type: integer
        - description: Offset
          in: query
          name: offset
          schema:
            type: integer
      responses:
        "200":
          description: View history
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.MarketplaceListing"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get view history
      tags:
        - recommendations
    post:
      description: Add a view history entry for the current user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/recommendations.ViewHistoryRequest"
        description: View history request
        required: true
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Add view history
      tags:
        - recommendations
  "/api/v1/recommendations/view-statistics/{listing_id}":
    get:
      description: Get view statistics for a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: listing_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: View statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/recommendations.ViewStatistics"
                    type: object
      summary: Get view statistics
      tags:
        - recommendations
  /api/v1/reviews:
    get:
      description: Returns paginated list of reviews with filters
      parameters:
        - description: Entity type filter
          in: query
          name: entity_type
          schema:
            type: string
        - description: Entity ID filter
          in: query
          name: entity_id
          schema:
            type: integer
        - description: User ID filter
          in: query
          name: user_id
          schema:
            type: integer
        - description: Minimum rating filter
          in: query
          name: min_rating
          schema:
            type: integer
        - description: Maximum rating filter
          in: query
          name: max_rating
          schema:
            type: integer
        - description: Status filter
          in: query
          name: status
          schema:
            type: string
            default: published
        - description: Sort by field
          in: query
          name: sort_by
          schema:
            type: string
            default: date
        - description: Sort order
          in: query
          name: sort_order
          schema:
            type: string
            default: desc
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: List of reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewsListResponse"
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get reviews list
      tags:
        - reviews
  "/api/v1/reviews/{id}":
    delete:
      description: Deletes a review by its author
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Review deleted successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid review ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Delete review
      tags:
        - reviews
    get:
      description: Returns a single review by its ID
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Review details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Review"
                    type: object
        "400":
          description: Invalid review ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get review by ID
      tags:
        - reviews
    put:
      description: Updates an existing review by its author
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.Review"
        description: Updated review data
        required: true
      responses:
        "200":
          description: Review updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update review
      tags:
        - reviews
  "/api/v1/reviews/{id}/confirm":
    post:
      description: Allows seller to confirm or dispute a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateReviewConfirmationRequest"
        description: Confirmation request
        required: true
      responses:
        "200":
          description: Review confirmed successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Not authorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Confirm review
      tags:
        - reviews
  "/api/v1/reviews/{id}/dispute":
    post:
      description: Creates a dispute for a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateReviewDisputeRequest"
        description: Dispute request
        required: true
      responses:
        "200":
          description: Dispute created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Dispute review
      tags:
        - reviews
  "/api/v1/reviews/{id}/photos":
    post:
      description: Uploads photos for an existing review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        $ref: "#/components/requestBodies/postApiV1Reviews_id_photos"
      responses:
        "200":
          description: Photos uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.PhotosResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload review photos
      tags:
        - reviews
  "/api/v1/reviews/{id}/publish":
    post:
      description: Publishes a draft review and sends notifications (step 2 of 2)
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Published review
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Review"
                    type: object
        "400":
          description: Invalid review ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Publish a draft review
      tags:
        - reviews
  "/api/v1/reviews/{id}/response":
    post:
      description: Adds a response from the listing owner to a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.ResponseRequest"
        description: Response data
        required: true
      responses:
        "200":
          description: Response added successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Add response to review
      tags:
        - reviews
  "/api/v1/reviews/{id}/vote":
    post:
      description: Adds a helpful or unhelpful vote to a review
      parameters:
        - description: Review ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.VoteRequest"
        description: Vote data
        required: true
      responses:
        "200":
          description: Vote recorded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewMessageResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Review not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Vote for a review
      tags:
        - reviews
  "/api/v1/reviews/can-review/{type}/{id}":
    get:
      description: Checks if the current user can leave a review for the specified entity
      parameters:
        - description: Entity type (listing, user, storefront)
          in: path
          name: type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Permission check result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CanReviewResponse"
                    type: object
        "400":
          description: Invalid parameters
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check if user can review entity
      tags:
        - reviews
  /api/v1/reviews/draft:
    post:
      description: Creates a new draft review with text content (step 1 of 2)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateReviewRequest"
        description: Review data
        required: true
      responses:
        "200":
          description: Created draft review
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Review"
                    type: object
        "400":
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Listing not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Create a draft review
      tags:
        - reviews
  "/api/v1/reviews/rating/{type}/{id}":
    get:
      description: Returns average rating for a specific entity
      parameters:
        - description: Entity type
          in: path
          name: type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Entity rating
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.RatingResponse"
                    type: object
        "400":
          description: Invalid entity ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get entity rating
      tags:
        - reviews
  /api/v1/reviews/stats:
    get:
      description: Returns review statistics for a specific entity
      parameters:
        - description: Entity type
          in: query
          name: entity_type
          schema:
            type: string
        - description: Entity ID
          in: query
          name: entity_id
          schema:
            type: integer
      responses:
        "200":
          description: Review statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ReviewStats"
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get review statistics
      tags:
        - reviews
  "/api/v1/reviews/stats/{type}/{id}":
    get:
      description: Returns detailed review statistics for a specific entity
      parameters:
        - description: Entity type
          in: path
          name: type
          required: true
          schema:
            type: string
        - description: Entity ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Entity review statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ReviewStats"
                    type: object
        "400":
          description: Invalid entity ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get entity review statistics
      tags:
        - reviews
  "/api/v1/reviews/storefront/{id}":
    get:
      description: Returns all reviews for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewsListResponse"
                    type: object
        "400":
          description: Invalid storefront ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront reviews
      tags:
        - reviews
  "/api/v1/reviews/storefront/{id}/rating":
    get:
      description: Returns rating summary for a specific storefront
      parameters:
        - description: Storefront ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Storefront rating summary
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.StorefrontRatingSummary"
                    type: object
        "400":
          description: Invalid storefront ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get storefront rating summary
      tags:
        - reviews
  /api/v1/reviews/upload-photos:
    post:
      description: Uploads photos that will be attached to a new review during creation
      requestBody:
        $ref: "#/components/requestBodies/postApiV1Reviews_id_photos"
      responses:
        "200":
          description: Photos uploaded successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.PhotosResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Upload photos for new review
      tags:
        - reviews
  "/api/v1/reviews/user/{id}":
    get:
      description: Returns all reviews received by a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User reviews
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.ReviewsListResponse"
                    type: object
        "400":
          description: Invalid user ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get user reviews
      tags:
        - reviews
  "/api/v1/reviews/user/{id}/rating":
    get:
      description: Returns rating summary for a specific user
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User rating summary
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserRatingSummary"
                    type: object
        "400":
          description: Invalid user ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get user rating summary
      tags:
        - reviews
  /api/v1/roles:
    get:
      description: Returns all available roles in the system
      responses:
        "200":
          description: List of roles
          content:
            application/json:
              schema:
                items:
                  additionalProperties: true
                  type: object
                type: array
      security:
        - BearerAuth: []
      summary: Get all roles
      tags:
        - roles
  /api/v1/roles/assign:
    post:
      description: Assigns a specific role to a user
      responses:
        "200":
          description: Role assigned successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Assign role to user
      tags:
        - roles
  /api/v1/roles/revoke:
    post:
      description: Revokes a specific role from a user
      responses:
        "200":
          description: Role revoked successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Revoke role from user
      tags:
        - roles
  /api/v1/search:
    get:
      description: Searches both marketplace listings and storefront products
      parameters:
        - description: Search query
          in: query
          name: query
          schema:
            type: string
        - description: Product types to search
          in: query
          name: product_types
          style: form
          explode: false
          schema:
            type: array
            items:
              enum:
                - marketplace
                - storefront
              type: string
        - description: Page number
          in: query
          name: page
          schema:
            type: integer
            default: 1
        - description: Items per page
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Category ID
          in: query
          name: category_id
          schema:
            type: string
        - description: Minimum price
          in: query
          name: price_min
          schema:
            type: number
        - description: Maximum price
          in: query
          name: price_max
          schema:
            type: number
        - description: Sort field
          in: query
          name: sort_by
          schema:
            type: string
            enum:
              - relevance
              - price
              - date
              - popularity
        - description: Sort order
          in: query
          name: sort_order
          schema:
            type: string
            enum:
              - asc
              - desc
        - description: Storefront ID filter
          in: query
          name: storefront_id
          schema:
            type: integer
        - description: City filter
          in: query
          name: city
          schema:
            type: string
        - description: Language
          in: query
          name: language
          schema:
            type: string
            default: ru
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.UnifiedSearchParams"
        description: Search parameters
      responses:
        "200":
          description: Search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/handler.UnifiedSearchResult"
        "400":
          description: search.invalidParams
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: search.searchError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Unified search across all product types
      tags:
        - search
  /api/v1/search/config:
    get:
      description: Get general search configuration settings
      responses:
        "200":
          description: Search configuration
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchConfig"
                    type: object
        "404":
          description: Configuration not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get search configuration
      tags:
        - search-config
    put:
      description: Update general search configuration settings
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.SearchConfig"
        description: Search configuration
        required: true
      responses:
        "200":
          description: Updated configuration
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchConfig"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update search configuration
      tags:
        - search-config
  /api/v1/search/config/synonyms:
    get:
      description: Get all synonyms for search terms with pagination
      parameters:
        - description: "Language code (default: ru)"
          in: query
          name: language
          schema:
            type: string
        - description: "Page number (default: 1)"
          in: query
          name: page
          schema:
            type: integer
        - description: "Items per page (default: 20)"
          in: query
          name: limit
          schema:
            type: integer
        - description: Search term
          in: query
          name: search
          schema:
            type: string
      responses:
        "200":
          description: Paginated list of synonyms
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get search synonyms
      tags:
        - search-config
    post:
      description: Create synonym mapping for search terms
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.SearchSynonym"
        description: Synonym configuration
        required: true
      responses:
        "201":
          description: Created synonym
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchSynonym"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create search synonym
      tags:
        - search-config
  "/api/v1/search/config/synonyms/{id}":
    delete:
      description: Delete synonym mapping
      parameters:
        - description: Synonym ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Synonym deleted successfully
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Synonym not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Delete search synonym
      tags:
        - search-config
    put:
      description: Update synonym mapping for search terms
      parameters:
        - description: Synonym ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.SearchSynonym"
        description: Updated synonym configuration
        required: true
      responses:
        "200":
          description: Updated synonym
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchSynonym"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Synonym not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update search synonym
      tags:
        - search-config
  /api/v1/search/config/transliteration:
    get:
      description: Get all transliteration rules for search
      responses:
        "200":
          description: List of transliteration rules
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/domain.TransliterationRule"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get transliteration rules
      tags:
        - search-config
    post:
      description: Create new transliteration rule for search
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.TransliterationRule"
        description: Transliteration rule
        required: true
      responses:
        "201":
          description: Created rule
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.TransliterationRule"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create transliteration rule
      tags:
        - search-config
  "/api/v1/search/config/transliteration/{id}":
    delete:
      description: Delete transliteration rule
      parameters:
        - description: Rule ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Rule deleted successfully
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Rule not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Delete transliteration rule
      tags:
        - search-config
    put:
      description: Update existing transliteration rule
      parameters:
        - description: Rule ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.TransliterationRule"
        description: Updated rule
        required: true
      responses:
        "200":
          description: Updated rule
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.TransliterationRule"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Rule not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update transliteration rule
      tags:
        - search-config
  /api/v1/search/config/weights:
    get:
      description: Get weights for all searchable fields
      responses:
        "200":
          description: List of search weights
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/domain.SearchWeight"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get all search field weights
      tags:
        - search-config
    post:
      description: Create weight configuration for a search field
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.SearchWeight"
        description: Weight configuration
        required: true
      responses:
        "201":
          description: Created weight
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchWeight"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create new search weight
      tags:
        - search-config
  "/api/v1/search/config/weights/{field}":
    get:
      description: Get weight configuration for a specific search field
      parameters:
        - description: Field name
          in: path
          name: field
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Search weight details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchWeight"
                    type: object
        "404":
          description: Weight not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get weight for specific field
      tags:
        - search-config
  "/api/v1/search/config/weights/{id}":
    delete:
      description: Delete weight configuration for a search field
      parameters:
        - description: Weight ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Weight deleted successfully
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Weight not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Delete search weight
      tags:
        - search-config
    put:
      description: Update weight configuration for a search field
      parameters:
        - description: Weight ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/domain.SearchWeight"
        description: Updated weight configuration
        required: true
      responses:
        "200":
          description: Updated weight
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/domain.SearchWeight"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Weight not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Update search weight
      tags:
        - search-config
  /api/v1/search/statistics:
    get:
      description: Get recent search statistics
      parameters:
        - description: "Limit results (default: 100)"
          in: query
          name: limit
          schema:
            type: integer
      responses:
        "200":
          description: Search statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/domain.SearchStatistics"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get search statistics
      tags:
        - search-config
  /api/v1/search/statistics/popular:
    get:
      description: Get most popular search queries from last 7 days
      parameters:
        - description: "Limit results (default: 10)"
          in: query
          name: limit
          schema:
            type: integer
      responses:
        "200":
          description: Popular searches
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          additionalProperties: true
                          type: object
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get popular searches
      tags:
        - search-config
  /api/v1/search/suggestions:
    get:
      description: Returns autocomplete suggestions with types (search, product, category)
      parameters:
        - description: Search query (alias for prefix)
          in: query
          name: q
          schema:
            type: string
        - description: Search prefix
          in: query
          name: prefix
          schema:
            type: string
        - description: Number of suggestions (alias for size)
          in: query
          name: limit
          schema:
            type: integer
            default: 10
        - description: Number of suggestions
          in: query
          name: size
          schema:
            type: integer
            default: 10
        - description: "Comma-separated types: queries,categories,products"
          in: query
          name: types
          schema:
            type: string
            default: '"queries,categories,products"'
      responses:
        "200":
          description: Search suggestions list
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.UnifiedSuggestion"
                        type: array
                    type: object
        "400":
          description: marketplace.prefixRequired
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: marketplace.suggestionsError
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get search suggestions
      tags:
        - search
  /api/v1/shipments:
    post:
      description: Create a new shipment with selected provider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/service.CreateShipmentRequest"
        description: Shipment request
        required: true
      responses:
        "200":
          description: Created shipment
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Shipment"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Create shipment
      tags:
        - delivery
  "/api/v1/shipments/{id}":
    delete:
      description: Cancel an existing shipment
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CancelRequest"
        description: Cancel reason
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Cannot cancel
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Cancel shipment
      tags:
        - delivery
    get:
      description: Get shipment information by ID
      parameters:
        - description: Shipment ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Shipment info
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.Shipment"
                    type: object
        "404":
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get shipment
      tags:
        - delivery
  "/api/v1/shipments/track/{tracking}":
    get:
      description: Track shipment by tracking number
      parameters:
        - description: Tracking number
          in: path
          name: tracking
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Tracking info
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.TrackingInfo"
                    type: object
        "404":
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Track shipment
      tags:
        - delivery
  "/api/v1/storefront/categories/{category_id}/attributes":
    get:
      description: Returns all attributes that can be used for products in a specific
        category
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get available attributes for a category
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/attributes":
    get:
      description: Returns all configured attributes for a seller's product
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get configured attributes for a product
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variant-matrix":
    get:
      description: Returns all possible variant combinations and existing variants
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/types.VariantMatrixResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get variant matrix for a product
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variants":
    get:
      description: Returns all variants for a specific product
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get variants for a product
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variants/analytics":
    get:
      description: Returns analytics data for product variants
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/types.VariantAnalyticsResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get variant analytics
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variants/bulk-update-stock":
    post:
      description: Updates stock quantities for multiple variants at once
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.BulkUpdateStockRequest"
        description: Stock updates
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Bulk update stock quantities
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variants/export":
    get:
      description: Exports all variants of a product to CSV format
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            text/csv:
              schema:
                type: string
                format: binary
        "400":
          description: Bad Request
          content:
            text/csv:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            text/csv:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Export variants to CSV
      tags:
        - variants
  "/api/v1/storefront/products/{product_id}/variants/import":
    post:
      description: Imports multiple variants from a CSV file
      parameters:
        - description: Product ID
          in: path
          name: product_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: CSV file
                  type: string
                  format: binary
              required:
                - file
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Import variants from CSV
      tags:
        - variants
  /api/v1/storefront/products/attributes/setup:
    post:
      description: Allows seller to configure which attributes to use and add custom values
      requestBody:
        content:
          application/json:
            schema: {}
        description: Attribute configuration
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Configure attributes for a product
      tags:
        - variants
  /api/v1/storefront/variants:
    post:
      description: Creates a new variant for an existing product
      requestBody:
        content:
          application/json:
            schema: {}
        description: Variant data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema: {}
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Create a new product variant
      tags:
        - variants
  "/api/v1/storefront/variants/{variant_id}":
    delete:
      description: Soft deletes a variant by setting is_active to false
      parameters:
        - description: Variant ID
          in: path
          name: variant_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Delete a variant
      tags:
        - variants
    get:
      description: Returns a specific variant with all details including images
      parameters:
        - description: Variant ID
          in: path
          name: variant_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema: {}
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get variant by ID
      tags:
        - variants
    put:
      description: Updates an existing variant's information
      parameters:
        - description: Variant ID
          in: path
          name: variant_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/types.UpdateVariantRequest"
        description: Updated variant data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/types.ProductVariant"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Update a variant
      tags:
        - variants
  /api/v1/storefront/variants/attributes:
    get:
      description: Returns all available variant attributes (color, size, etc.)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get all variant attributes
      tags:
        - variants
  "/api/v1/storefront/variants/attributes/{attribute_id}/values":
    get:
      description: Returns all possible values for a specific variant attribute
      parameters:
        - description: Attribute ID
          in: path
          name: attribute_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get values for a variant attribute
      tags:
        - variants
  /api/v1/storefront/variants/bulk:
    post:
      description: Creates multiple variants for a product in a single request
      requestBody:
        content:
          application/json:
            schema: {}
        description: Bulk creation data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Create multiple variants at once
      tags:
        - variants
  /api/v1/storefront/variants/generate:
    post:
      description: Automatically generates all possible variants based on attribute matrix
      requestBody:
        content:
          application/json:
            schema: {}
        description: Generation parameters
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                items: {}
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Auto-generate variants for a product
      tags:
        - variants
  /api/v1/subscriptions:
    post:
      description: Create new subscription for user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CreateSubscriptionRequest"
        description: Create subscription request
        required: true
      responses:
        "200":
          description: Created subscription
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserSubscription"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "409":
          description: User already has subscription
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Create subscription
      tags:
        - subscriptions
  /api/v1/subscriptions/cancel:
    post:
      description: Cancel current subscription
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: Cancellation reason
      responses:
        "200":
          description: Subscription canceled
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      message:
                        type: string
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Subscription not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Cancel subscription
      tags:
        - subscriptions
  /api/v1/subscriptions/check-limits:
    post:
      description: Check if user can use a resource within subscription limits
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.CheckLimitRequest"
        description: Check limit request
        required: true
      responses:
        "200":
          description: Limit check result
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.CheckLimitResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Check subscription limits
      tags:
        - subscriptions
  /api/v1/subscriptions/complete-payment:
    post:
      description: Complete payment process after returning from payment gateway
      parameters:
        - description: Payment intent ID
          in: query
          name: payment_intent
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Payment completed
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserSubscription"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Complete payment for subscription
      tags:
        - subscriptions
  /api/v1/subscriptions/current:
    get:
      description: Get current user's subscription details
      responses:
        "200":
          description: Current subscription
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserSubscriptionInfo"
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Get current subscription
      tags:
        - subscriptions
  /api/v1/subscriptions/initiate-payment:
    post:
      description: Initiate payment process for subscription plan
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.InitiatePaymentRequest"
        description: Payment initiation request
        required: true
      responses:
        "200":
          description: Payment initiation response
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/service.PaymentInitiationResponse"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Initiate payment for subscription
      tags:
        - subscriptions
  /api/v1/subscriptions/plans:
    get:
      description: Get all available subscription plans
      responses:
        "200":
          description: List of plans
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.SubscriptionPlanDetails"
                        type: array
                    type: object
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get subscription plans
      tags:
        - subscriptions
  /api/v1/subscriptions/upgrade:
    post:
      description: Upgrade existing subscription to a new plan
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpgradeSubscriptionRequest"
        description: Upgrade subscription request
        required: true
      responses:
        "200":
          description: Upgraded subscription
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserSubscription"
                    type: object
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Subscription not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Upgrade subscription
      tags:
        - subscriptions
  "/api/v1/tracking/{token}":
    get:
      description: Retrieves delivery details using tracking token
      parameters:
        - description: Tracking token
          in: path
          name: token
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Delivery information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/tracking.Delivery"
                    type: object
        "400":
          description: Invalid token
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Delivery not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get delivery information by tracking token
      tags:
        - tracking
  /api/v1/tracking/connections:
    get:
      description: Returns the number of active WebSocket connections per delivery
      responses:
        "200":
          description: Active connections
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          type: integer
                        type: object
                    type: object
      summary: Get WebSocket connections statistics
      tags:
        - tracking
  /api/v1/translation/limits:
    get:
      description: Returns current usage limits and statistics for the translation service
      responses:
        "200":
          description: Translation limits retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.TranslationLimitsData"
                    type: object
      summary: Get translation limits
      tags:
        - marketplace-translations
  /api/v1/translation/provider:
    post:
      description: Sets the default translation provider for the user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.SetProviderRequest"
        description: Provider configuration (google, openai)
        required: true
      responses:
        "200":
          description: Translation provider set successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.SetProviderResponse"
                    type: object
        "400":
          description: marketplace.invalidData
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Set translation provider
      tags:
        - marketplace-translations
  /api/v1/unified/listings:
    get:
      description: Возвращает объединенный список C2C объявлений и B2C товаров
      parameters:
        - description: "Тип источника: all, c2c, b2c"
          in: query
          name: source_type
          schema:
            type: string
            default: all
        - description: ID категории
          in: query
          name: category_id
          schema:
            type: integer
        - description: Минимальная цена
          in: query
          name: min_price
          schema:
            type: number
        - description: Максимальная цена
          in: query
          name: max_price
          schema:
            type: number
        - description: "Состояние: new, used, refurbished"
          in: query
          name: condition
          schema:
            type: string
        - description: Текстовый поиск
          in: query
          name: query
          schema:
            type: string
        - description: ID витрины (только для B2C)
          in: query
          name: storefront_id
          schema:
            type: integer
        - description: Лимит
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.UnifiedListingsResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get unified listings (C2C + B2C)
      tags:
        - unified
  "/api/v1/unified/listings/{id}":
    get:
      description: Получить unified listing по ID и типу (c2c или b2c)
      parameters:
        - description: ID объявления/товара
          in: path
          name: id
          required: true
          schema:
            type: integer
        - description: "Тип источника: c2c, b2c"
          in: query
          name: source_type
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/models.UnifiedListing"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
      summary: Get unified listing by ID
      tags:
        - unified
  /api/v1/user/carts:
    get:
      description: Gets all shopping carts for the authenticated user across all b2c_stores
      responses:
        "200":
          description: User's carts
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.ShoppingCart"
                        type: array
                    type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get all user carts
      tags:
        - cart
  "/api/v1/users/{id}/aggregated-rating":
    get:
      description: Returns aggregated rating for a user including breakdown by sources
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Aggregated rating
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.AggregatedRating"
                    type: object
        "400":
          description: Invalid user ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get user aggregated rating
      tags:
        - reviews
  "/api/v1/users/{id}/profile":
    get:
      description: Returns public information about user by ID
      parameters:
        - description: User ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Public user profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.PublicUserResponse"
                    type: object
        "400":
          description: users.profile.error.invalid_id
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: users.profile.error.not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get public user profile
      tags:
        - users
  "/api/v1/users/{userId}/roles":
    get:
      description: Returns all roles assigned to a specific user
      parameters:
        - description: User ID
          in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: User roles
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "404":
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get user roles
      tags:
        - roles
  "/api/v1/users/admin-check/{email}":
    get:
      description: Checks if user with specified email is administrator (simplified
        check by ID)
      parameters:
        - description: User email
          in: path
          name: email
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Admin status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.AdminCheckResponse"
                    type: object
        "400":
          description: users.admin_check.error.email_required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: users.admin_check.error.user_not_found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Check admin status (simple)
      tags:
        - users
  /api/v1/users/chat-settings:
    get:
      description: Returns chat settings for the authenticated user
      responses:
        "200":
          description: Chat settings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ChatUserSettings"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: users.chat.error.fetch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get chat settings
      tags:
        - users
    put:
      description: Updates chat settings for the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.ChatUserSettings"
        description: Chat settings
        required: true
      responses:
        "200":
          description: Settings updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.ChatUserSettings"
                    type: object
        "400":
          description: users.chat.error.invalid_data or users.chat.error.invalid_language
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: users.chat.error.update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update chat settings
      tags:
        - users
  /api/v1/users/me:
    get:
      description: Returns full profile of the authenticated user
      responses:
        "200":
          description: User profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.UserProfile"
                    type: object
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: users.profile.error.fetch
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Get current user profile
      tags:
        - users
    put:
      description: Updates profile of the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UserProfileUpdate"
        description: Profile update data
        required: true
      responses:
        "200":
          description: Profile updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_users_handler.MessageResponse"
                    type: object
        "400":
          description: users.profile.error.invalid_data or users.profile.error.validation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: users.profile.error.update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update user profile
      tags:
        - users
  /api/v1/users/privacy-settings:
    put:
      description: Updates privacy settings for the authenticated user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UpdatePrivacySettingsRequest"
        description: Privacy settings
        required: true
      responses:
        "200":
          description: Settings updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/backend_internal_proj_users_handler.MessageResponse"
                    type: object
        "400":
          description: users.privacy.error.invalid_data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: auth.required
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: users.privacy.error.update
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Update privacy settings
      tags:
        - users
  /api/v1/vin/auto-fill:
    post:
      description: Декодирует VIN и возвращает данные для автозаполнения формы
        создания объявления
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: string
              type: object
        description: VIN номер
        required: true
      responses:
        "200":
          description: Данные для автозаполнения
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Автозаполнение данных из VIN
      tags:
        - vin
  /api/v1/vin/decode:
    post:
      description: Декодирует VIN номер и возвращает информацию об автомобиле
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.VINDecodeRequest"
        description: VIN для декодирования
        required: true
      responses:
        "200":
          description: Успешное декодирование
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Декодировать VIN номер
      tags:
        - vin
  /api/v1/vin/history:
    get:
      description: Возвращает историю проверок VIN для текущего пользователя
      parameters:
        - description: Фильтр по конкретному VIN
          in: query
          name: vin
          schema:
            type: string
        - description: Лимит записей
          in: query
          name: limit
          schema:
            type: integer
            default: 20
        - description: Смещение
          in: query
          name: offset
          schema:
            type: integer
            default: 0
      responses:
        "200":
          description: История проверок
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить историю проверок VIN
      tags:
        - vin
  "/api/v1/vin/report/{vin}":
    get:
      description: Генерирует и возвращает детальный отчет о VIN в JSON формате
      parameters:
        - description: VIN номер
          in: path
          name: vin
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Отчет о VIN
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: Некорректный VIN
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Экспортировать отчет о VIN
      tags:
        - vin
  /api/v1/vin/stats:
    get:
      description: Возвращает статистику проверок VIN для текущего пользователя
      responses:
        "200":
          description: Статистика
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "401":
          description: Не авторизован
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получить статистику использования VIN декодера
      tags:
        - vin
  "/api/v1/vin/validate/{vin}":
    get:
      description: Проверяет корректность VIN номера без полного декодирования
      parameters:
        - description: VIN номер для проверки
          in: path
          name: vin
          required: true
          schema:
            type: string
      responses:
        "200":
          description: VIN валиден
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: VIN невалиден
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Проверить валидность VIN номера
      tags:
        - vin
  /api/v1/webhooks/orders/payment:
    post:
      description: Обрабатывает webhook уведомления о статусе платежа заказа
      parameters:
        - description: Webhook signature
          in: header
          name: signature
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/Payload"
      responses:
        "200":
          description: Webhook processed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid webhook payload
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Handle Order Payment Webhook
      tags:
        - order-payments
  /api/v2/admin/attributes:
    post:
      description: Create a new unified attribute (Admin only)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UnifiedAttribute"
        description: Attribute data
        required: true
      responses:
        "201":
          description: Created attribute ID
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: integer
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Create a new attribute
      tags:
        - marketplace-attributes-v2-admin
  "/api/v2/admin/attributes/{id}":
    delete:
      description: Delete a unified attribute (Admin only)
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Attribute deleted
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Attribute not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Delete an attribute
      tags:
        - marketplace-attributes-v2-admin
    put:
      description: Update an existing unified attribute (Admin only)
      parameters:
        - description: Attribute ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Fields to update
        required: true
      responses:
        "200":
          description: Attribute updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Attribute not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Update an attribute
      tags:
        - marketplace-attributes-v2-admin
  /api/v2/admin/attributes/feature-status:
    get:
      description: Get current status of feature flags for debugging
      responses:
        "200":
          description: Feature flags status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
      security:
        - Bearer: []
      summary: Get feature flags status for unified attributes
      tags:
        - marketplace-attributes-v2-admin
  "/api/v2/admin/categories/{category_id}/attributes":
    post:
      description: Attach an attribute to a category with specific settings (Admin only)
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/models.UnifiedCategoryAttribute"
        description: Attachment settings with attribute_id
        required: true
      responses:
        "200":
          description: Attribute attached
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Attach attribute to category
      tags:
        - marketplace-attributes-v2-admin
  "/api/v2/marketplace/categories/{category_id}/attributes":
    get:
      description: Get all attributes available for a specific category with unified
        system support
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of category attributes
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.UnifiedAttribute"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get attributes for a category
      tags:
        - marketplace-attributes-v2
  "/api/v2/marketplace/categories/{category_id}/attributes/detailed":
    get:
      description: Get all attributes with their category-specific settings
      parameters:
        - description: Category ID
          in: path
          name: category_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of category attributes with settings
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.UnifiedCategoryAttribute"
                        type: array
                    type: object
        "400":
          description: Invalid category ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get attributes with settings for a category
      tags:
        - marketplace-attributes-v2
  "/api/v2/marketplace/listings/{listing_id}/attributes":
    get:
      description: Get all attribute values for a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: listing_id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: List of attribute values
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        items:
                          $ref: "#/components/schemas/models.UnifiedAttributeValue"
                        type: array
                    type: object
        "400":
          description: Invalid listing ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get attribute values for a listing
      tags:
        - marketplace-attributes-v2
    post:
      description: Save or update attribute values for a specific listing
      parameters:
        - description: Listing ID
          in: path
          name: listing_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties: true
              type: object
        description: Attribute values map (attribute_id -> value)
        required: true
      responses:
        "200":
          description: Values saved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        type: string
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - Bearer: []
      summary: Save attribute values for a listing
      tags:
        - marketplace-attributes-v2
  /api/viber/estimate-cost:
    post:
      description: Estimates the cost of sending a message to a Viber user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/viber.EstimateCostRequest"
        description: Cost estimation request
        required: true
      responses:
        "200":
          description: Estimated cost
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties:
                          format: float64
                          type: number
                        type: object
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Estimation failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Estimate message cost
      tags:
        - viber
  /api/viber/infobip-webhook:
    post:
      description: Processes webhook events from Infobip Viber API
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: Infobip webhook event
        required: true
      responses:
        "200":
          description: Event processed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid event
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Handle Infobip webhook
      tags:
        - viber
  /api/viber/send:
    post:
      description: Sends a text message to a Viber user
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/viber.SendMessageRequest"
        description: Message data
        required: true
      responses:
        "200":
          description: Message sent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Send failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Send message to Viber user
      tags:
        - viber
  /api/viber/send-tracking:
    post:
      description: Sends a rich media message with tracking information
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/viber.SendTrackingRequest"
        description: Tracking data
        required: true
      responses:
        "200":
          description: Notification sent
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Send failed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Send tracking notification
      tags:
        - viber
  /api/viber/stats:
    get:
      description: Returns statistics about Viber bot sessions
      responses:
        "200":
          description: Session statistics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Failed to get statistics
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Get session statistics
      tags:
        - viber
  /api/viber/webhook:
    post:
      description: Processes webhook events from Viber (subscriptions, messages, etc.)
      parameters:
        - description: Viber signature
          in: header
          name: X-Viber-Content-Signature
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
        description: Viber webhook event
        required: true
      responses:
        "200":
          description: Event processed
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid event
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Invalid signature
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: Handle Viber webhook
      tags:
        - viber
  /health/live:
    get:
      description: Check if the service is alive
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/health.HealthStatus"
      summary: Liveness probe
      tags:
        - health
  /health/ready:
    get:
      description: Check if the service is ready to handle requests
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/health.HealthStatus"
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/health.HealthStatus"
      summary: Readiness probe
      tags:
        - health
  /marketplace/ai/auto-improve:
    post:
      description: Автоматически улучшает покрытие ключевых слов для плохо работающих
        категорий
      responses:
        "200":
          description: Процесс улучшения запущен
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Автоматическое улучшение ключевых слов
      tags:
        - marketplace-ai
  "/marketplace/ai/confirm/{feedbackId}":
    post:
      description: Пользователь подтверждает или исправляет результат AI определения
        для улучшения модели
      parameters:
        - description: ID записи обратной связи
          in: path
          name: feedbackId
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.ConfirmDetectionRequest"
        description: Правильная категория
        required: true
      responses:
        "200":
          description: Обратная связь сохранена
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Подтверждение правильности определения категории
      tags:
        - marketplace-ai
  /marketplace/ai/detect-category:
    post:
      description: Определяет наиболее подходящую категорию для товара используя
        многоуровневый AI анализ с Fallback механизмом
      requestBody:
        $ref: "#/components/requestBodies/services.AIDetectionInput"
      responses:
        "200":
          description: Результат определения категории
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.AIDetectionResult"
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Определение категории товара с помощью AI (с AI Fallback для 99%
        точности)
      tags:
        - marketplace-ai
  /marketplace/ai/detect-category-standard:
    post:
      description: Определяет категорию используя только keyword matching и similarity
        без AI Fallback для сравнения
      requestBody:
        $ref: "#/components/requestBodies/services.AIDetectionInput"
      responses:
        "200":
          description: Результат определения категории
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.AIDetectionResult"
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Определение категории только стандартными алгоритмами (без AI Fallback)
      tags:
        - marketplace-ai
  /marketplace/ai/generate-keywords:
    post:
      description: Генерирует полный набор ключевых слов для указанной категории через AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/services.KeywordGenerationRequest"
        description: Данные для генерации ключевых слов
        required: true
      responses:
        "200":
          description: Результат генерации ключевых слов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.KeywordGenerationResult"
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Генерация ключевых слов для категории
      tags:
        - marketplace-ai
  /marketplace/ai/generate-keywords-all:
    post:
      description: Генерирует ключевые слова для всех категорий, которым не хватает
        ключевых слов
      parameters:
        - description: Минимальное количество ключевых слов на категорию
          in: query
          name: minKeywords
          schema:
            type: integer
            default: 50
      responses:
        "200":
          description: Результат массовой генерации
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.KeywordGenerationResult"
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Массовая генерация ключевых слов для всех категорий
      tags:
        - marketplace-ai
  /marketplace/ai/keyword-stats:
    get:
      description: Возвращает статистику по ключевым словам и их эффективности
      parameters:
        - description: ID категории для фильтрации
          in: query
          name: categoryId
          schema:
            type: integer
      responses:
        "200":
          description: Статистика ключевых слов
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Статистика ключевых слов
      tags:
        - marketplace-ai
  /marketplace/ai/learn:
    post:
      description: Запускает процесс обучения на основе накопленной обратной связи
      responses:
        "200":
          description: Обучение запущено
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Запуск процесса обучения модели
      tags:
        - marketplace-ai
  /marketplace/ai/learn-from-feedback:
    post:
      description: Анализирует обратную связь от AI валидации и улучшает систему
        категоризации
      responses:
        "200":
          description: Результаты обучения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.LearningMetrics"
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Запуск обучения системы на основе обратной связи
      tags:
        - marketplace-ai
  /marketplace/ai/learning-stats:
    get:
      description: Возвращает статистику и метрики обучения саморазвивающейся системы
      responses:
        "200":
          description: Статистика обучения
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.LearningMetrics"
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Статистика обучения AI системы
      tags:
        - marketplace-ai
  /marketplace/ai/metrics:
    get:
      description: Возвращает статистику точности определения категорий за указанный период
      parameters:
        - description: Количество дней для анализа
          in: query
          name: days
          schema:
            type: integer
            default: 7
      responses:
        "200":
          description: Метрики точности
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        additionalProperties: true
                        type: object
                    type: object
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Получение метрик точности AI детекции
      tags:
        - marketplace-ai
  /marketplace/ai/scheduled-learning:
    post:
      description: "Выполняет все плановые задачи обучения: анализ обратной связи,
        улучшение ключевых слов"
      responses:
        "200":
          description: Плановое обучение запущено
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Запуск планового обучения системы
      tags:
        - marketplace-ai
  /marketplace/ai/select-category:
    post:
      description: AI анализирует товар и выбирает наиболее подходящую категорию из
        всех доступных (метод максимальной точности)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/services.AIDetectionInput"
        description: Входные данные товара
        required: true
      responses:
        "200":
          description: Результат выбора категории с обоснованием
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.AIDetectionResult"
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Прямой выбор категории через AI из полного списка
      tags:
        - marketplace-ai
  /marketplace/ai/validate-category:
    post:
      description: Проверяет правильность выбора категории для товара используя AI анализ
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/services.ValidationRequest"
        description: Данные для валидации категории
        required: true
      responses:
        "200":
          description: Результат валидации
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/services.ValidationResult"
                    type: object
        "400":
          description: Некорректный запрос
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Внутренняя ошибка сервера
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - BearerAuth: []
      summary: Валидация выбора категории через AI
      tags:
        - marketplace-ai
  "/payments/{id}/capture":
    post:
      description: Захватывает авторизованный платеж
      parameters:
        - description: Transaction ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Payment captured successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid transaction ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Transaction not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Capture Payment
      tags:
        - payments
  "/payments/{id}/refund":
    post:
      description: Возвращает средства по платежу
      parameters:
        - description: Transaction ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.RefundPaymentRequest"
        description: Refund details
        required: true
      responses:
        "200":
          description: Refund processed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Transaction not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Refund Payment
      tags:
        - payments
  "/payments/{id}/status":
    get:
      description: Получает текущий статус платежа
      parameters:
        - description: Transaction ID
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Payment status
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/models.PaymentTransaction"
                    type: object
        "400":
          description: Invalid transaction ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "404":
          description: Transaction not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Get Payment Status
      tags:
        - payments
  /payments/create:
    post:
      description: Создает новый платеж через AllSecure
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/handler.CreatePaymentRequest"
        description: Payment details
        required: true
      responses:
        "200":
          description: Payment created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/utils.SuccessResponseSwag"
                  - properties:
                      data:
                        $ref: "#/components/schemas/handler.CreatePaymentResponse"
                    type: object
        "400":
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      security:
        - ApiKeyAuth: []
      summary: Create Payment
      tags:
        - payments
  /webhooks/allsecure:
    post:
      description: Обработка уведомлений от AllSecure о статусе платежей
      parameters:
        - description: Webhook signature
          in: header
          name: X-Signature
          required: true
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/Payload"
      responses:
        "200":
          description: Webhook processed successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.SuccessResponseSwag"
        "400":
          description: Invalid signature or payload
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/utils.ErrorResponseSwag"
      summary: AllSecure Webhook Handler
      tags:
        - payments
        - webhooks
servers:
  - url: //localhost:3000/api/v1
components:
  requestBodies:
    Languages:
      content:
        application/json:
          schema:
            properties:
              source_language:
                type: string
              target_languages:
                items:
                  type: string
                type: array
            type: object
      description: Translation settings
    models.CategoryAttribute:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/models.CategoryAttribute"
      description: Attribute data
      required: true
    models.PricingRule:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/models.PricingRule"
      description: Pricing rule
      required: true
    postApiV1B2cStores_storefrontId_importAnalyzeAttributes:
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              file:
                description: Import file
                type: string
                format: binary
              file_type:
                description: File type
                type: string
                enum:
                  - xml
                  - csv
                  - zip
            required:
              - file
              - file_type
      required: true
    search.ServiceParams:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/search.ServiceParams"
      description: Search parameters
      required: true
    Request:
      content:
        application/json:
          schema:
            type: object
      description: Причина отмены
      required: true
    postApiV1Reviews_id_photos:
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              photos:
                description: "Photos to upload (max 5, max 5MB each, formats: jpg/png/webp)"
                type: string
                format: binary
            required:
              - photos
      required: true
    Payload:
      content:
        application/json:
          schema:
            type: object
      description: Webhook payload
      required: true
    services.AIDetectionInput:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/services.AIDetectionInput"
      description: Входные данные для определения категории
      required: true
  securitySchemes:
    Bearer:
      description: Bearer token для авторизации
      in: header
      name: Authorization
      type: apiKey
  schemas:
    ErrorResponse:
      properties:
        code:
          example: 400
          type: integer
        error:
          example: Invalid request
          type: string
        message:
          example: Validation failed
          type: string
      type: object
    SuccessResponse:
      properties:
        data: {}
        message:
          example: Operation completed successfully
          type: string
        success:
          example: true
          type: boolean
      type: object
    backend_internal_domain_models.JSONB:
      additionalProperties: true
      type: object
    backend_internal_proj_ai_handler.TranslateContentRequest:
      properties:
        content:
          properties:
            description:
              type: string
            title:
              type: string
          type: object
        sourceLanguage:
          description: Added source language
          type: string
        targetLanguages:
          items:
            type: string
          type: array
      type: object
    backend_internal_proj_b2c_handler.DetectCategoryRequest:
      properties:
        aiHints:
          $ref: "#/components/schemas/services.AIHints"
        description:
          type: string
        language:
          type: string
        title:
          type: string
      type: object
    backend_internal_proj_b2c_handler.TranslateContentRequest:
      properties:
        content:
          properties:
            description:
              type: string
            title:
              type: string
          type: object
        sourceLanguage:
          type: string
        targetLanguages:
          items:
            type: string
          type: array
      type: object
    backend_internal_proj_bexexpress_models.CalculateRateRequest:
      properties:
        cod_amount:
          type: number
        insurance_amount:
          type: number
        recipient_postal_code:
          type: string
        shipment_category:
          type: integer
        weight_kg:
          maximum: 50
          minimum: 0.1
          type: number
      required:
        - recipient_postal_code
        - shipment_category
        - weight_kg
      type: object
    backend_internal_proj_bexexpress_models.CalculateRateResponse:
      properties:
        base_price:
          type: number
        cod_fee:
          type: number
        delivery_days_max:
          type: integer
        delivery_days_min:
          type: integer
        insurance_fee:
          type: number
        service_available:
          type: boolean
        total_price:
          type: number
      type: object
    backend_internal_proj_bexexpress_models.CreateShipmentRequest:
      properties:
        cod_amount:
          type: number
        delivery_instructions:
          type: string
        insurance_amount:
          type: number
        notes:
          type: string
        order_id:
          type: integer
        personal_delivery:
          type: boolean
        pre_notification_minutes:
          description: Уведомления
          type: integer
        recipient_address:
          type: string
        recipient_city:
          type: string
        recipient_email:
          type: string
        recipient_name:
          type: string
        recipient_phone:
          type: string
        recipient_postal_code:
          type: string
        shipment_category:
          type: integer
        shipment_contents:
          type: integer
        storefront_order_id:
          type: integer
        total_packages:
          maximum: 99
          minimum: 1
          type: integer
        weight_kg:
          maximum: 50
          minimum: 0.1
          type: number
      required:
        - recipient_address
        - recipient_city
        - recipient_name
        - recipient_phone
        - recipient_postal_code
        - shipment_category
        - shipment_contents
        - total_packages
        - weight_kg
      type: object
    backend_internal_proj_bexexpress_models.ShipmentStatus:
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
      type: integer
      x-enum-varnames:
        - ShipmentStatusNotFound
        - ShipmentStatusDeleted
        - ShipmentStatusNotSentYet
        - ShipmentStatusPickedUp
        - ShipmentStatusDelivered
        - ShipmentStatusAddressVerify
        - ShipmentStatusReturnToSender
        - ShipmentStatusReturnedToSender
        - ShipmentStatusCODPaid
    backend_internal_proj_c2c_handler.DetectCategoryRequest:
      properties:
        attributes:
          additionalProperties: true
          type: object
        description:
          type: string
        domain:
          example: electronics
          type: string
        include_debug_info:
          type: boolean
        keywords:
          example:
            - телефон
            - смартфон
            - айфон
          items:
            type: string
          type: array
        language:
          example: ru
          type: string
        product_type:
          example: smartphone
          type: string
        title:
          type: string
      type: object
    backend_internal_proj_c2c_handler.MessageResponse:
      properties:
        message:
          example: marketplace.operationSuccess
          type: string
        success:
          example: true
          type: boolean
      type: object
    backend_internal_proj_delivery_models.TrackingEvent:
      properties:
        created_at:
          type: string
        description:
          type: string
        event_time:
          type: string
        id:
          type: integer
        location:
          type: string
        provider_id:
          type: integer
        raw_data:
          items:
            type: integer
          type: array
        shipment_id:
          type: integer
        status:
          type: string
      type: object
    backend_internal_proj_postexpress_models.CalculateRateRequest:
      properties:
        cod_amount:
          type: number
        declared_value:
          type: number
        height_cm:
          type: integer
        length_cm:
          type: integer
        recipient_postal_code:
          type: string
        sender_postal_code:
          type: string
        service_type:
          type: string
        weight_kg:
          maximum: 20
          minimum: 0.1
          type: number
        width_cm:
          type: integer
      required:
        - recipient_postal_code
        - sender_postal_code
        - weight_kg
      type: object
    backend_internal_proj_postexpress_models.CalculateRateResponse:
      properties:
        base_price:
          type: number
        cod_fee:
          type: number
        delivery_days_max:
          type: integer
        delivery_days_min:
          type: integer
        insurance_fee:
          type: number
        service_available:
          type: boolean
        total_price:
          type: number
      type: object
    backend_internal_proj_postexpress_models.CreateShipmentRequest:
      properties:
        cod_amount:
          type: number
        declared_value:
          type: number
        delivery_instructions:
          type: string
        height_cm:
          type: integer
        insurance_amount:
          type: number
        length_cm:
          type: integer
        notes:
          type: string
        order_id:
          type: integer
        recipient_address:
          type: string
        recipient_city:
          type: string
        recipient_email:
          type: string
        recipient_name:
          type: string
        recipient_phone:
          type: string
        recipient_postal_code:
          type: string
        service_type:
          type: string
        storefront_order_id:
          type: integer
        weight_kg:
          maximum: 20
          minimum: 0.1
          type: number
        width_cm:
          type: integer
      required:
        - recipient_address
        - recipient_city
        - recipient_name
        - recipient_phone
        - recipient_postal_code
        - weight_kg
      type: object
    backend_internal_proj_postexpress_models.ShipmentStatus:
      enum:
        - created
        - registered
        - picked_up
        - in_transit
        - delivered
        - failed
        - returned
      type: string
      x-enum-varnames:
        - ShipmentStatusCreated
        - ShipmentStatusRegistered
        - ShipmentStatusPickedUp
        - ShipmentStatusInTransit
        - ShipmentStatusDelivered
        - ShipmentStatusFailed
        - ShipmentStatusReturned
    backend_internal_proj_postexpress_models.TrackingEvent:
      properties:
        additional_info:
          items:
            type: integer
          type: array
        created_at:
          type: string
        event_code:
          type: string
        event_description:
          type: string
        event_location:
          type: string
        event_timestamp:
          type: string
        id:
          type: integer
        shipment_id:
          type: integer
      type: object
    backend_internal_proj_postexpress_storage.ShipmentStatistics:
      properties:
        average_delivery_time:
          type: number
        by_city:
          additionalProperties:
            type: integer
          type: object
        by_status:
          additionalProperties:
            type: integer
          type: object
        canceled:
          type: integer
        delivered:
          type: integer
        delivered_shipments:
          type: integer
        delivery_success_rate:
          type: number
        failed_shipments:
          type: integer
        in_transit:
          type: integer
        in_transit_shipments:
          type: integer
        pending:
          type: integer
        total:
          type: integer
        total_cod:
          type: number
        total_revenue:
          type: number
        total_shipments:
          description: Дополнительные поля для совместимости с repository
          type: integer
        total_value:
          type: number
      type: object
    backend_internal_proj_users_handler.MessageResponse:
      properties:
        message:
          example: Операция выполнена успешно
          type: string
      type: object
    behavior.BehaviorEvent:
      properties:
        created_at:
          type: string
        event_type:
          $ref: "#/components/schemas/behavior.EventType"
        id:
          type: integer
        item_id:
          type: string
        item_type:
          $ref: "#/components/schemas/behavior.ItemType"
        metadata:
          additionalProperties: true
          type: object
        position:
          type: integer
        search_query:
          type: string
        session_id:
          type: string
        user_id:
          type: integer
      required:
        - event_type
        - session_id
      type: object
    behavior.EventType:
      enum:
        - search_performed
        - result_clicked
        - item_viewed
        - item_purchased
        - search_filter_applied
        - search_sort_changed
        - item_added_to_cart
      type: string
      x-enum-varnames:
        - EventTypeSearchPerformed
        - EventTypeResultClicked
        - EventTypeItemViewed
        - EventTypeItemPurchased
        - EventTypeSearchFilterApplied
        - EventTypeSearchSortChanged
        - EventTypeItemAddedToCart
    behavior.ItemType:
      enum:
        - marketplace
        - storefront
      type: string
      x-enum-varnames:
        - ItemTypeMarketplace
        - ItemTypeStorefront
    behavior.TrackEventBatch:
      properties:
        batch_id:
          type: string
        created_at:
          type: string
        events:
          items:
            $ref: "#/components/schemas/behavior.TrackEventRequest"
          type: array
      required:
        - batch_id
        - created_at
        - events
      type: object
    behavior.TrackEventRequest:
      properties:
        event_type:
          allOf:
            - $ref: "#/components/schemas/behavior.EventType"
          enum:
            - search_performed
            - result_clicked
            - item_viewed
            - item_purchased
            - search_filter_applied
            - search_sort_changed
            - item_added_to_cart
        item_id:
          type: string
        item_type:
          allOf:
            - $ref: "#/components/schemas/behavior.ItemType"
          enum:
            - marketplace
            - storefront
        metadata:
          additionalProperties: true
          type: object
        position:
          type: integer
        search_query:
          type: string
        session_id:
          description: Если не передан, будет сгенерирован
          type: string
      required:
        - event_type
      type: object
    calculator.CalculationData:
      properties:
        cheapest:
          $ref: "#/components/schemas/calculator.ProviderQuote"
        fastest:
          $ref: "#/components/schemas/calculator.ProviderQuote"
        providers:
          items:
            $ref: "#/components/schemas/calculator.ProviderQuote"
          type: array
        recommended:
          $ref: "#/components/schemas/calculator.ProviderQuote"
      type: object
    calculator.CalculationRequest:
      properties:
        cod_amount:
          type: number
        delivery_type:
          type: string
        from_location:
          $ref: "#/components/schemas/calculator.Location"
        insurance_value:
          type: number
        items:
          items:
            $ref: "#/components/schemas/calculator.ItemWithAttrs"
          type: array
        provider_id:
          type: integer
        to_location:
          $ref: "#/components/schemas/calculator.Location"
      type: object
    calculator.CalculationResponse:
      properties:
        data:
          $ref: "#/components/schemas/calculator.CalculationData"
        message:
          type: string
        success:
          type: boolean
      type: object
    calculator.ItemWithAttrs:
      properties:
        attributes:
          $ref: "#/components/schemas/models.DeliveryAttributes"
        product_id:
          type: integer
        product_type:
          description: '"listing" или "storefront_product"'
          type: string
        quantity:
          type: integer
      type: object
    calculator.Location:
      properties:
        city:
          type: string
        country:
          type: string
        latitude:
          type: number
        longitude:
          type: number
        postal_code:
          type: string
      type: object
    calculator.ProviderQuote:
      properties:
        cod_fee:
          type: number
        cost_breakdown:
          $ref: "#/components/schemas/models.CostBreakdown"
        delivery_cost:
          type: number
        delivery_type:
          type: string
        estimated_days:
          type: integer
        estimated_delivery_date:
          type: string
        insurance_cost:
          type: number
        is_available:
          type: boolean
        provider_code:
          type: string
        provider_id:
          type: integer
        provider_name:
          type: string
        services:
          items:
            $ref: "#/components/schemas/models.DeliveryService"
          type: array
        total_price:
          type: number
        unavailable_reason:
          type: string
      type: object
    config.StorageConfig:
      properties:
        base_url:
          type: string
        chat_files_bucket:
          type: string
        listings_bucket:
          type: string
        provider:
          type: string
        review_photos_bucket:
          type: string
        storefront_bucket:
          type: string
      type: object
    credit.CreditCalculationRequest:
      properties:
        category:
          type: string
        down_payment:
          minimum: 0
          type: number
        interest_rate:
          description: annual percentage
          minimum: 0
          type: number
        price:
          type: number
        term:
          description: months
          type: integer
      required:
        - down_payment
        - interest_rate
        - price
        - term
      type: object
    credit.CreditCalculationResponse:
      properties:
        down_payment:
          type: number
        interest_rate:
          type: number
        loan_amount:
          type: number
        monthly_payment:
          type: number
        payment_schedule:
          items:
            $ref: "#/components/schemas/credit.PaymentScheduleItem"
          type: array
        term:
          type: integer
        total_amount:
          type: number
        total_interest:
          type: number
      type: object
    credit.PaymentScheduleItem:
      properties:
        interest:
          type: number
        month:
          type: integer
        payment:
          type: number
        principal:
          type: number
        remaining_balance:
          type: number
      type: object
    domain.SearchConfig:
      properties:
        created_at:
          type: string
        fuzzy_enabled:
          type: boolean
        fuzzy_max_edits:
          type: integer
        id:
          type: integer
        max_suggestions:
          type: integer
        min_search_length:
          type: integer
        synonyms_enabled:
          type: boolean
        transliteration_enabled:
          type: boolean
        updated_at:
          type: string
      type: object
    domain.SearchStatistics:
      properties:
        created_at:
          type: string
        id:
          type: integer
        query:
          type: string
        results_count:
          type: integer
        search_duration_ms:
          type: integer
        search_filters:
          type: string
        user_id:
          type: integer
      type: object
    domain.SearchSynonym:
      properties:
        created_at:
          type: string
        id:
          type: integer
        language:
          type: string
        synonyms:
          items:
            type: string
          type: array
        term:
          type: string
        updated_at:
          type: string
      type: object
    domain.SearchWeight:
      properties:
        created_at:
          type: string
        description:
          type: string
        field_name:
          type: string
        id:
          type: integer
        updated_at:
          type: string
        weight:
          type: number
      type: object
    domain.TransliterationRule:
      properties:
        created_at:
          type: string
        from_pattern:
          type: string
        from_script:
          type: string
        id:
          type: integer
        priority:
          type: integer
        to_pattern:
          type: string
        to_script:
          type: string
        updated_at:
          type: string
      type: object
    handler.ABTestTitlesRequest:
      properties:
        titleVariants:
          items:
            type: string
          type: array
      type: object
    handler.AddMessageRequest:
      properties:
        content:
          minLength: 1
          type: string
      required:
        - content
      type: object
    handler.AddStaffRequest:
      properties:
        role:
          $ref: "#/components/schemas/models.StaffRole"
        user_id:
          type: integer
      required:
        - role
        - user_id
      type: object
    handler.AdminAdminsResponse:
      properties:
        email:
          example: admin@example.com
          type: string
        is_admin:
          example: true
          type: boolean
      type: object
    handler.AdminCheckResponse:
      properties:
        is_admin:
          example: false
          type: boolean
      type: object
    handler.AdminMessageResponse:
      properties:
        message:
          example: admin.users.success.profile_updated
          type: string
      type: object
    handler.AdminStatisticsResponse:
      properties:
        active:
          type: integer
        pending:
          type: integer
        total:
          type: integer
        views:
          type: integer
      type: object
    handler.AdminStatusUpdateRequest:
      properties:
        status:
          enum:
            - active
            - blocked
            - pending
          example: active
          type: string
      required:
        - status
      type: object
    handler.AdminUserListResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/models.UserProfile"
          type: array
        limit:
          example: 10
          type: integer
        page:
          example: 1
          type: integer
        pages:
          example: 10
          type: integer
        total:
          example: 100
          type: integer
      type: object
    handler.AlternativeCategoryResponse:
      properties:
        category_id:
          type: integer
        category_name:
          type: string
        category_slug:
          type: string
        confidence_score:
          type: number
      type: object
    handler.AnalyzeAttributesResponse:
      properties:
        attributes:
          items:
            $ref: "#/components/schemas/handler.DetectedAttribute"
          type: array
        processing_time_ms:
          type: integer
        total_attributes:
          type: integer
        total_products:
          type: integer
        variant_defining_attributes:
          items:
            type: string
          type: array
      type: object
    handler.AnalyzeCategoriesResponse:
      properties:
        mappings:
          items:
            $ref: "#/components/schemas/handler.CategoryMappingDTO"
          type: array
        processing_time_ms:
          type: integer
        quality_summary:
          $ref: "#/components/schemas/handler.QualitySummaryDTO"
        total_categories:
          type: integer
        unmapped_categories:
          items:
            type: string
          type: array
      type: object
    handler.AnalyzeClientCategoriesRequest:
      properties:
        categories:
          description: Categories with product counts
          items:
            $ref: "#/components/schemas/service.ClientCategoryInfo"
          type: array
        file_type:
          type: string
      type: object
    handler.AnalyzeClientCategoriesResponse:
      properties:
        analysis:
          $ref: "#/components/schemas/service.CategoryAnalysisResult"
      type: object
    handler.AnalyzeProductImageRequest:
      properties:
        imageData:
          description: base64 encoded image
          type: string
        language:
          description: ru, en, sr
          type: string
      type: object
    handler.AnalyzeProductRequest:
      properties:
        imageData:
          type: string
        userLang:
          type: string
      type: object
    handler.AnalyzeProductResponse:
      properties:
        attributes:
          additionalProperties: true
          type: object
        category:
          type: string
        categoryHints:
          $ref: "#/components/schemas/handler.CategoryHints"
        categoryProbabilities:
          items:
            $ref: "#/components/schemas/handler.CategoryProbability"
          type: array
        condition:
          type: string
        currency:
          type: string
        description:
          type: string
        keywords:
          items:
            type: string
          type: array
        price:
          type: number
        socialPosts:
          additionalProperties:
            type: string
          type: object
        suggestedLocation:
          type: string
        tags:
          items:
            type: string
          type: array
        title:
          type: string
        titleVariants:
          items:
            type: string
          type: array
      type: object
    handler.AnalyzeWeightsRequest:
      properties:
        category_id:
          type: integer
        from_date:
          type: string
        item_type:
          enum:
            - marketplace
            - storefront
            - global
          type: string
        to_date:
          type: string
      required:
        - from_date
        - item_type
        - to_date
      type: object
    handler.ApplyWeightsRequest:
      properties:
        selected_results:
          items:
            type: integer
          type: array
        session_id:
          type: integer
      required:
        - selected_results
        - session_id
      type: object
    handler.AttributeCreateResponse:
      properties:
        id:
          example: 123
          type: integer
        message:
          example: marketplace.attributeCreated
          type: string
      type: object
    handler.AttributeGroupResponse:
      properties:
        group:
          $ref: "#/components/schemas/models.AttributeGroup"
      type: object
    handler.AttributeGroupWithItemsData:
      properties:
        group:
          $ref: "#/components/schemas/models.AttributeGroup"
        items:
          items:
            $ref: "#/components/schemas/models.AttributeGroupItem"
          type: array
      type: object
    handler.AttributeGroupsResponse:
      properties:
        groups:
          items:
            $ref: "#/components/schemas/models.AttributeGroup"
          type: array
      type: object
    handler.AttributeRange:
      properties:
        max:
          example: 1000000
          type: number
        min:
          example: 0
          type: number
      type: object
    handler.AttributeRangesResponse:
      properties:
        data:
          additionalProperties:
            $ref: "#/components/schemas/handler.AttributeRange"
          type: object
        success:
          example: true
          type: boolean
      type: object
    handler.BatchTranslateAttributesRequest:
      properties:
        attribute_ids:
          items:
            type: integer
          type: array
        provider:
          example: google
          type: string
        target_languages:
          items:
            type: string
          type: array
        translate_options:
          example: true
          type: boolean
      type: object
    handler.BatchTranslateCategoriesRequest:
      properties:
        auto_translate:
          example: true
          type: boolean
        category_ids:
          items:
            type: integer
          type: array
        provider:
          example: google
          type: string
        target_languages:
          items:
            type: string
          type: array
      type: object
    handler.BatchTranslateData:
      properties:
        listing_count:
          example: 3
          type: integer
        provider:
          example: google
          type: string
        target_lang:
          example: en
          type: string
        target_languages:
          example:
            - '["en"'
            - '"ru"]'
          items:
            type: string
          type: array
        total_count:
          example: 5
          type: integer
      type: object
    handler.BatchTranslateRequest:
      properties:
        listing_ids:
          example:
            - 1
            - 2
            - 3
          items:
            type: integer
          type: array
        provider:
          example: google
          type: string
        target_lang:
          example: en
          type: string
      type: object
    handler.BatchTranslateResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.BatchTranslateData"
        message:
          example: marketplace.translationProcessStarted
          type: string
        success:
          example: true
          type: boolean
      type: object
    handler.BulkUpdateResult:
      properties:
        errors:
          items:
            type: string
          type: array
        success_count:
          example: 5
          type: integer
        total_count:
          example: 10
          type: integer
      type: object
    handler.CancelRequest:
      properties:
        reason:
          type: string
      type: object
    handler.CartCalculationRequest:
      properties:
        cod_amount:
          type: number
        delivery_type:
          type: string
        from_location:
          $ref: "#/components/schemas/calculator.Location"
        insurance_value:
          type: number
        items:
          items:
            $ref: "#/components/schemas/calculator.ItemWithAttrs"
          type: array
        to_location:
          $ref: "#/components/schemas/calculator.Location"
      type: object
    handler.CategoryHints:
      properties:
        domain:
          type: string
        keywords:
          items:
            type: string
          type: array
        productType:
          type: string
      type: object
    handler.CategoryKeywordResponse:
      properties:
        id:
          type: integer
        is_negative:
          type: boolean
        keyword:
          type: string
        keyword_type:
          type: string
        language:
          type: string
        success_rate:
          type: number
        usage_count:
          type: integer
        weight:
          type: number
      type: object
    handler.CategoryMappingDTO:
      properties:
        confidence:
          description: '"high", "medium", "low"'
          type: string
        external_category:
          type: string
        is_approved:
          type: boolean
        reasoning:
          type: string
        requires_new_category:
          type: boolean
        suggested_internal_category_id:
          type: integer
        suggested_internal_category_name:
          type: string
      type: object
    handler.CategoryProbability:
      properties:
        name:
          type: string
        probability:
          type: number
      type: object
    handler.CategoryTranslationResult:
      properties:
        category_id:
          example: 123
          type: integer
        errors:
          items:
            type: string
          type: array
        translations:
          additionalProperties: true
          type: object
      type: object
    handler.ChatMessagesResponse:
      properties:
        limit:
          type: integer
        messages:
          items:
            $ref: "#/components/schemas/models.MarketplaceMessage"
          type: array
        page:
          type: integer
        total:
          type: integer
      type: object
    handler.ClusterPoint:
      properties:
        count:
          type: integer
        ids:
          items:
            type: integer
          type: array
        lat:
          type: number
        lng:
          type: number
      type: object
    handler.CompleteMockPaymentRequest:
      properties:
        amount:
          example: 2000
          type: number
        session_id:
          example: mock_session_7_1751361491
          type: string
      type: object
    handler.ConfirmDetectionRequest:
      properties:
        correctCategoryId:
          type: integer
      type: object
    handler.ConfirmPaymentRequest:
      properties:
        session_id:
          type: string
      required:
        - session_id
      type: object
    handler.ContactRemoveResponse:
      description: Ответ при удалении контакта из списка
      properties:
        message:
          description: Сообщение об успешном удалении
          example: contacts.removed
          type: string
      type: object
    handler.ContactStatusCheckResponse:
      description: Информация о статусе связи между пользователями
      properties:
        are_contacts:
          description: Являются ли пользователи контактами
          example: true
          type: boolean
        contact_id:
          description: ID проверяемого контакта
          example: 456
          type: integer
        user_id:
          description: ID текущего пользователя
          example: 123
          type: integer
      type: object
    handler.ContactStatusUpdateResponse:
      description: Ответ при изменении статуса контакта
      properties:
        message:
          description: Сообщение об успешном обновлении
          example: contacts.statusUpdated
          type: string
      type: object
    handler.Coordinates:
      properties:
        lat:
          example: 55.7558
          type: number
        lng:
          example: 37.6173
          type: number
      type: object
    handler.CreateMarketplaceOrderRequest:
      properties:
        listing_id:
          type: integer
        message:
          type: string
        payment_method:
          enum:
            - card
            - bank_transfer
          type: string
      required:
        - listing_id
        - payment_method
      type: object
    handler.CreateOrderPaymentRequest:
      properties:
        amount:
          type: string
        cancel_url:
          type: string
        currency:
          type: string
        description:
          type: string
        order_id:
          type: integer
        return_url:
          type: string
      required:
        - amount
        - cancel_url
        - currency
        - order_id
        - return_url
      type: object
    handler.CreateOrderPaymentResponse:
      properties:
        expires_at:
          type: string
        payment_url:
          type: string
        requires_action:
          type: boolean
        session_id:
          type: string
        status:
          type: string
      type: object
    handler.CreatePaymentRequest:
      properties:
        amount:
          type: string
        currency:
          type: string
        description:
          type: string
        listing_id:
          type: integer
        return_url:
          type: string
      required:
        - amount
        - currency
        - listing_id
        - return_url
      type: object
    handler.CreatePaymentResponse:
      properties:
        gateway_uuid:
          type: string
        redirect_url:
          type: string
        requires_action:
          type: boolean
        status:
          type: string
        transaction_id:
          type: integer
      type: object
    handler.CreateSavedSearchRequest:
      properties:
        filters:
          additionalProperties: true
          type: object
        name:
          maxLength: 100
          minLength: 1
          type: string
        notify_enabled:
          type: boolean
        notify_frequency:
          type: string
        search_type:
          type: string
      required:
        - filters
        - name
      type: object
    handler.DashboardNotification:
      properties:
        created_at:
          type: string
        id:
          type: integer
        is_read:
          type: boolean
        message:
          type: string
        title:
          type: string
        type:
          description: order, message, stock
          type: string
      type: object
    handler.DebugInfo:
      properties:
        keyword_score:
          type: number
        matched_keywords:
          items:
            type: string
          type: array
        similarity_score:
          type: number
      type: object
    handler.DepositRequest:
      properties:
        amount:
          example: 1000.5
          type: number
        payment_method:
          example: card
          type: string
        return_url:
          example: http://localhost:3001/en/balance/deposit/success
          type: string
      type: object
    handler.DetectCategoryResponse:
      properties:
        alternative_categories:
          items:
            $ref: "#/components/schemas/handler.AlternativeCategoryResponse"
          type: array
        category_id:
          type: integer
        category_name:
          type: string
        category_slug:
          type: string
        confidence_score:
          type: number
        debug_info:
          $ref: "#/components/schemas/handler.DebugInfo"
        method:
          type: string
        processing_time_ms:
          type: integer
        stats_id:
          type: integer
        warning:
          type: string
      type: object
    handler.DetectLanguageRequest:
      properties:
        text:
          example: Hello world
          type: string
      type: object
    handler.DetectVariantsResponse:
      properties:
        grouped_products:
          type: integer
        processing_time_ms:
          type: integer
        standalone_products:
          type: integer
        total_products:
          type: integer
        variant_groups:
          items:
            $ref: "#/components/schemas/handler.VariantGroup"
          type: array
      type: object
    handler.DetectedAttribute:
      properties:
        frequency:
          description: How many products have this attribute
          type: integer
        is_standard:
          description: Is this a standard marketplace attribute
          type: boolean
        is_variant_defining:
          description: Could be used for variants (color, size, etc.)
          type: boolean
        name:
          type: string
        sample_values:
          description: Example values
          items:
            type: string
          type: array
        suggested_mapping:
          description: Suggested mapping to standard attribute
          type: string
        value_type:
          description: "Type of value: string, number, boolean, enum"
          type: string
      type: object
    handler.DetectedLanguageData:
      properties:
        confidence:
          example: 0.99
          type: number
        language:
          example: en
          type: string
      type: object
    handler.DocContentResponse:
      properties:
        content:
          example: |-
            # Documentation

            This is the content of the markdown file.
          type: string
        path:
          example: docs/README.md
          type: string
      type: object
    handler.DocFile:
      properties:
        children:
          items:
            $ref: "#/components/schemas/handler.DocFile"
          type: array
        name:
          example: README.md
          type: string
        path:
          example: docs/README.md
          type: string
        type:
          enum:
            - file
            - directory
          example: file
          type: string
      type: object
    handler.DocFilesResponse:
      properties:
        files:
          items:
            $ref: "#/components/schemas/handler.DocFile"
          type: array
        rootPath:
          example: ./docs
          type: string
      type: object
    handler.EnhanceImagesData:
      properties:
        job_id:
          example: enhance_123_1234567890
          type: string
        message:
          example: marketplace.imageEnhancementStarted
          type: string
      type: object
    handler.EnhanceImagesResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.EnhanceImagesData"
        success:
          example: true
          type: boolean
      type: object
    handler.EnhancePreviewData:
      properties:
        preview_url:
          example: https://example.com/preview/123/quality
          type: string
      type: object
    handler.EnhancePreviewResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.EnhancePreviewData"
        success:
          example: true
          type: boolean
      type: object
    handler.EventRequest:
      properties:
        event_data:
          items:
            type: integer
          type: array
        event_type:
          enum:
            - page_view
            - product_view
            - add_to_cart
            - checkout
            - order
          type: string
        session_id:
          type: string
        storefront_id:
          type: integer
        user_id:
          type: integer
      required:
        - event_type
        - session_id
        - storefront_id
      type: object
    handler.FavoriteStatusData:
      properties:
        is_in_favorites:
          example: true
          type: boolean
      type: object
    handler.FavoritesCountData:
      properties:
        count:
          example: 5
          type: integer
      type: object
    handler.FuzzySearchTestResponse:
      properties:
        categories:
          items:
            $ref: "#/components/schemas/service.CategorySearchResult"
          type: array
        expanded_query:
          type: string
        language:
          type: string
        original_query:
          type: string
      type: object
    handler.IDMessageResponse:
      properties:
        id:
          example: 123
          type: integer
        message:
          example: marketplace.created
          type: string
      type: object
    handler.ImageModerationResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.ModerationData"
        success:
          example: true
          type: boolean
      type: object
    handler.ImageOrderUpdate:
      properties:
        display_order:
          type: integer
        id:
          type: integer
      type: object
    handler.ImagesUploadResponse:
      properties:
        count:
          example: 3
          type: integer
        images:
          items:
            $ref: "#/components/schemas/models.MarketplaceImage"
          type: array
        message:
          example: marketplace.imagesUploaded
          type: string
        success:
          example: true
          type: boolean
      type: object
    handler.ImportAttributesResult:
      properties:
        errors:
          items:
            type: string
          type: array
        success_count:
          example: 5
          type: integer
        total_count:
          example: 10
          type: integer
      type: object
    handler.InitiatePaymentRequest:
      properties:
        billing_cycle:
          $ref: "#/components/schemas/models.BillingCycle"
        plan_code:
          type: string
        return_url:
          type: string
      required:
        - plan_code
      type: object
    handler.ListingsResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/models.MarketplaceListing"
          type: array
        meta:
          $ref: "#/components/schemas/handler.PaginationMeta"
        success:
          example: true
          type: boolean
      type: object
    handler.MapBounds:
      properties:
        ne:
          $ref: "#/components/schemas/handler.Coordinates"
        sw:
          $ref: "#/components/schemas/handler.Coordinates"
      type: object
    handler.MapBoundsData:
      properties:
        bounds:
          $ref: "#/components/schemas/handler.MapBounds"
        count:
          example: 25
          type: integer
        listings:
          items:
            $ref: "#/components/schemas/models.MapMarker"
          type: array
        zoom:
          example: 10
          type: integer
      type: object
    handler.MapBoundsResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.MapBoundsData"
        success:
          example: true
          type: boolean
      type: object
    handler.MapClustersData:
      properties:
        count:
          example: 50
          type: integer
        data: {}
        type:
          example: clusters
          type: string
        zoom:
          example: 10
          type: integer
      type: object
    handler.MapClustersResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.MapClustersData"
        success:
          example: true
          type: boolean
      type: object
    handler.MarkAsShippedRequest:
      properties:
        shipping_method:
          type: string
        tracking_number:
          type: string
      required:
        - shipping_method
        - tracking_number
      type: object
    handler.ModerationData:
      properties:
        has_prohibited:
          example: false
          type: boolean
        labels:
          example:
            - image
            - photo
          items:
            type: string
          type: array
        prohibited_labels:
          items:
            type: string
          type: array
      type: object
    handler.NeighborhoodStatsResponse:
      properties:
        center_lat:
          type: number
        center_lon:
          type: number
        new_today:
          type: integer
        radius_km:
          type: number
        total_listings:
          type: integer
        within_radius:
          type: integer
      type: object
    handler.NotificationMarkReadResponse:
      description: Ответ при изменении статуса уведомления
      properties:
        message:
          description: Сообщение об успешной отметке
          example: notifications.markedAsRead
          type: string
      type: object
    handler.NotificationSettingsResponse:
      description: Настройки уведомлений пользователя
      properties:
        data:
          description: Массив настроек для разных типов уведомлений
          items:
            $ref: "#/components/schemas/models.NotificationSettings"
          type: array
      type: object
    handler.NotificationSettingsUpdateResponse:
      description: Ответ при обновлении настроек уведомлений
      properties:
        message:
          description: Сообщение об успешном обновлении
          example: notifications.settingsUpdated
          type: string
        settings:
          description: Обновленные настройки
          items:
            $ref: "#/components/schemas/models.NotificationSettings"
          type: array
      type: object
    handler.OpenDisputeRequest:
      properties:
        reason:
          minLength: 10
          type: string
      required:
        - reason
      type: object
    handler.OptimizationSession:
      properties:
        created_by:
          type: integer
        end_time:
          type: string
        error_message:
          type: string
        id:
          type: integer
        processed_fields:
          type: integer
        results:
          items:
            $ref: "#/components/schemas/handler.WeightOptimizationResult"
          type: array
        start_time:
          type: string
        status:
          description: running, completed, failed
          type: string
        total_fields:
          type: integer
      type: object
    handler.PaginationMeta:
      properties:
        has_more:
          example: true
          type: boolean
        limit:
          example: 20
          type: integer
        page:
          example: 1
          type: integer
        total:
          example: 100
          type: integer
        total_pages:
          example: 5
          type: integer
      type: object
    handler.PartialOperationResponse:
      properties:
        data: {}
        error:
          example: marketplace.partialOperationCompleted
          type: string
        success:
          example: false
          type: boolean
      type: object
    handler.PhotosResponse:
      properties:
        message:
          example: Photos uploaded successfully
          type: string
        photos:
          items:
            type: string
          type: array
        success:
          example: true
          type: boolean
      type: object
    handler.ProviderData:
      properties:
        provider:
          example: google
          type: string
      type: object
    handler.PublicEmailSendResponse:
      description: Ответ при отправке email с публичной формы
      properties:
        message:
          description: Сообщение о результате
          example: email.sentSuccessfully
          type: string
        success:
          description: Флаг успешной отправки
          example: true
          type: boolean
      type: object
    handler.PublicUserResponse:
      properties:
        created_at:
          example: 2023-01-01T12:00:00Z
          type: string
        email:
          example: user@example.com
          type: string
        id:
          example: 1
          type: integer
        name:
          example: Иван Иванов
          type: string
        picture_url:
          example: https://example.com/avatar.jpg
          type: string
      type: object
    handler.QualitySummaryDTO:
      properties:
        high_confidence:
          type: integer
        low_confidence:
          type: integer
        medium_confidence:
          type: integer
        requires_new_category:
          type: integer
      type: object
    handler.RatingResponse:
      properties:
        rating:
          example: 4.5
          type: number
        success:
          example: true
          type: boolean
      type: object
    handler.RefundPaymentRequest:
      properties:
        amount:
          type: string
        reason:
          type: string
      required:
        - amount
      type: object
    handler.ReindexStartedResponse:
      properties:
        message:
          example: marketplace.reindexStarted
          type: string
        success:
          example: true
          type: boolean
      type: object
    handler.ResponseRequest:
      properties:
        response:
          example: Thank you for your review!
          type: string
      type: object
    handler.ReviewMessageResponse:
      properties:
        message:
          example: Operation completed successfully
          type: string
        success:
          example: true
          type: boolean
      type: object
    handler.ReviewsListResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/models.Review"
          type: array
        meta:
          $ref: "#/components/schemas/handler.ReviewsMeta"
        success:
          example: true
          type: boolean
      type: object
    handler.ReviewsMeta:
      properties:
        limit:
          example: 20
          type: integer
        page:
          example: 1
          type: integer
        total:
          example: 100
          type: integer
      type: object
    handler.SavedSearchResponse:
      properties:
        created_at:
          type: string
        filters:
          additionalProperties: true
          type: object
        id:
          type: integer
        last_notified_at:
          type: string
        name:
          type: string
        notify_enabled:
          type: boolean
        notify_frequency:
          type: string
        results_count:
          type: integer
        search_type:
          type: string
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    handler.SearchMetadata:
      properties:
        facets:
          additionalProperties:
            items:
              $ref: "#/components/schemas/search.Bucket"
            type: array
          type: object
        has_more:
          example: true
          type: boolean
        page:
          example: 1
          type: integer
        size:
          example: 20
          type: integer
        spelling_suggestion:
          type: string
        suggestions:
          items:
            type: string
          type: array
        took_ms:
          example: 25
          type: integer
        total:
          example: 100
          type: integer
        total_pages:
          example: 5
          type: integer
      type: object
    handler.SearchResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/models.MarketplaceListing"
          type: array
        meta:
          $ref: "#/components/schemas/handler.SearchMetadata"
      type: object
    handler.SetProviderRequest:
      properties:
        provider:
          example: google
          type: string
      type: object
    handler.SetProviderResponse:
      properties:
        data:
          $ref: "#/components/schemas/handler.ProviderData"
        message:
          example: marketplace.providerSet
          type: string
        success:
          example: true
          type: boolean
      type: object
    handler.StaffListResponse:
      properties:
        staff:
          items:
            $ref: "#/components/schemas/models.StorefrontStaff"
          type: array
        total:
          type: integer
      type: object
    handler.StartOptimizationRequest:
      properties:
        analysis_period_days:
          maximum: 365
          minimum: 1
          type: integer
        auto_apply:
          type: boolean
        category_id:
          type: integer
        confidence_level:
          maximum: 0.99
          minimum: 0.5
          type: number
        field_names:
          items:
            type: string
          type: array
        item_type:
          enum:
            - marketplace
            - storefront
            - global
          type: string
        learning_rate:
          maximum: 1
          minimum: 0.001
          type: number
        max_iterations:
          maximum: 10000
          minimum: 10
          type: integer
        min_sample_size:
          maximum: 10000
          minimum: 10
          type: integer
      required:
        - item_type
      type: object
    handler.StorefrontsListResponse:
      properties:
        b2c_stores:
          items:
            $ref: "#/components/schemas/models.Storefront"
          type: array
        limit:
          type: integer
        offset:
          type: integer
        total:
          type: integer
      type: object
    handler.StripeWebhookRequest:
      properties:
        created:
          example: 1234567890
          type: integer
        data:
          additionalProperties: true
          type: object
        id:
          example: evt_1234567890
          type: string
        object:
          example: event
          type: string
        type:
          example: checkout.session.completed
          type: string
      type: object
    handler.SynonymRequest:
      properties:
        is_active:
          type: boolean
        language:
          enum:
            - en
            - ru
            - sr
          type: string
        synonym:
          maxLength: 255
          minLength: 1
          type: string
        term:
          maxLength: 255
          minLength: 1
          type: string
      required:
        - language
        - synonym
        - term
      type: object
    handler.TelegramConnectResponse:
      description: Ответ при успешном подключении Telegram
      properties:
        message:
          description: Сообщение об успешном подключении
          example: telegram.connected
          type: string
      type: object
    handler.TelegramStatusResponse:
      description: Информация о подключении Telegram к аккаунту
      properties:
        connected:
          description: Подключен ли Telegram
          example: true
          type: boolean
        username:
          description: Имя пользователя в Telegram (если подключен)
          example: john_doe
          type: string
      type: object
    handler.TelegramTokenResponse:
      description: Токен для связывания аккаунта с Telegram ботом
      properties:
        generated_at:
          description: Время генерации токена
          example: 2024-01-15T10:30:00Z
          type: string
        token:
          description: Сгенерированный токен
          example: 123_abc...
          type: string
      type: object
    handler.TelegramWebhookResponse:
      description: Ответ на webhook запрос от Telegram
      properties:
        status:
          description: Статус обработки
          example: OK
          type: string
      type: object
    handler.TestShipmentRequest:
      properties:
        cod_amount:
          description: наложенный платеж (RSD)
          example: 0
          type: integer
        content:
          example: Test paket za SVETU
          type: string
        delivery_method:
          description: K = Kurir, S = Šalter, PAK = Paкетомат
          example: K
          type: string
        delivery_type:
          description: standard, cod, parcel_locker
          example: standard
          type: string
        id_rukovanje:
          description: ID услуги доставки (29, 30, 55, 58, 59, 71, 85)
          example: 29
          type: integer
        insured_value:
          description: объявленная ценность (RSD)
          example: 0
          type: integer
        parcel_locker_code:
          description: Код паккетомата (для IdRukovanje = 85)
          example: ""
          type: string
        payment_method:
          description: POF = gotovina
          example: POF
          type: string
        recipient_address:
          example: Takovska 2
          type: string
        recipient_city:
          example: Beograd
          type: string
        recipient_email:
          example: petar@example.com
          type: string
        recipient_name:
          description: Получатель
          example: Petar Petrović
          type: string
        recipient_phone:
          example: "0641234567"
          type: string
        recipient_zip:
          example: "11000"
          type: string
        sender_address:
          example: Bulevar kralja Aleksandra 73
          type: string
        sender_city:
          example: Beograd
          type: string
        sender_email:
          example: b2b@svetu.rs
          type: string
        sender_name:
          description: Отправитель
          example: Sve Tu d.o.o.
          type: string
        sender_phone:
          example: "0641234567"
          type: string
        sender_zip:
          example: "11000"
          type: string
        services:
          description: Дополнительные услуги
          example: PNA
          type: string
        weight:
          description: Параметры отправления
          example: 500
          type: integer
      type: object
    handler.TestShipmentResponse:
      properties:
        cost:
          description: RSD
          type: integer
        created_at:
          type: string
        errors:
          items:
            type: string
          type: array
        external_id:
          type: string
        manifest_id:
          type: integer
        processing_time_ms:
          description: milliseconds
          type: integer
        request_data: {}
        response_data: {}
        shipment_id:
          type: integer
        success:
          type: boolean
        tracking_number:
          type: string
      type: object
    handler.TranslateContentResponse:
      additionalProperties:
        properties:
          description:
            type: string
          title:
            type: string
        type: object
      type: object
    handler.TranslateTextRequest:
      properties:
        provider:
          example: google
          type: string
        source_lang:
          example: en
          type: string
        target_lang:
          example: ru
          type: string
        text:
          example: Hello world
          type: string
      type: object
    handler.TranslatedTextData:
      properties:
        provider:
          example: google
          type: string
        source_lang:
          example: en
          type: string
        target_lang:
          example: ru
          type: string
        translated_text:
          example: Привет мир
          type: string
      type: object
    handler.TranslationFieldStatus:
      properties:
        is_machine_translated:
          type: boolean
        is_translated:
          type: boolean
        is_verified:
          type: boolean
        language:
          type: string
      type: object
    handler.TranslationLimitsData:
      properties:
        daily_limit:
          example: 10000
          type: integer
        provider:
          example: google
          type: string
        remaining:
          example: 6550
          type: integer
        used_today:
          example: 3450
          type: integer
      type: object
    handler.TranslationResponse:
      properties:
        message_id:
          type: integer
        metadata:
          $ref: "#/components/schemas/models.ChatTranslationMetadata"
        original_text:
          type: string
        source_language:
          type: string
        target_language:
          type: string
        translated_text:
          type: string
      type: object
    handler.TranslationResult:
      properties:
        attribute_id:
          example: 123
          type: integer
        errors:
          items:
            type: string
          type: array
        translations:
          additionalProperties: true
          type: object
      type: object
    handler.TranslationStatusItem:
      properties:
        entity_id:
          type: integer
        entity_type:
          type: string
        languages:
          additionalProperties:
            $ref: "#/components/schemas/handler.TranslationFieldStatus"
          type: object
      type: object
    handler.TranslationUpdateRequest:
      properties:
        is_verified:
          example: false
          type: boolean
        language:
          example: en
          type: string
        provider:
          example: google
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    handler.UnifiedCategoryInfo:
      properties:
        id:
          type: integer
        name:
          type: string
        slug:
          type: string
      type: object
    handler.UnifiedLocationInfo:
      properties:
        address_multilingual:
          additionalProperties:
            type: string
          description: Multilingual addresses
          type: object
        city:
          type: string
        country:
          type: string
        lat:
          type: number
        lng:
          type: number
      type: object
    handler.UnifiedProductImage:
      properties:
        alt_text:
          type: string
        is_main:
          type: boolean
        url:
          type: string
      type: object
    handler.UnifiedSearchItem:
      properties:
        category:
          $ref: "#/components/schemas/handler.UnifiedCategoryInfo"
        created_at:
          description: Для расчета свежести
          type: string
        currency:
          type: string
        description:
          type: string
        discount_percentage:
          description: Процент скидки
          type: integer
        has_discount:
          description: Есть ли скидка
          type: boolean
        highlights:
          additionalProperties:
            items:
              type: string
            type: array
          type: object
        id:
          description: Уникальный ID (ml_123 или sp_456)
          type: string
        image_url:
          description: Главное изображение (для удобства)
          type: string
        images:
          items:
            $ref: "#/components/schemas/handler.UnifiedProductImage"
          type: array
        location:
          $ref: "#/components/schemas/handler.UnifiedLocationInfo"
        name:
          type: string
        old_price:
          description: Старая цена (до скидки)
          type: number
        price:
          type: number
        product_id:
          type: integer
        product_type:
          description: '"marketplace" или "storefront"'
          type: string
        score:
          type: number
        stock_quantity:
          description: Остатки товара
          type: integer
        stock_status:
          description: Статус наличия
          type: string
        storefront:
          allOf:
            - $ref: "#/components/schemas/handler.UnifiedStorefrontInfo"
          description: Только для storefront товаров
        storefront_id:
          description: ID витрины для товаров маркетплейса
          type: integer
        storefront_slug:
          description: Slug витрины для правильного URL
          type: string
        thumbnail_url:
          description: Миниатюра главного изображения
          type: string
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          description: Переводы (локаль -> поле -> значение)
          type: object
        user:
          allOf:
            - $ref: "#/components/schemas/handler.UnifiedUserInfo"
          description: Информация о продавце
        views_count:
          description: Для расчета популярности
          type: integer
      type: object
    handler.UnifiedSearchParams:
      properties:
        attribute_filters:
          additionalProperties: true
          type: object
        category_id:
          type: string
        category_ids:
          description: Поддержка множественных категорий
          items:
            type: string
          type: array
        city:
          type: string
        distance:
          description: Радиус поиска
          type: string
        language:
          type: string
        latitude:
          type: number
        limit:
          type: integer
        longitude:
          type: number
        page:
          type: integer
        price_max:
          type: number
        price_min:
          type: number
        product_types:
          description: '["marketplace", "storefront"]'
          items:
            type: string
          type: array
        query:
          type: string
        sort_by:
          type: string
        sort_order:
          type: string
        storefront_id:
          type: integer
      type: object
    handler.UnifiedSearchResult:
      properties:
        facets:
          additionalProperties: true
          type: object
        has_more:
          type: boolean
        items:
          items:
            $ref: "#/components/schemas/handler.UnifiedSearchItem"
          type: array
        limit:
          type: integer
        page:
          type: integer
        took_ms:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer
      type: object
    handler.UnifiedStorefrontInfo:
      properties:
        id:
          type: integer
        is_verified:
          type: boolean
        name:
          type: string
        rating:
          type: number
        slug:
          type: string
      type: object
    handler.UnifiedUserInfo:
      properties:
        id:
          type: integer
        is_verified:
          type: boolean
        name:
          type: string
        picture_url:
          type: string
      type: object
    handler.UnreadCountData:
      properties:
        count:
          example: 5
          type: integer
      type: object
    handler.UpdateConfirmationRequest:
      properties:
        confirmed:
          type: boolean
        selected_category_id:
          type: integer
      type: object
    handler.UpdateFieldTranslationRequest:
      properties:
        provider:
          example: manual
          type: string
        translations:
          additionalProperties:
            type: string
          example:
            '"ru"': '"Привет"'
            '"sr"': '"Здраво"}'
            "{\"en\"": '"Hello"'
          type: object
      type: object
    handler.UpdateSavedSearchRequest:
      properties:
        filters:
          additionalProperties: true
          type: object
        name:
          maxLength: 100
          minLength: 1
          type: string
        notify_enabled:
          type: boolean
        notify_frequency:
          type: string
      type: object
    handler.UpdateUserRoleRequest:
      properties:
        role_id:
          example: 2
          minimum: 1
          type: integer
      required:
        - role_id
      type: object
    handler.VariantGroup:
      properties:
        base_name:
          type: string
        confidence_score:
          description: 0.0-1.0
          type: number
        product_skus:
          items:
            type: string
          type: array
        should_group_auto:
          description: true if confidence > 0.85
          type: boolean
        variant_attr:
          description: e.g., "color", "size", "model"
          type: string
        variant_count:
          type: integer
        variant_values:
          description: e.g., ["Black", "White", "Red"]
          items:
            type: string
          type: array
      type: object
    handler.VoteRequest:
      properties:
        vote_type:
          example: helpful
          type: string
      type: object
    handler.WebhookResponse:
      properties:
        message:
          type: string
        status:
          type: string
      type: object
    handler.WeightOptimizationResult:
      properties:
        field_name:
          type: string
        improvement_percent:
          type: number
        optimized_weight:
          type: number
        original_weight:
          type: number
        sample_size:
          type: integer
        search_queries:
          items:
            type: string
          type: array
      type: object
    health.HealthStatus:
      properties:
        checks:
          additionalProperties:
            type: string
          type: object
        status:
          type: string
        timestamp:
          type: string
      type: object
    interfaces.Address:
      properties:
        city:
          type: string
        company_name:
          type: string
        country:
          type: string
        email:
          type: string
        name:
          type: string
        note:
          type: string
        phone:
          type: string
        postal_code:
          type: string
        street:
          type: string
      type: object
    interfaces.DeliveryAttrs:
      properties:
        dimensions:
          $ref: "#/components/schemas/interfaces.Dimensions"
        hazmat_class:
          type: string
        is_fragile:
          type: boolean
        max_stack_weight_kg:
          type: number
        packaging_type:
          description: box, envelope, pallet, custom
          type: string
        requires_special_handling:
          type: boolean
        stackable:
          type: boolean
        volume_m3:
          type: number
        weight_kg:
          type: number
      type: object
    interfaces.Dimensions:
      properties:
        height_cm:
          description: Высота в сантиметрах
          type: number
        length_cm:
          description: Длина в сантиметрах
          type: number
        width_cm:
          description: Ширина в сантиметрах
          type: number
      type: object
    interfaces.Package:
      properties:
        attributes:
          allOf:
            - $ref: "#/components/schemas/interfaces.DeliveryAttrs"
          description: Дополнительные атрибуты
        description:
          description: Описание содержимого
          type: string
        dimensions:
          allOf:
            - $ref: "#/components/schemas/interfaces.Dimensions"
          description: Габариты
        is_fragile:
          description: Хрупкий товар
          type: boolean
        value:
          description: Объявленная ценность
          type: number
        weight_kg:
          description: Вес в килограммах
          type: number
      type: object
    interfaces.ProofOfDelivery:
      properties:
        delivered_at:
          type: string
        notes:
          type: string
        photo_url:
          type: string
        recipient_name:
          type: string
        signature_url:
          type: string
      type: object
    interfaces.TrackingEvent:
      properties:
        description:
          type: string
        details:
          type: string
        location:
          type: string
        status:
          type: string
        timestamp:
          type: string
      type: object
    logistics.Address:
      properties:
        city:
          type: string
        country:
          type: string
        name:
          type: string
        phone:
          type: string
        postal_code:
          type: string
        street:
          type: string
      type: object
    logistics.CourierStats:
      properties:
        avg_time:
          type: number
        delivered:
          type: integer
        name:
          type: string
        shipments:
          type: integer
        success_rate:
          type: number
      type: object
    logistics.DailyStats:
      properties:
        date:
          type: string
        delivered:
          type: integer
        in_transit:
          type: integer
        problems:
          type: integer
        shipments:
          type: integer
      type: object
    logistics.DashboardStats:
      properties:
        active_shipments:
          type: integer
        avg_delivery_time:
          type: number
        courier_performance:
          items:
            $ref: "#/components/schemas/logistics.CourierStats"
          type: array
        delivery_success_rate:
          type: number
        problem_shipments:
          type: integer
        status_distribution:
          additionalProperties:
            type: integer
          type: object
        today_delivered:
          type: integer
        today_shipments:
          type: integer
        weekly_deliveries:
          items:
            $ref: "#/components/schemas/logistics.DailyStats"
          type: array
      type: object
    logistics.Document:
      properties:
        created_at:
          type: string
        name:
          type: string
        type:
          description: label, invoice, customs
          type: string
        url:
          type: string
      type: object
    logistics.JSONB:
      additionalProperties: true
      type: object
    logistics.OrderInfo:
      properties:
        order_id:
          type: integer
        price:
          type: number
        product_image:
          type: string
        product_name:
          type: string
        quantity:
          type: integer
      type: object
    logistics.ProblemComment:
      properties:
        admin:
          allOf:
            - $ref: "#/components/schemas/logistics.User"
          description: JOIN поля
        admin_id:
          type: integer
        comment:
          type: string
        comment_type:
          description: "'comment', 'status_change', 'assignment', 'resolution'"
          type: string
        created_at:
          type: string
        id:
          type: integer
        metadata:
          $ref: "#/components/schemas/logistics.JSONB"
        problem_id:
          type: integer
      type: object
    logistics.ProblemSeverity:
      enum:
        - low
        - medium
        - high
        - critical
      type: string
      x-enum-varnames:
        - SeverityLow
        - SeverityMedium
        - SeverityHigh
        - SeverityCritical
    logistics.ProblemShipment:
      properties:
        assigned_to:
          type: integer
        assigned_user:
          $ref: "#/components/schemas/logistics.User"
        comments:
          description: Дополнительные поля
          items:
            $ref: "#/components/schemas/logistics.ProblemComment"
          type: array
        created_at:
          type: string
        description:
          type: string
        history:
          items:
            $ref: "#/components/schemas/logistics.ProblemStatusHistory"
          type: array
        id:
          type: integer
        metadata:
          $ref: "#/components/schemas/logistics.JSONB"
        order_id:
          type: integer
        problem_type:
          $ref: "#/components/schemas/logistics.ProblemType"
        resolution:
          type: string
        resolved_at:
          type: string
        severity:
          $ref: "#/components/schemas/logistics.ProblemSeverity"
        shipment_id:
          type: integer
        shipment_type:
          type: string
        status:
          $ref: "#/components/schemas/logistics.ProblemStatus"
        tracking_number:
          type: string
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/logistics.User"
        user_id:
          type: integer
      type: object
    logistics.ProblemStatus:
      enum:
        - open
        - investigating
        - waiting_response
        - resolved
        - closed
      type: string
      x-enum-varnames:
        - StatusOpen
        - StatusInvestigating
        - StatusWaitingResponse
        - StatusResolved
        - StatusClosed
    logistics.ProblemStatusHistory:
      properties:
        admin:
          allOf:
            - $ref: "#/components/schemas/logistics.User"
          description: JOIN поля
        admin_id:
          type: integer
        comment:
          type: string
        created_at:
          type: string
        id:
          type: integer
        metadata:
          $ref: "#/components/schemas/logistics.JSONB"
        new_assigned:
          $ref: "#/components/schemas/logistics.User"
        new_assigned_to:
          type: integer
        new_status:
          type: string
        old_assigned:
          $ref: "#/components/schemas/logistics.User"
        old_assigned_to:
          type: integer
        old_status:
          type: string
        problem_id:
          type: integer
      type: object
    logistics.ProblemType:
      enum:
        - delayed
        - lost
        - damaged
        - return_requested
        - wrong_address
        - complaint
      type: string
      x-enum-varnames:
        - ProblemTypeDelayed
        - ProblemTypeLost
        - ProblemTypeDamaged
        - ProblemTypeReturnRequested
        - ProblemTypeWrongAddress
        - ProblemTypeComplaint
    logistics.ShipmentDetails:
      properties:
        created_at:
          type: string
        delivered_at:
          type: string
        documents:
          description: Документы
          items:
            $ref: "#/components/schemas/logistics.Document"
          type: array
        id:
          type: integer
        order_info:
          allOf:
            - $ref: "#/components/schemas/logistics.OrderInfo"
          description: Информация о товаре
        problems:
          description: Проблемы
          items:
            $ref: "#/components/schemas/logistics.ProblemShipment"
          type: array
        receiver_address:
          $ref: "#/components/schemas/logistics.Address"
        sender_address:
          allOf:
            - $ref: "#/components/schemas/logistics.Address"
          description: Адреса
        status:
          type: string
        status_history:
          description: История статусов
          items:
            $ref: "#/components/schemas/logistics.StatusHistoryEntry"
          type: array
        tracking_number:
          type: string
        type:
          description: bex, postexpress, marketplace
          type: string
        updated_at:
          type: string
      type: object
    logistics.StatusHistoryEntry:
      properties:
        location:
          type: string
        status:
          type: string
        status_text:
          type: string
        timestamp:
          type: string
      type: object
    logistics.User:
      properties:
        email:
          type: string
        id:
          type: integer
        name:
          type: string
      type: object
    models.AITranslateBatchRequest:
      properties:
        items:
          items:
            $ref: "#/components/schemas/models.TranslationItem"
          minItems: 1
          type: array
        provider:
          type: string
        source_lang:
          type: string
        target_langs:
          items:
            type: string
          minItems: 1
          type: array
      required:
        - items
        - source_lang
        - target_langs
      type: object
    models.AITranslateBatchResponse:
      properties:
        failed_count:
          type: integer
        results:
          items:
            $ref: "#/components/schemas/models.AITranslationResult"
          type: array
        success_count:
          type: integer
        total_items:
          type: integer
      type: object
    models.AITranslateRequest:
      properties:
        provider:
          type: string
        source_lang:
          type: string
        target_lang:
          type: string
        text:
          type: string
      required:
        - source_lang
        - target_lang
        - text
      type: object
    models.AITranslateResponse:
      properties:
        confidence:
          type: number
        provider:
          type: string
        translation:
          type: string
      type: object
    models.AITranslationResult:
      properties:
        confidence:
          type: number
        error:
          type: string
        key:
          type: string
        module:
          type: string
        provider:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    models.AddContactRequest:
      properties:
        added_from_chat_id:
          type: integer
        contact_user_id:
          type: integer
        notes:
          type: string
      required:
        - contact_user_id
      type: object
    models.AddItemToGroupRequest:
      properties:
        attribute_id:
          type: integer
        custom_display_name:
          type: string
        icon:
          type: string
        sort_order:
          type: integer
        visibility_condition:
          items:
            type: integer
          type: array
      required:
        - attribute_id
      type: object
    models.AddToCartRequest:
      properties:
        product_id:
          type: integer
        quantity:
          minimum: 1
          type: integer
        variant_id:
          type: integer
      required:
        - product_id
        - quantity
      type: object
    models.AddressSuggestion:
      properties:
        full_address:
          type: string
        latitude:
          type: number
        longitude:
          type: number
        municipality:
          type: string
        municipality_id:
          type: integer
        place_id:
          type: string
        place_name:
          type: string
        postal_code:
          type: string
        street_id:
          type: string
        street_name:
          type: string
      type: object
    models.AdminUser:
      properties:
        created_at:
          type: string
        created_by:
          type: integer
        email:
          type: string
        id:
          type: integer
        notes:
          type: string
      type: object
    models.AggregatedRating:
      properties:
        average:
          type: number
        breakdown:
          $ref: "#/components/schemas/models.RatingBreakdown"
        distribution:
          additionalProperties:
            type: integer
          type: object
        entity_id:
          type: integer
        entity_type:
          type: string
        last_review_at:
          type: string
        recent_rating:
          type: number
        recent_reviews:
          type: integer
        recent_trend:
          description: up, down, stable
          type: string
        total_reviews:
          type: integer
        verified_percentage:
          type: integer
      type: object
    models.AnalyticsData:
      properties:
        avg_delivery_time:
          type: string
        cost_per_shipment:
          type: number
        customer_satisfaction:
          type: number
        delivery_rate:
          type: number
        geographic_distribution:
          additionalProperties:
            format: float64
            type: number
          type: object
        period:
          type: string
        problem_rate:
          type: number
        provider_comparison:
          items:
            $ref: "#/components/schemas/models.ProviderStats"
          type: array
        total_shipments:
          type: integer
        trend_data:
          items:
            $ref: "#/components/schemas/models.TrendPoint"
          type: array
      type: object
    models.ApplyTranslationsRequest:
      properties:
        translations:
          items:
            $ref: "#/components/schemas/models.TranslationUpdate"
          type: array
      required:
        - translations
      type: object
    models.AttachGroupToCategoryRequest:
      properties:
        collapsed_by_default:
          type: boolean
        component_id:
          type: integer
        configuration:
          items:
            type: integer
          type: array
        display_mode:
          type: string
        group_id:
          type: integer
        is_active:
          type: boolean
        sort_order:
          type: integer
      required:
        - group_id
      type: object
    models.AttributeEntityType:
      enum:
        - listing
        - product
        - product_variant
      type: string
      x-enum-comments:
        AttributeEntityTypeListing: Объявление маркетплейса
        AttributeEntityTypeProduct: Товар витрины
        AttributeEntityTypeProductVariant: Вариант товара
      x-enum-descriptions:
        - Объявление маркетплейса
        - Товар витрины
        - Вариант товара
      x-enum-varnames:
        - AttributeEntityTypeListing
        - AttributeEntityTypeProduct
        - AttributeEntityTypeProductVariant
    models.AttributeGroup:
      properties:
        code:
          type: string
        created_at:
          type: string
        description:
          type: string
        display_name:
          type: string
        icon:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        is_system:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    models.AttributeGroupItem:
      properties:
        attribute:
          $ref: "#/components/schemas/models.CategoryAttribute"
        attribute_id:
          type: integer
        created_at:
          type: string
        custom_display_name:
          type: string
        group_id:
          type: integer
        icon:
          type: string
        id:
          type: integer
        sort_order:
          type: integer
        visibility_condition:
          items:
            type: integer
          type: array
      type: object
    models.AttributePurpose:
      enum:
        - regular
        - variant
        - both
      type: string
      x-enum-comments:
        PurposeBoth: Может использоваться в обоих случаях
        PurposeRegular: Обычный атрибут для фильтрации/поиска
        PurposeVariant: Вариативный атрибут (влияет на SKU)
      x-enum-descriptions:
        - Обычный атрибут для фильтрации/поиска
        - Вариативный атрибут (влияет на SKU)
        - Может использоваться в обоих случаях
      x-enum-varnames:
        - PurposeRegular
        - PurposeVariant
        - PurposeBoth
    models.AuditStatistics:
      properties:
        actions_by_type:
          additionalProperties:
            type: integer
          type: object
        actions_by_user:
          additionalProperties:
            type: integer
          type: object
        recent_actions:
          items:
            $ref: "#/components/schemas/models.TranslationAuditLog"
          type: array
        total_actions:
          type: integer
      type: object
    models.BEXParcelShop:
      properties:
        address:
          type: string
        bex_id:
          type: integer
        city:
          type: string
        code:
          type: string
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        latitude:
          type: number
        longitude:
          type: number
        name:
          type: string
        phone:
          type: string
        postal_code:
          type: string
        updated_at:
          type: string
        working_hours:
          items:
            type: integer
          type: array
      type: object
    models.BEXShipment:
      properties:
        bex_shipment_id:
          description: BEX идентификаторы
          type: integer
        cod_amount:
          type: number
        comment_private:
          type: string
        comment_public:
          description: Комментарии
          type: string
        created_at:
          type: string
        delivered_at:
          type: string
        delivery_instructions:
          type: string
        failed_at:
          type: string
        failed_reason:
          type: string
        id:
          type: integer
        insurance_amount:
          type: number
        label_base64:
          description: Документы
          type: string
        label_url:
          type: string
        marketplace_order_id:
          type: integer
        pay_type:
          description: Услуги
          type: integer
        personal_delivery:
          type: boolean
        picked_up_at:
          type: string
        recipient_address:
          type: string
        recipient_city:
          type: string
        recipient_email:
          type: string
        recipient_name:
          description: Получатель
          type: string
        recipient_phone:
          type: string
        recipient_postal_code:
          type: string
        registered_at:
          description: Временные метки
          type: string
        return_package:
          type: boolean
        return_signed_confirmation:
          type: boolean
        return_signed_invoices:
          type: boolean
        returned_at:
          type: string
        sender_address:
          type: string
        sender_city:
          type: string
        sender_email:
          type: string
        sender_name:
          description: Отправитель
          type: string
        sender_phone:
          type: string
        sender_postal_code:
          type: string
        shipment_category:
          type: integer
        shipment_contents:
          type: integer
        shipment_type:
          description: Параметры посылки
          type: integer
        status:
          allOf:
            - $ref: "#/components/schemas/backend_internal_proj_bexexpress_models.ShipmentSta\
                tus"
          description: Статус
        status_history:
          description: История статусов
          items:
            type: integer
          type: array
        status_text:
          type: string
        storefront_order_id:
          type: integer
        total_packages:
          type: integer
        tracking_number:
          type: string
        updated_at:
          type: string
        weight_kg:
          type: number
      type: object
    models.BalanceTransaction:
      properties:
        amount:
          type: number
        completed_at:
          type: string
        created_at:
          type: string
        currency:
          type: string
        description:
          type: string
        id:
          type: integer
        payment_details:
          items:
            type: integer
          type: array
        payment_method:
          type: string
        status:
          type: string
        type:
          type: string
        user_id:
          type: integer
      type: object
    models.BatchOperationsRequest:
      properties:
        create:
          items:
            $ref: "#/components/schemas/models.Translation"
          type: array
        delete:
          items:
            type: integer
          type: array
        update:
          items:
            $ref: "#/components/schemas/models.Translation"
          type: array
      type: object
    models.BatchOperationsResult:
      properties:
        created:
          type: integer
        deleted:
          type: integer
        errors:
          items:
            type: string
          type: array
        failed:
          type: integer
        updated:
          type: integer
      type: object
    models.BatchTranslateResult:
      properties:
        errors:
          items:
            type: string
          type: array
        failed_count:
          type: integer
        results:
          items:
            $ref: "#/components/schemas/models.TranslateResult"
          type: array
        translated_count:
          type: integer
      type: object
    models.BillingCycle:
      enum:
        - monthly
        - yearly
      type: string
      x-enum-varnames:
        - BillingCycleMonthly
        - BillingCycleYearly
    models.BreakdownItem:
      properties:
        average:
          type: number
        count:
          type: integer
      type: object
    models.BulkCreateProductsRequest:
      properties:
        products:
          items:
            $ref: "#/components/schemas/models.CreateProductRequest"
          maxItems: 100
          minItems: 1
          type: array
      required:
        - products
      type: object
    models.BulkCreateProductsResponse:
      properties:
        created:
          description: IDs of successfully created products
          items:
            type: integer
          type: array
        failed:
          description: Errors for failed operations
          items:
            $ref: "#/components/schemas/models.BulkOperationError"
          type: array
      type: object
    models.BulkDeleteProductsRequest:
      properties:
        product_ids:
          items:
            type: integer
          maxItems: 100
          minItems: 1
          type: array
      required:
        - product_ids
      type: object
    models.BulkDeleteProductsResponse:
      properties:
        deleted:
          description: IDs of successfully deleted products
          items:
            type: integer
          type: array
        failed:
          description: Errors for failed operations
          items:
            $ref: "#/components/schemas/models.BulkOperationError"
          type: array
      type: object
    models.BulkOperationError:
      properties:
        error:
          description: Error message
          type: string
        index:
          description: Index in the request array
          type: integer
        product_id:
          description: Product ID if available
          type: integer
      type: object
    models.BulkTranslateRequest:
      properties:
        auto_approve:
          type: boolean
        entity_ids:
          items:
            type: integer
          type: array
        entity_type:
          type: string
        overwrite_existing:
          type: boolean
        provider_id:
          type: integer
        source_language:
          type: string
        target_languages:
          items:
            type: string
          type: array
      type: object
    models.BulkUpdateItem:
      properties:
        product_id:
          type: integer
        updates:
          $ref: "#/components/schemas/models.UpdateProductRequest"
      required:
        - product_id
        - updates
      type: object
    models.BulkUpdateProductsRequest:
      properties:
        updates:
          items:
            $ref: "#/components/schemas/models.BulkUpdateItem"
          maxItems: 100
          minItems: 1
          type: array
      required:
        - updates
      type: object
    models.BulkUpdateProductsResponse:
      properties:
        failed:
          description: Errors for failed operations
          items:
            $ref: "#/components/schemas/models.BulkOperationError"
          type: array
        updated:
          description: IDs of successfully updated products
          items:
            type: integer
          type: array
      type: object
    models.BulkUpdateStatusRequest:
      properties:
        is_active:
          type: boolean
        product_ids:
          items:
            type: integer
          maxItems: 100
          minItems: 1
          type: array
      required:
        - product_ids
      type: object
    models.BulkUpdateStatusResponse:
      properties:
        failed:
          description: Errors for failed operations
          items:
            $ref: "#/components/schemas/models.BulkOperationError"
          type: array
        updated:
          description: IDs of successfully updated products
          items:
            type: integer
          type: array
      type: object
    models.CanReviewResponse:
      properties:
        can_review:
          type: boolean
        existing_review_id:
          type: integer
        has_existing_review:
          type: boolean
        reason:
          type: string
      type: object
    models.CancelOrderRequest:
      properties:
        reason:
          type: string
      type: object
    models.CarGeneration:
      properties:
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        model:
          allOf:
            - $ref: "#/components/schemas/models.CarModel"
          description: Поля для JOIN
        model_id:
          type: integer
        name:
          type: string
        slug:
          type: string
        sort_order:
          type: integer
        updated_at:
          type: string
        year_end:
          type: integer
        year_start:
          type: integer
      type: object
    models.CarMake:
      properties:
        country:
          type: string
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        is_domestic:
          type: boolean
        logo_url:
          type: string
        name:
          type: string
        popularity_rs:
          type: integer
        slug:
          type: string
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    models.CarModel:
      properties:
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        make:
          allOf:
            - $ref: "#/components/schemas/models.CarMake"
          description: Поля для JOIN
        make_id:
          type: integer
        name:
          type: string
        slug:
          type: string
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    models.CategoryAttribute:
      properties:
        affects_stock:
          type: boolean
        attribute_type:
          type: string
        created_at:
          type: string
        custom_component:
          type: string
        display_name:
          type: string
        icon:
          type: string
        id:
          type: integer
        is_filterable:
          type: boolean
        is_required:
          type: boolean
        is_searchable:
          type: boolean
        is_variant_compatible:
          type: boolean
        name:
          type: string
        option_translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        options:
          items:
            type: integer
          type: array
        show_in_card:
          type: boolean
        show_in_list:
          type: boolean
        sort_order:
          type: integer
        translated_options:
          items:
            type: integer
          type: array
        translations:
          additionalProperties:
            type: string
          type: object
        validation_rules:
          items:
            type: integer
          type: array
      type: object
    models.CategoryAttributeMapping:
      properties:
        attribute:
          $ref: "#/components/schemas/models.CategoryAttribute"
        attribute_id:
          type: integer
        category_id:
          type: integer
        custom_component:
          type: string
        is_enabled:
          type: boolean
        is_required:
          type: boolean
        show_in_card:
          type: boolean
        show_in_list:
          type: boolean
        sort_order:
          type: integer
      type: object
    models.CategoryDefaults:
      properties:
        category_id:
          type: integer
        created_at:
          type: string
        default_height_cm:
          type: number
        default_length_cm:
          type: number
        default_packaging_type:
          type: string
        default_weight_kg:
          type: number
        default_width_cm:
          type: number
        id:
          type: integer
        is_typically_fragile:
          type: boolean
        updated_at:
          type: string
      type: object
    models.CategoryKeyword:
      properties:
        category_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        is_negative:
          type: boolean
        keyword:
          type: string
        keyword_type:
          type: string
        language:
          type: string
        source:
          type: string
        success_rate:
          type: number
        updated_at:
          type: string
        usage_count:
          type: integer
        weight:
          type: number
      type: object
    models.CategoryKeywordRequest:
      properties:
        is_negative:
          type: boolean
        keyword:
          type: string
        keyword_type:
          type: string
        language:
          type: string
        weight:
          maximum: 10
          minimum: 0
          type: number
      required:
        - keyword
        - keyword_type
        - language
      type: object
    models.CategoryKeywordUpdateRequest:
      properties:
        weight:
          maximum: 10
          minimum: 0
          type: number
      type: object
    models.CategoryProposal:
      properties:
        created_at:
          type: string
        description:
          type: string
        expected_products:
          description: Number of products that would use this
          type: integer
        external_category_source:
          description: Original external category
          type: string
        id:
          type: integer
        name:
          type: string
        name_translations:
          $ref: "#/components/schemas/models.NameTranslations"
        parent_category_id:
          type: integer
        proposed_by_user_id:
          type: integer
        reasoning:
          description: AI reasoning
          type: string
        reviewed_at:
          type: string
        reviewed_by_user_id:
          type: integer
        similar_categories:
          description: Related category IDs
          items:
            type: integer
          type: array
        status:
          $ref: "#/components/schemas/models.CategoryProposalStatus"
        storefront_id:
          type: integer
        tags:
          items:
            type: string
          type: array
        updated_at:
          type: string
      type: object
    models.CategoryProposalApproveRequest:
      properties:
        create_category:
          description: If true, creates the category in c2c_categories
          type: boolean
      type: object
    models.CategoryProposalListResponse:
      properties:
        page:
          type: integer
        page_size:
          type: integer
        proposals:
          items:
            $ref: "#/components/schemas/models.CategoryProposal"
          type: array
        total:
          type: integer
        total_pages:
          type: integer
      type: object
    models.CategoryProposalRejectRequest:
      properties:
        reason:
          description: Optional rejection reason
          type: string
      type: object
    models.CategoryProposalStatus:
      enum:
        - pending
        - approved
        - rejected
      type: string
      x-enum-varnames:
        - CategoryProposalStatusPending
        - CategoryProposalStatusApproved
        - CategoryProposalStatusRejected
    models.CategorySuggestion:
      properties:
        id:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
      type: object
    models.CategoryTreeNode:
      properties:
        children:
          items:
            $ref: "#/components/schemas/models.CategoryTreeNode"
          type: array
        children_count:
          description: Новое поле
          type: integer
        created_at:
          type: string
        custom_ui_component:
          type: string
        has_custom_ui:
          type: boolean
        icon:
          type: string
        id:
          type: integer
        level:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
        parent_id:
          type: integer
        path:
          type: string
        slug:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    models.CategoryVariantAttribute:
      properties:
        category_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        is_required:
          type: boolean
        sort_order:
          type: integer
        updated_at:
          type: string
        variant_attribute:
          allOf:
            - $ref: "#/components/schemas/models.ProductVariantAttribute"
          description: Вложенные данные для удобства
        variant_attribute_name:
          type: string
      type: object
    models.CategoryVariantAttributeAssignment:
      properties:
        attribute_id:
          type: integer
        is_required:
          type: boolean
        sort_order:
          type: integer
      required:
        - attribute_id
      type: object
    models.CategoryVariantAttributeUpdate:
      properties:
        is_required:
          type: boolean
        sort_order:
          type: integer
        variant_attribute_name:
          type: string
      type: object
    models.CategoryVariantAttributesRequest:
      properties:
        variant_attributes:
          items:
            $ref: "#/components/schemas/models.CategoryVariantAttributeUpdate"
          type: array
      type: object
    models.CategoryVariantAttributesUpdateRequest:
      properties:
        attributes:
          items:
            $ref: "#/components/schemas/models.CategoryVariantAttributeAssignment"
          type: array
        category_id:
          type: integer
      required:
        - attributes
        - category_id
      type: object
    models.ChatAttachment:
      properties:
        content_type:
          description: MIME тип
          type: string
        created_at:
          type: string
        file_name:
          description: Оригинальное имя файла
          type: string
        file_path:
          description: Путь к файлу в хранилище
          type: string
        file_size:
          description: Размер в байтах
          type: integer
        file_type:
          description: image, video, document
          type: string
        id:
          type: integer
        message_id:
          type: integer
        metadata:
          additionalProperties: true
          description: Дополнительные метаданные
          type: object
        public_url:
          description: Публичный URL для доступа
          type: string
        storage_bucket:
          description: chat-files
          type: string
        storage_type:
          description: minio
          type: string
        thumbnail_url:
          description: URL превью для видео
          type: string
      type: object
    models.ChatTranslationMetadata:
      properties:
        cache_hit:
          description: From Redis cache?
          type: boolean
        provider:
          description: '"claude-haiku"'
          type: string
        translated_at:
          description: Timestamp
          type: string
        translated_from:
          description: '"ru"'
          type: string
        translated_to:
          description: '"en"'
          type: string
      type: object
    models.ChatUserSettings:
      properties:
        auto_translate_chat:
          type: boolean
        chat_tone_moderation:
          description: Модерация тона сообщений
          type: boolean
        preferred_language:
          description: '"ru", "en", "sr"'
          type: string
        show_original_language_badge:
          type: boolean
      type: object
    models.CheckLimitRequest:
      properties:
        count:
          type: integer
        resource_type:
          enum:
            - storefront
            - product
            - staff
            - image
          type: string
      required:
        - resource_type
      type: object
    models.CheckLimitResponse:
      properties:
        allowed:
          type: boolean
        current_usage:
          type: integer
        limit:
          type: integer
        message:
          type: string
        required_plan:
          type: string
        resource_type:
          type: string
      type: object
    models.ComponentTemplate:
      properties:
        category_id:
          type: integer
        component_id:
          type: integer
        created_at:
          type: string
        created_by:
          type: integer
        description:
          type: string
        id:
          type: integer
        name:
          type: string
        preview_image:
          type: string
        template_config:
          items:
            type: integer
          type: array
      type: object
    models.ConflictResolution:
      properties:
        conflict_id:
          type: integer
        custom_value:
          type: string
        resolution:
          enum:
            - use_frontend
            - use_database
            - use_custom
          type: string
      required:
        - conflict_id
        - resolution
      type: object
    models.ConflictResolutionBatch:
      properties:
        resolutions:
          items:
            $ref: "#/components/schemas/models.ConflictResolution"
          type: array
      required:
        - resolutions
      type: object
    models.ConflictResolutionResult:
      properties:
        errors:
          items:
            type: string
          type: array
        failed:
          type: integer
        resolved:
          type: integer
        total_processed:
          type: integer
      type: object
    models.ContactsListResponse:
      properties:
        contacts:
          items:
            $ref: "#/components/schemas/models.UserContact"
          type: array
        limit:
          type: integer
        page:
          type: integer
        total:
          type: integer
      type: object
    models.CostBreakdown:
      properties:
        base_price:
          type: number
        cod_fee:
          type: number
        discount:
          type: number
        fragile_surcharge:
          type: number
        fuel_surcharge:
          type: number
        insurance_fee:
          type: number
        oversize_surcharge:
          type: number
        remote_area_surcharge:
          type: number
        tax:
          type: number
        total:
          type: number
        weight_surcharge:
          type: number
      type: object
    models.CreateCategoryProposalRequest:
      properties:
        description:
          type: string
        expected_products:
          type: integer
        external_category_source:
          type: string
        name:
          maxLength: 255
          minLength: 2
          type: string
        name_translations:
          $ref: "#/components/schemas/models.NameTranslations"
        parent_category_id:
          type: integer
        reasoning:
          type: string
        similar_categories:
          items:
            type: integer
          type: array
        storefront_id:
          type: integer
        tags:
          items:
            type: string
          type: array
      required:
        - name
      type: object
    models.CreateComponentUsageRequest:
      properties:
        category_id:
          type: integer
        component_id:
          type: integer
        conditions_logic:
          items:
            type: integer
          type: array
        configuration:
          items:
            type: integer
          type: array
        is_active:
          type: boolean
        placement:
          type: string
        priority:
          type: integer
        usage_context:
          type: string
      required:
        - component_id
        - usage_context
      type: object
    models.CreateCustomComponentRequest:
      properties:
        component_type:
          enum:
            - category
            - attribute
            - filter
          type: string
        description:
          type: string
        is_active:
          type: boolean
        name:
          maxLength: 255
          minLength: 1
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
      required:
        - component_type
        - name
        - template_code
      type: object
    models.CreateMessageRequest:
      properties:
        chat_id:
          type: integer
        content:
          type: string
        listing_id:
          type: integer
        receiver_id:
          type: integer
        storefront_product_id:
          description: Новое поле для товаров витрин
          type: integer
      required:
        - content
        - receiver_id
      type: object
    models.CreateOrderRequest:
      properties:
        billing_address:
          $ref: "#/components/schemas/models.ShippingAddress"
        cart_id:
          type: integer
        customer_notes:
          type: string
        items:
          description: альтернатива cart_id
          items:
            $ref: "#/components/schemas/models.OrderItemRequest"
          type: array
        payment_method:
          type: string
        shipping_address:
          $ref: "#/components/schemas/models.ShippingAddress"
        shipping_method:
          type: string
        storefront_id:
          type: integer
      required:
        - billing_address
        - payment_method
        - shipping_address
        - shipping_method
        - storefront_id
      type: object
    models.CreatePickupOrderRequest:
      properties:
        customer_email:
          type: string
        customer_name:
          type: string
        customer_phone:
          type: string
        notes:
          type: string
        order_id:
          type: integer
        storefront_order_id:
          type: integer
      required:
        - customer_name
        - customer_phone
      type: object
    models.CreateProductRequest:
      properties:
        attributes:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        barcode:
          type: string
        category_id:
          type: integer
        currency:
          type: string
        description:
          minLength: 10
          type: string
        has_individual_location:
          description: Location fields
          type: boolean
        has_variants:
          description: Variant fields
          type: boolean
        individual_address:
          type: string
        individual_latitude:
          type: number
        individual_longitude:
          type: number
        is_active:
          type: boolean
        location_privacy:
          enum:
            - exact
            - street
            - district
            - city
          type: string
        name:
          maxLength: 255
          minLength: 3
          type: string
        price:
          minimum: 0
          type: number
        show_on_map:
          type: boolean
        sku:
          type: string
        stock_quantity:
          minimum: 0
          type: integer
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          description: 'Translations - map[language]map[field]text, e.g. {"ru": {"title":
            "...", "description": "..."}}'
          type: object
        variant_settings:
          $ref: "#/components/schemas/models.VariantSettings"
        variants:
          items:
            $ref: "#/components/schemas/models.CreateVariantInline"
          type: array
      required:
        - category_id
        - currency
        - description
        - name
        - price
      type: object
    models.CreateReviewConfirmationRequest:
      properties:
        notes:
          type: string
        status:
          enum:
            - confirmed
            - disputed
          type: string
      required:
        - status
      type: object
    models.CreateReviewDisputeRequest:
      properties:
        description:
          maxLength: 1000
          minLength: 10
          type: string
        reason:
          enum:
            - not_a_customer
            - false_information
            - deal_canceled
            - spam
            - other
          type: string
      required:
        - description
        - reason
      type: object
    models.CreateReviewRequest:
      properties:
        comment:
          type: string
        cons:
          type: string
        entity_id:
          type: integer
        entity_type:
          enum:
            - listing
            - room
            - car
          type: string
        original_language:
          type: string
        photos:
          items:
            type: string
          type: array
        pros:
          type: string
        rating:
          maximum: 5
          minimum: 1
          type: integer
        storefront_id:
          type: integer
      required:
        - entity_id
        - entity_type
        - original_language
        - rating
      type: object
    models.CreateSubscriptionRequest:
      properties:
        billing_cycle:
          allOf:
            - $ref: "#/components/schemas/models.BillingCycle"
          enum:
            - monthly
            - yearly
        payment_method:
          type: string
        plan_code:
          type: string
        start_trial:
          type: boolean
        user_id:
          type: integer
      required:
        - billing_cycle
        - payment_method
        - plan_code
        - user_id
      type: object
    models.CreateTemplateRequest:
      properties:
        component_id:
          type: integer
        description:
          type: string
        name:
          type: string
        variables:
          items:
            type: integer
          type: array
      required:
        - component_id
        - name
      type: object
    models.CreateVariantInline:
      properties:
        barcode:
          type: string
        compare_at_price:
          type: number
        cost_price:
          type: number
        dimensions:
          additionalProperties: true
          type: object
        is_default:
          type: boolean
        low_stock_threshold:
          type: integer
        price:
          type: number
        sku:
          type: string
        stock_quantity:
          minimum: 0
          type: integer
        variant_attributes:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        weight:
          type: number
      required:
        - variant_attributes
      type: object
    models.CustomUIComponent:
      properties:
        component_type:
          example: category
          type: string
        created_at:
          type: string
        created_by:
          type: integer
        description:
          example: Компонент для отображения автомобильных категорий
          type: string
        id:
          example: 1
          type: integer
        is_active:
          example: true
          type: boolean
        name:
          example: Auto Category Component
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
        updated_at:
          type: string
        updated_by:
          type: integer
      type: object
    models.CustomUIComponentUsage:
      properties:
        category_id:
          type: integer
        category_name:
          type: string
        component:
          $ref: "#/components/schemas/models.CustomUIComponent"
        component_id:
          type: integer
        component_name:
          type: string
        conditions_logic:
          items:
            type: integer
          type: array
        configuration:
          items:
            type: integer
          type: array
        created_at:
          type: string
        created_by:
          type: integer
        id:
          type: integer
        is_active:
          type: boolean
        placement:
          type: string
        priority:
          type: integer
        updated_at:
          type: string
        updated_by:
          type: integer
        usage_context:
          type: string
      type: object
    models.DeliveryAttributes:
      properties:
        dimensions:
          $ref: "#/components/schemas/models.Dimensions"
        hazmat_class:
          type: string
        is_fragile:
          type: boolean
        max_stack_weight_kg:
          type: number
        packaging_type:
          type: string
        requires_special_handling:
          type: boolean
        stackable:
          type: boolean
        volume_m3:
          type: number
        weight_kg:
          type: number
      type: object
    models.DeliveryProvider:
      enum:
        - posta_srbije
        - aks
        - bex
        - d_express
        - city_express
        - self_pickup
        - own_delivery
      type: string
      x-enum-varnames:
        - DeliveryProviderPostaSrbije
        - DeliveryProviderAKS
        - DeliveryProviderBEX
        - DeliveryProviderDExpress
        - DeliveryProviderCityExpress
        - DeliveryProviderSelfPickup
        - DeliveryProviderOwnDelivery
    models.DeliveryService:
      properties:
        code:
          type: string
        description:
          type: string
        is_available:
          type: boolean
        is_included:
          type: boolean
        name:
          type: string
        price:
          type: number
      type: object
    models.DeliveryZone:
      properties:
        name:
          type: string
        postal_codes:
          items:
            type: string
          type: array
        price_modifier:
          type: number
      type: object
    models.Dimensions:
      properties:
        height_cm:
          type: number
        length_cm:
          type: number
        width_cm:
          type: number
      type: object
    models.ExportFormat:
      enum:
        - json
        - csv
        - xliff
      type: string
      x-enum-varnames:
        - ExportFormatJSON
        - ExportFormatCSV
        - ExportFormatXLIFF
    models.ExportRequest:
      properties:
        entity_type:
          type: string
        format:
          $ref: "#/components/schemas/models.ExportFormat"
        include_metadata:
          type: boolean
        language:
          type: string
        module:
          type: string
        only_verified:
          type: boolean
      type: object
    models.FrontendModule:
      properties:
        complete:
          type: integer
        incomplete:
          type: integer
        keys:
          type: integer
        languages:
          additionalProperties:
            $ref: "#/components/schemas/models.ModuleStats"
          type: object
        missing:
          type: integer
        name:
          type: string
        placeholders:
          type: integer
      type: object
    models.FrontendTranslation:
      properties:
        key:
          type: string
        metadata:
          $ref: "#/components/schemas/models.TranslationMetadata"
        module:
          type: string
        path:
          description: Full path like "marketplace.filters.priceFrom"
          type: string
        status:
          $ref: "#/components/schemas/models.TranslationStatus"
        translations:
          additionalProperties:
            type: string
          description: lang -> text
          type: object
      type: object
    models.GeoLocation:
      properties:
        city:
          type: string
        country:
          type: string
        lat:
          type: number
        lon:
          type: number
      type: object
    models.ImportError:
      properties:
        created_at:
          type: string
        error_message:
          type: string
        field_name:
          type: string
        id:
          type: integer
        job_id:
          type: integer
        line_number:
          type: integer
        raw_data:
          type: string
      type: object
    models.ImportJob:
      properties:
        completed_at:
          type: string
        created_at:
          type: string
        error_message:
          type: string
        failed_records:
          type: integer
        file_name:
          type: string
        file_type:
          description: xml, csv, zip
          type: string
        file_url:
          description: for URL imports
          type: string
        id:
          type: integer
        processed_records:
          type: integer
        started_at:
          type: string
        status:
          description: pending, processing, completed, failed
          type: string
        storefront_id:
          type: integer
        successful_records:
          type: integer
        total_records:
          type: integer
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.ImportJobStatus:
      properties:
        completed_at:
          type: string
        errors:
          items:
            $ref: "#/components/schemas/models.ImportError"
          type: array
        estimated_time_left:
          description: seconds
          type: integer
        failed_records:
          type: integer
        id:
          type: integer
        processed_records:
          type: integer
        progress:
          description: 0-100
          type: number
        started_at:
          type: string
        status:
          type: string
        successful_records:
          type: integer
        total_records:
          type: integer
      type: object
    models.ImportJobsResponse:
      properties:
        jobs:
          items:
            $ref: "#/components/schemas/models.ImportJob"
          type: array
        total:
          type: integer
      type: object
    models.ImportPreviewResponse:
      properties:
        error_summary:
          type: string
        file_type:
          type: string
        headers:
          description: For CSV files
          items:
            type: string
          type: array
        preview_rows:
          items:
            $ref: "#/components/schemas/models.ImportPreviewRow"
          type: array
        total_rows:
          type: integer
        validation_ok:
          description: True if all preview rows are valid
          type: boolean
      type: object
    models.ImportPreviewRow:
      properties:
        data:
          additionalProperties: true
          type: object
        errors:
          items:
            $ref: "#/components/schemas/models.ImportValidationError"
          type: array
        is_valid:
          type: boolean
        line_number:
          type: integer
      type: object
    models.ImportRequest:
      properties:
        category_mapping_mode:
          description: auto, manual, skip
          enum:
            - auto
            - manual
            - skip
          type: string
        file_name:
          type: string
        file_type:
          enum:
            - xml
            - csv
            - zip
          type: string
        file_url:
          type: string
        storefront_id:
          type: integer
        update_mode:
          description: create_only, update_only, upsert
          enum:
            - create_only
            - update_only
            - upsert
          type: string
      required:
        - file_type
        - storefront_id
      type: object
    models.ImportResult:
      properties:
        failed:
          type: integer
        skipped:
          type: integer
        success:
          type: integer
      type: object
    models.ImportTranslationsRequest:
      properties:
        overwrite_existing:
          type: boolean
        translations:
          additionalProperties: true
          type: object
      type: object
    models.ImportValidationError:
      properties:
        field:
          type: string
        message:
          type: string
        value: {}
      type: object
    models.LanguageStats:
      properties:
        complete:
          type: integer
        coverage:
          description: Percentage
          type: number
        machine_translated:
          type: integer
        total:
          type: integer
        verified:
          type: integer
      type: object
    models.ListingAttributeValue:
      properties:
        attribute_id:
          type: integer
        attribute_name:
          type: string
        attribute_type:
          type: string
        boolean_value:
          type: boolean
        display_name:
          type: string
        display_value:
          description: Вспомогательное поле для вывода значения любого типа в строковом виде
          type: string
        is_required:
          description: Настройки отображения
          type: boolean
        json_value:
          items:
            type: integer
          type: array
        listing_id:
          type: integer
        numeric_value:
          type: number
        option_translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        show_in_card:
          type: boolean
        show_in_list:
          type: boolean
        text_value:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
        unit:
          description: Добавляем поле для единиц измерения
          type: string
      type: object
    models.Location:
      properties:
        building_info:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Дополнительная информация
        building_lat:
          description: Координаты здания (после геокодинга)
          type: number
        building_lng:
          type: number
        city:
          type: string
        country:
          type: string
        full_address:
          description: Адресные данные
          type: string
        house_number:
          type: string
        postal_code:
          type: string
        street:
          type: string
        user_lat:
          description: Координаты клика пользователя
          type: number
        user_lng:
          type: number
      type: object
    models.LocationPrivacyLevel:
      enum:
        - exact
        - street
        - district
        - city
      type: string
      x-enum-comments:
        PrivacyLevelCity: Только город
        PrivacyLevelDistrict: Только район
        PrivacyLevelExact: Точный адрес
        PrivacyLevelStreet: Только улица
      x-enum-descriptions:
        - Точный адрес
        - Только улица
        - Только район
        - Только город
      x-enum-varnames:
        - PrivacyLevelExact
        - PrivacyLevelStreet
        - PrivacyLevelDistrict
        - PrivacyLevelCity
    models.MapMarker:
      properties:
        category_id:
          type: integer
        city:
          type: string
        condition:
          type: string
        country:
          type: string
        created_at:
          type: string
        id:
          type: integer
        is_favorite:
          type: boolean
        latitude:
          type: number
        longitude:
          type: number
        main_image:
          type: string
        price:
          type: number
        rating:
          type: number
        title:
          type: string
        user_id:
          type: integer
        views_count:
          type: integer
      type: object
    models.MarkAsReadRequest:
      properties:
        message_ids:
          items:
            type: integer
          type: array
      required:
        - message_ids
      type: object
    models.MarketplaceCategory:
      properties:
        count:
          type: integer
        created_at:
          type: string
        custom_ui_component:
          type: string
        description:
          type: string
        external_id:
          type: string
        has_custom_ui:
          type: boolean
        icon:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        level:
          type: integer
        listing_count:
          type: integer
        name:
          type: string
        parent_id:
          type: integer
        seo_description:
          type: string
        seo_keywords:
          type: string
        seo_title:
          type: string
        slug:
          type: string
        sort_order:
          type: integer
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    models.MarketplaceChat:
      properties:
        buyer:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Дополнительные поля для отображения
        buyer_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        is_archived:
          type: boolean
        last_message:
          $ref: "#/components/schemas/models.MarketplaceMessage"
        last_message_at:
          type: string
        listing:
          $ref: "#/components/schemas/models.MarketplaceListing"
        listing_id:
          type: integer
        other_user:
          $ref: "#/components/schemas/models.User"
        seller:
          $ref: "#/components/schemas/models.User"
        seller_id:
          type: integer
        storefront_product_id:
          description: Новое поле для товаров витрин
          type: integer
        unread_count:
          type: integer
        updated_at:
          type: string
      type: object
    models.MarketplaceImage:
      properties:
        content_type:
          description: MIME-тип файла
          type: string
        created_at:
          type: string
        display_order:
          description: Порядок отображения
          type: integer
        file_name:
          description: Оригинальное имя файла
          type: string
        file_path:
          description: Путь к файлу в хранилище
          type: string
        file_size:
          description: Размер файла в байтах
          type: integer
        id:
          type: integer
        image_url:
          description: URL изображения для API
          type: string
        is_main:
          description: Является ли изображение основным
          type: boolean
        listing_id:
          type: integer
        public_url:
          description: Публичный URL для доступа к файлу
          type: string
        storage_bucket:
          description: Имя бакета для MinIO
          type: string
        storage_type:
          description: 'Тип хранилища: "local" или "minio"'
          type: string
        thumbnail_url:
          description: URL миниатюры для API
          type: string
      type: object
    models.MarketplaceListing:
      properties:
        address_multilingual:
          additionalProperties:
            type: string
          type: object
        attributes:
          items:
            $ref: "#/components/schemas/models.ListingAttributeValue"
          type: array
        average_rating:
          type: number
        category:
          $ref: "#/components/schemas/models.MarketplaceCategory"
        category_id:
          type: integer
        category_path:
          items:
            type: string
          type: array
        category_path_ids:
          items:
            type: integer
          type: array
        category_path_names:
          items:
            type: string
          type: array
        category_path_slugs:
          items:
            type: string
          type: array
        city:
          type: string
        condition:
          type: string
        country:
          type: string
        created_at:
          type: string
        description:
          type: string
        discount_percentage:
          type: integer
        external_id:
          type: string
        has_discount:
          type: boolean
        helpful_votes:
          type: integer
        id:
          type: integer
        images:
          items:
            $ref: "#/components/schemas/models.MarketplaceImage"
          type: array
        is_favorite:
          type: boolean
        is_storefront_product:
          description: Флаг что это товар витрины (для правильной обработки в favorites)
          type: boolean
        latitude:
          type: number
        location:
          type: string
        location_privacy:
          type: string
        longitude:
          type: number
        metadata:
          additionalProperties: true
          description: Для хранения дополнительной информации, включая данные о скидке
          type: object
        not_helpful_votes:
          type: integer
        old_price:
          type: number
        original_language:
          type: string
        price:
          type: number
        review_count:
          type: integer
        show_on_map:
          type: boolean
        status:
          type: string
        stock_quantity:
          description: Поля для товаров витрин
          type: integer
        stock_status:
          type: string
        storefront:
          allOf:
            - $ref: "#/components/schemas/models.Storefront"
          description: данные витрины
        storefront_id:
          description: связь с витриной
          type: integer
        title:
          type: string
        translations:
          $ref: "#/components/schemas/models.TranslationMap"
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/models.User"
        user_id:
          type: integer
        variants:
          description: Варианты товара
          items:
            $ref: "#/components/schemas/models.MarketplaceListingVariant"
          type: array
        views_count:
          type: integer
      type: object
    models.MarketplaceListingVariant:
      properties:
        attributes:
          additionalProperties:
            type: string
          description: JSON поле для хранения атрибутов варианта
          type: object
        created_at:
          type: string
        id:
          type: integer
        image_url:
          type: string
        is_active:
          type: boolean
        listing_id:
          type: integer
        price:
          type: number
        sku:
          type: string
        stock:
          type: integer
        updated_at:
          type: string
      type: object
    models.MarketplaceMessage:
      properties:
        attachments:
          items:
            $ref: "#/components/schemas/models.ChatAttachment"
          type: array
        attachments_count:
          type: integer
        chat_id:
          type: integer
        content:
          type: string
        created_at:
          type: string
        has_attachments:
          description: Поля для поддержки вложений
          type: boolean
        id:
          type: integer
        is_read:
          type: boolean
        listing:
          $ref: "#/components/schemas/models.MarketplaceListing"
        listing_id:
          type: integer
        original_language:
          description: Мультиязычность
          type: string
        receiver:
          $ref: "#/components/schemas/models.User"
        receiver_id:
          type: integer
        sender:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Дополнительные поля для отображения
        sender_id:
          type: integer
        storefront_product:
          allOf:
            - $ref: "#/components/schemas/models.StorefrontProduct"
          description: Новое поле для товара витрины
        storefront_product_id:
          description: Новое поле для товаров витрин
          type: integer
        translation_metadata:
          $ref: "#/components/schemas/models.ChatTranslationMetadata"
        translations:
          additionalProperties:
            type: string
          description: '{"en": "Hello", "ru": "Привет"}'
          type: object
        updated_at:
          type: string
      type: object
    models.MarketplaceOrder:
      properties:
        buyer:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Связанные данные (заполняются при необходимости)
        buyer_id:
          type: integer
        created_at:
          type: string
        delivered_at:
          type: string
        id:
          type: integer
        item_price:
          type: number
        listing:
          $ref: "#/components/schemas/models.MarketplaceListing"
        listing_id:
          type: integer
        messages:
          items:
            $ref: "#/components/schemas/models.OrderMessage"
          type: array
        payment_transaction:
          $ref: "#/components/schemas/models.PaymentTransaction"
        payment_transaction_id:
          type: integer
        platform_fee_amount:
          type: number
        platform_fee_rate:
          type: number
        protection_expires_at:
          type: string
        protection_period_days:
          type: integer
        seller:
          $ref: "#/components/schemas/models.User"
        seller_id:
          type: integer
        seller_payout_amount:
          type: number
        shipped_at:
          type: string
        shipping_method:
          type: string
        status:
          $ref: "#/components/schemas/models.MarketplaceOrderStatus"
        status_history:
          items:
            $ref: "#/components/schemas/models.OrderStatusHistory"
          type: array
        tracking_number:
          type: string
        updated_at:
          type: string
      type: object
    models.MarketplaceOrderStatus:
      enum:
        - pending
        - paid
        - shipped
        - delivered
        - completed
        - disputed
        - canceled
        - refunded
      type: string
      x-enum-varnames:
        - MarketplaceOrderStatusPending
        - MarketplaceOrderStatusPaid
        - MarketplaceOrderStatusShipped
        - MarketplaceOrderStatusDelivered
        - MarketplaceOrderStatusCompleted
        - MarketplaceOrderStatusDisputed
        - MarketplaceOrderStatusCancelled
        - MarketplaceOrderStatusRefunded
    models.ModuleStats:
      properties:
        complete:
          type: integer
        incomplete:
          type: integer
        missing:
          type: integer
        placeholders:
          type: integer
        total:
          type: integer
      type: object
    models.NameTranslations:
      additionalProperties:
        type: string
      type: object
    models.Notification:
      properties:
        created_at:
          type: string
        data:
          items:
            type: integer
          type: array
        delivered_to:
          items:
            type: integer
          type: array
        id:
          type: integer
        is_read:
          type: boolean
        listing_id:
          type: integer
        message:
          type: string
        title:
          type: string
        type:
          type: string
        user_id:
          type: integer
      type: object
    models.NotificationSettings:
      properties:
        created_at:
          type: string
        email_enabled:
          description: Добавляем поле для email
          type: boolean
        notification_type:
          type: string
        telegram_enabled:
          type: boolean
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.OrderItemRequest:
      properties:
        product_id:
          type: integer
        quantity:
          minimum: 1
          type: integer
        variant_id:
          type: integer
      required:
        - product_id
        - quantity
      type: object
    models.OrderMessage:
      properties:
        content:
          type: string
        created_at:
          type: string
        id:
          type: integer
        message_type:
          $ref: "#/components/schemas/models.OrderMessageType"
        metadata:
          additionalProperties: true
          type: object
        order_id:
          type: integer
        sender:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Связанные данные
        sender_id:
          type: integer
      type: object
    models.OrderMessageType:
      enum:
        - text
        - shipping_update
        - dispute_opened
        - dispute_message
        - system
      type: string
      x-enum-varnames:
        - OrderMessageTypeText
        - OrderMessageTypeShippingUpdate
        - OrderMessageTypeDisputeOpened
        - OrderMessageTypeDisputeMessage
        - OrderMessageTypeSystem
    models.OrderStatus:
      enum:
        - pending
        - confirmed
        - processing
        - shipped
        - delivered
        - canceled
        - refunded
      type: string
      x-enum-comments:
        OrderStatusCancelled: отменен
        OrderStatusConfirmed: оплачен, подтвержден
        OrderStatusDelivered: доставлен
        OrderStatusPending: ожидает оплаты
        OrderStatusProcessing: в обработке
        OrderStatusRefunded: возвращен
        OrderStatusShipped: отправлен
      x-enum-descriptions:
        - ожидает оплаты
        - оплачен, подтвержден
        - в обработке
        - отправлен
        - доставлен
        - отменен
        - возвращен
      x-enum-varnames:
        - OrderStatusPending
        - OrderStatusConfirmed
        - OrderStatusProcessing
        - OrderStatusShipped
        - OrderStatusDelivered
        - OrderStatusCancelled
        - OrderStatusRefunded
    models.OrderStatusHistory:
      properties:
        created_at:
          type: string
        created_by:
          type: integer
        id:
          type: integer
        new_status:
          type: string
        old_status:
          type: string
        order_id:
          type: integer
        reason:
          type: string
      type: object
    models.PaginatedResponse:
      properties:
        data: {}
        page:
          type: integer
        page_size:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer
      type: object
    models.PaymentGateway:
      properties:
        config:
          additionalProperties: true
          type: object
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        name:
          type: string
        updated_at:
          type: string
      type: object
    models.PaymentMethod:
      properties:
        code:
          type: string
        created_at:
          type: string
        credentials:
          items:
            type: integer
          type: array
        fee_percentage:
          type: number
        fixed_fee:
          type: number
        id:
          type: integer
        is_active:
          type: boolean
        maximum_amount:
          type: number
        minimum_amount:
          type: number
        name:
          type: string
        type:
          type: string
      type: object
    models.PaymentMethodType:
      enum:
        - cash
        - cod
        - card
        - bank_transfer
        - paypal
        - crypto
        - postanska
        - keks_pay
        - ips
      type: string
      x-enum-comments:
        PaymentMethodBankTransfer: Банковский перевод
        PaymentMethodCOD: Cash on Delivery - оплата курьеру
        PaymentMethodCard: Банковская карта
        PaymentMethodCash: Наличные в магазине
        PaymentMethodIPS: Instant Payment System
        PaymentMethodKeks: Keks Pay (популярно в Сербии)
        PaymentMethodPostanska: Poštanska štedionica
      x-enum-descriptions:
        - Наличные в магазине
        - Cash on Delivery - оплата курьеру
        - Банковская карта
        - Банковский перевод
        - ""
        - ""
        - Poštanska štedionica
        - Keks Pay (популярно в Сербии)
        - Instant Payment System
      x-enum-varnames:
        - PaymentMethodCash
        - PaymentMethodCOD
        - PaymentMethodCard
        - PaymentMethodBankTransfer
        - PaymentMethodPayPal
        - PaymentMethodCrypto
        - PaymentMethodPostanska
        - PaymentMethodKeks
        - PaymentMethodIPS
    models.PaymentSession:
      properties:
        amount:
          type: number
        completed_at:
          type: string
        created_at:
          type: string
        currency:
          type: string
        expires_at:
          type: string
        external_id:
          type: string
        id:
          description: Изменено на string для поддержки external IDs
          type: string
        order_id:
          description: Добавлено для поддержки заказов
          type: integer
        payment_method:
          type: string
        payment_url:
          type: string
        status:
          type: string
        user_id:
          type: integer
      type: object
    models.PaymentSource:
      enum:
        - marketplace_listing
        - storefront_order
      type: string
      x-enum-varnames:
        - PaymentSourceMarketplaceListing
        - PaymentSourceStorefrontOrder
    models.PaymentTransaction:
      properties:
        amount:
          type: number
        authorized_at:
          type: string
        auto_capture_at:
          type: string
        capture_attempted_at:
          type: string
        capture_attempts:
          type: integer
        capture_deadline_at:
          type: string
        capture_mode:
          description: Delayed capture fields
          type: string
        captured_at:
          type: string
        created_at:
          type: string
        currency:
          type: string
        customer_email:
          type: string
        description:
          type: string
        error_details:
          additionalProperties: true
          type: object
        failed_at:
          type: string
        gateway:
          allOf:
            - $ref: "#/components/schemas/models.PaymentGateway"
          description: Relations
        gateway_id:
          type: integer
        gateway_reference_id:
          type: string
        gateway_response:
          additionalProperties: true
          type: object
        gateway_status:
          type: string
        gateway_transaction_id:
          type: string
        id:
          type: integer
        listing:
          $ref: "#/components/schemas/models.MarketplaceListing"
        listing_id:
          description: Legacy поле для обратной совместимости
          type: integer
        marketplace_commission:
          type: number
        order_reference:
          type: string
        payment_method:
          type: string
        seller_amount:
          type: number
        source_id:
          type: integer
        source_type:
          allOf:
            - $ref: "#/components/schemas/models.PaymentSource"
          description: Новые поля для унифицированной системы
        status:
          type: string
        storefront_id:
          type: integer
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/models.User"
        user_id:
          type: integer
      type: object
    models.Permission:
      properties:
        action:
          type: string
        created_at:
          type: string
        description:
          type: string
        id:
          type: integer
        name:
          type: string
        resource:
          type: string
      type: object
    models.PickupOrderStatus:
      enum:
        - pending
        - ready
        - picked_up
        - expired
        - canceled
      type: string
      x-enum-varnames:
        - PickupOrderStatusPending
        - PickupOrderStatusReady
        - PickupOrderStatusPickedUp
        - PickupOrderStatusExpired
        - PickupOrderStatusCanceled
    models.PostExpressLocation:
      properties:
        created_at:
          type: string
        delivery_zone:
          type: string
        district:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        latitude:
          type: number
        longitude:
          type: number
        municipality:
          type: string
        name:
          type: string
        name_cyrillic:
          type: string
        post_express_id:
          type: integer
        postal_code:
          type: string
        region:
          type: string
        supports_cod:
          type: boolean
        supports_express:
          type: boolean
        updated_at:
          type: string
      type: object
    models.PostExpressOffice:
      properties:
        accepts_packages:
          type: boolean
        address:
          type: string
        closed_until:
          type: string
        created_at:
          type: string
        email:
          type: string
        has_atm:
          type: boolean
        has_parking:
          type: boolean
        id:
          type: integer
        is_active:
          type: boolean
        issues_packages:
          type: boolean
        latitude:
          type: number
        location_id:
          type: integer
        longitude:
          type: number
        name:
          type: string
        office_code:
          type: string
        phone:
          type: string
        temporary_closed:
          type: boolean
        updated_at:
          type: string
        wheelchair_accessible:
          type: boolean
        working_hours:
          items:
            type: integer
          type: array
      type: object
    models.PostExpressRate:
      properties:
        base_price:
          type: number
        cod_fee:
          type: number
        created_at:
          type: string
        delivery_days_max:
          type: integer
        delivery_days_min:
          type: integer
        id:
          type: integer
        insurance_included_up_to:
          type: number
        insurance_rate_percent:
          type: number
        is_active:
          type: boolean
        is_special_offer:
          type: boolean
        max_dimensions_sum_cm:
          type: integer
        max_height_cm:
          type: integer
        max_length_cm:
          type: integer
        max_width_cm:
          type: integer
        updated_at:
          type: string
        weight_from:
          type: number
        weight_to:
          type: number
      type: object
    models.PostExpressSettings:
      properties:
        api_endpoint:
          type: string
        api_username:
          type: string
        auto_print_labels:
          type: boolean
        auto_track_shipments:
          type: boolean
        created_at:
          type: string
        enabled:
          type: boolean
        failed_deliveries:
          type: integer
        id:
          type: integer
        notify_on_delivery:
          type: boolean
        notify_on_failed_delivery:
          type: boolean
        notify_on_pickup:
          type: boolean
        sender_address:
          type: string
        sender_city:
          type: string
        sender_email:
          type: string
        sender_name:
          type: string
        sender_phone:
          type: string
        sender_postal_code:
          type: string
        successful_deliveries:
          type: integer
        test_mode:
          type: boolean
        total_shipments:
          type: integer
        updated_at:
          type: string
      type: object
    models.PostExpressShipment:
      properties:
        barcode:
          type: string
        base_price:
          description: Расчет стоимости
          type: number
        cod_amount:
          type: number
        cod_fee:
          type: number
        cod_reference:
          type: string
        created_at:
          type: string
        declared_value:
          type: number
        delivered_at:
          type: string
        delivery_instructions:
          type: string
        delivery_status:
          type: string
        failed_at:
          type: string
        failed_reason:
          type: string
        height_cm:
          type: integer
        id:
          type: integer
        insurance_amount:
          type: number
        insurance_fee:
          type: number
        internal_notes:
          type: string
        invoice_url:
          type: string
        label_url:
          description: Документы
          type: string
        length_cm:
          type: integer
        marketplace_order_id:
          type: integer
        notes:
          description: Дополнительная информация
          type: string
        picked_up_at:
          type: string
        pod_url:
          type: string
        post_express_id:
          type: string
        recipient_address:
          type: string
        recipient_city:
          type: string
        recipient_email:
          type: string
        recipient_location_id:
          type: integer
        recipient_name:
          description: Получатель
          type: string
        recipient_phone:
          type: string
        recipient_postal_code:
          type: string
        registered_at:
          description: Временные метки
          type: string
        returned_at:
          type: string
        sender_address:
          type: string
        sender_city:
          type: string
        sender_email:
          type: string
        sender_location_id:
          type: integer
        sender_name:
          description: Отправитель
          type: string
        sender_phone:
          type: string
        sender_postal_code:
          type: string
        service_type:
          description: Услуги
          type: string
        status:
          allOf:
            - $ref: "#/components/schemas/backend_internal_proj_postexpress_models.ShipmentSt\
                atus"
          description: Статусы
        status_history:
          description: История статусов
          items:
            type: integer
          type: array
        storefront_order_id:
          type: integer
        total_price:
          type: number
        tracking_number:
          type: string
        updated_at:
          type: string
        weight_kg:
          description: Параметры посылки
          type: number
        width_cm:
          type: integer
      type: object
    models.PriceHistoryEntry:
      properties:
        change_percentage:
          type: number
        change_source:
          description: manual, import, system, etc.
          type: string
        created_at:
          type: string
        effective_from:
          type: string
        effective_to:
          type: string
        id:
          type: integer
        listing_id:
          type: integer
        price:
          type: number
      type: object
    models.PricingRule:
      properties:
        created_at:
          type: string
        custom_formula:
          type: string
        fragile_surcharge:
          type: number
        id:
          type: integer
        is_active:
          type: boolean
        max_price:
          type: number
        min_price:
          type: number
        oversized_surcharge:
          type: number
        priority:
          type: integer
        provider_id:
          type: integer
        rule_type:
          type: string
        special_handling_surcharge:
          type: number
        updated_at:
          type: string
        volume_ranges:
          items:
            type: integer
          type: array
        weight_ranges:
          items:
            type: integer
          type: array
        zone_multipliers:
          items:
            type: integer
          type: array
      type: object
    models.ProblemAssignment:
      properties:
        admin_id:
          type: integer
      type: object
    models.ProblemResolution:
      properties:
        notify_customer:
          type: boolean
        resolution:
          type: string
      type: object
    models.ProductStats:
      properties:
        active_products:
          type: integer
        low_stock:
          type: integer
        out_of_stock:
          type: integer
        total_products:
          type: integer
        total_sold:
          type: integer
        total_value:
          type: number
      type: object
    models.ProductVariantAttribute:
      properties:
        affects_stock:
          type: boolean
        created_at:
          type: string
        display_name:
          type: string
        id:
          type: integer
        is_required:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
        type:
          type: string
        updated_at:
          type: string
      type: object
    models.Provider:
      properties:
        api_config:
          items:
            type: integer
          type: array
        capabilities:
          items:
            type: integer
          type: array
        code:
          type: string
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        logo_url:
          type: string
        name:
          type: string
        supports_cod:
          type: boolean
        supports_insurance:
          type: boolean
        supports_tracking:
          type: boolean
        updated_at:
          type: string
      type: object
    models.ProviderConfig:
      properties:
        api_key:
          type: string
        api_secret:
          type: string
        api_url:
          type: string
        test_mode:
          type: boolean
      type: object
    models.ProviderStats:
      properties:
        avg_time:
          type: string
        code:
          type: string
        delivered:
          type: integer
        name:
          type: string
        shipments:
          type: integer
        success_rate:
          type: number
      type: object
    models.RatingBreakdown:
      properties:
        b2c_stores:
          allOf:
            - $ref: "#/components/schemas/models.BreakdownItem"
          description: Через магазины
        direct:
          allOf:
            - $ref: "#/components/schemas/models.BreakdownItem"
          description: Прямые отзывы
        listings:
          allOf:
            - $ref: "#/components/schemas/models.BreakdownItem"
          description: Через товары
      type: object
    models.Review:
      properties:
        comment:
          type: string
        cons:
          type: string
        created_at:
          type: string
        current_user_vote:
          type: string
        entity_id:
          type: integer
        entity_origin_id:
          description: ID оригинального объекта
          type: integer
        entity_origin_type:
          description: тип оригинального объекта (user, storefront)
          type: string
        entity_type:
          type: string
        has_active_dispute:
          type: boolean
        helpful_votes:
          type: integer
        id:
          type: integer
        is_verified_purchase:
          type: boolean
        likes_count:
          type: integer
        not_helpful_votes:
          type: integer
        original_language:
          description: поля для мультиязычности
          type: string
        photos:
          items:
            type: string
          type: array
        pros:
          type: string
        rating:
          type: integer
        responses:
          items:
            $ref: "#/components/schemas/models.ReviewResponse"
          type: array
        seller_confirmed:
          type: boolean
        status:
          type: string
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        updated_at:
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Дополнительные поля для отображения
        user_id:
          type: integer
        votes_count:
          properties:
            helpful:
              type: integer
            not_helpful:
              type: integer
          type: object
      type: object
    models.ReviewResponse:
      properties:
        created_at:
          type: string
        id:
          type: integer
        response:
          type: string
        review_id:
          type: integer
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/models.User"
        user_id:
          type: integer
      type: object
    models.ReviewStats:
      properties:
        average_rating:
          type: number
        photo_reviews:
          description: Количество отзывов с фото
          type: integer
        rating_distribution:
          additionalProperties:
            type: integer
          description: "Распределение оценок: {1: 10, 2: 20, ...}"
          type: object
        total_reviews:
          type: integer
        verified_reviews:
          type: integer
      type: object
    models.Role:
      properties:
        created_at:
          type: string
        description:
          type: string
        display_name:
          type: string
        id:
          type: integer
        is_assignable:
          type: boolean
        is_system:
          type: boolean
        name:
          type: string
        permissions:
          description: Relations
          items:
            $ref: "#/components/schemas/models.Permission"
          type: array
        priority:
          type: integer
        updated_at:
          type: string
      type: object
    models.RollbackRequest:
      properties:
        comment:
          type: string
        translation_id:
          type: integer
        version_id:
          type: integer
      type: object
    models.SearchAddressRequest:
      properties:
        city:
          type: string
        limit:
          type: integer
        municipality_id:
          type: integer
        place_id:
          type: integer
        query:
          minLength: 2
          type: string
      required:
        - query
      type: object
    models.Shipment:
      properties:
        actual_delivery_date:
          type: string
        cod_amount:
          type: number
        cost_breakdown:
          items:
            type: integer
          type: array
        created_at:
          type: string
        delivery_cost:
          type: number
        estimated_delivery:
          type: string
        events:
          items:
            $ref: "#/components/schemas/backend_internal_proj_delivery_models.TrackingEvent"
          type: array
        external_id:
          type: string
        id:
          type: integer
        insurance_cost:
          type: number
        labels:
          items:
            type: integer
          type: array
        order_id:
          type: integer
        package_info:
          items:
            type: integer
          type: array
        pickup_date:
          type: string
        provider:
          allOf:
            - $ref: "#/components/schemas/models.Provider"
          description: Связанные данные (не из БД, заполняются при необходимости)
        provider_id:
          type: integer
        provider_response:
          items:
            type: integer
          type: array
        recipient_info:
          items:
            type: integer
          type: array
        sender_info:
          items:
            type: integer
          type: array
        status:
          type: string
        tracking_number:
          type: string
        updated_at:
          type: string
      type: object
    models.ShippingAddress:
      properties:
        apartment:
          type: string
        city:
          type: string
        country:
          type: string
        email:
          type: string
        full_name:
          type: string
        house_number:
          type: string
        notes:
          type: string
        phone:
          type: string
        postal_code:
          type: string
        street:
          type: string
      type: object
    models.ShoppingCart:
      properties:
        created_at:
          type: string
        id:
          type: integer
        items:
          items:
            $ref: "#/components/schemas/models.ShoppingCartItem"
          type: array
        session_id:
          type: string
        storefront:
          $ref: "#/components/schemas/models.Storefront"
        storefront_id:
          type: integer
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.ShoppingCartItem:
      properties:
        cart_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        price_per_unit:
          type: number
        product:
          $ref: "#/components/schemas/models.StorefrontProduct"
        product_id:
          type: integer
        quantity:
          type: integer
        total_price:
          type: number
        updated_at:
          type: string
        variant:
          $ref: "#/components/schemas/models.StorefrontProductVariant"
        variant_id:
          type: integer
      type: object
    models.StaffRole:
      enum:
        - owner
        - manager
        - cashier
        - support
        - moderator
      type: string
      x-enum-varnames:
        - StaffRoleOwner
        - StaffRoleManager
        - StaffRoleCashier
        - StaffRoleSupport
        - StaffRoleModerator
    models.Storefront:
      properties:
        address:
          description: Локация
          type: string
        address_verified:
          type: boolean
        ai_agent_config:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        ai_agent_enabled:
          description: AI и killer features
          type: boolean
        banner_url:
          type: string
        city:
          type: string
        commission_rate:
          type: number
        country:
          type: string
        created_at:
          description: Временные метки
          type: string
        default_privacy_level:
          $ref: "#/components/schemas/models.LocationPrivacyLevel"
        description:
          type: string
        email:
          type: string
        formatted_address:
          type: string
        geo_strategy:
          $ref: "#/components/schemas/models.StorefrontGeoStrategy"
        group_buying_enabled:
          type: boolean
        id:
          type: integer
        is_active:
          description: Статус и статистика
          type: boolean
        is_verified:
          type: boolean
        latitude:
          type: number
        live_shopping_enabled:
          type: boolean
        logo_url:
          description: Брендинг
          type: string
        longitude:
          type: number
        name:
          type: string
        phone:
          description: Контактная информация
          type: string
        postal_code:
          type: string
        products_count:
          type: integer
        rating:
          type: number
        reviews_count:
          type: integer
        sales_count:
          type: integer
        seo_meta:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        settings:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Настройки бизнеса
        slug:
          type: string
        subscription_expires_at:
          type: string
        subscription_plan:
          allOf:
            - $ref: "#/components/schemas/models.SubscriptionPlanType"
          description: Подписка (монетизация)
        theme:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        updated_at:
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Связанные данные
        user_id:
          type: integer
        verification_date:
          type: string
        views_count:
          type: integer
        website:
          type: string
      type: object
    models.StorefrontAnalytics:
      properties:
        add_to_cart_count:
          type: integer
        avg_order_value:
          type: number
        avg_session_time:
          description: в секундах
          type: integer
        bounce_rate:
          type: number
        checkout_count:
          type: integer
        conversion_rate:
          type: number
        created_at:
          type: string
        date:
          type: string
        id:
          type: integer
        orders_by_city:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: География заказов
        orders_count:
          description: Продажи
          type: integer
        page_views:
          description: Трафик
          type: integer
        payment_methods_usage:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Методы оплаты
        product_views:
          description: Товары
          type: integer
        revenue:
          type: number
        storefront_id:
          type: integer
        top_categories:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        top_products:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Топ товары/категории
        traffic_sources:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Источники трафика
        unique_visitors:
          type: integer
      type: object
    models.StorefrontCreateDTO:
      properties:
        description:
          type: string
        email:
          type: string
        location:
          allOf:
            - $ref: "#/components/schemas/models.Location"
          description: Локация
        name:
          maxLength: 255
          minLength: 3
          type: string
        phone:
          description: Контактная информация
          type: string
        seo_meta:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        settings:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Настройки
        slug:
          description: Генерируется автоматически если пустой
          type: string
        theme:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        website:
          type: string
      required:
        - location
        - name
      type: object
    models.StorefrontDeliveryOption:
      properties:
        available_days:
          items:
            type: integer
          type: array
        base_price:
          description: Ценообразование
          type: number
        cod_fee:
          description: Специальные платы
          type: number
        created_at:
          type: string
        cutoff_time:
          type: string
        description:
          type: string
        estimated_days_max:
          type: integer
        estimated_days_min:
          type: integer
        fragile_handling:
          description: Обработка хрупких товаров
          type: number
        free_above_amount:
          type: number
        id:
          type: integer
        insurance_fee:
          description: Страховка
          type: number
        is_enabled:
          type: boolean
        max_distance_km:
          type: number
        max_weight_kg:
          type: number
        min_order_amount:
          description: Ограничения доставки
          type: number
        name:
          type: string
        price_per_kg:
          type: number
        price_per_km:
          type: number
        provider:
          $ref: "#/components/schemas/models.DeliveryProvider"
        provider_config:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Интеграция с провайдером
        storefront_id:
          type: integer
        supported_payment_methods:
          description: Поддерживаемые методы оплаты для этой доставки
          items:
            $ref: "#/components/schemas/models.PaymentMethodType"
          type: array
        updated_at:
          type: string
        zones:
          description: Зоны и доступность
          items:
            $ref: "#/components/schemas/models.DeliveryZone"
          type: array
      type: object
    models.StorefrontGeoStrategy:
      enum:
        - storefront_location
        - individual_location
      type: string
      x-enum-comments:
        GeoStrategyIndividualLocation: Использовать индивидуальные адреса товаров
        GeoStrategyStorefrontLocation: Использовать адрес витрины
      x-enum-descriptions:
        - Использовать адрес витрины
        - Использовать индивидуальные адреса товаров
      x-enum-varnames:
        - GeoStrategyStorefrontLocation
        - GeoStrategyIndividualLocation
    models.StorefrontHours:
      properties:
        close_time:
          type: string
        day_of_week:
          description: 0=Sunday, 6=Saturday
          type: integer
        id:
          type: integer
        is_closed:
          type: boolean
        open_time:
          type: string
        special_date:
          description: Специальные часы
          type: string
        special_note:
          type: string
        storefront_id:
          type: integer
      type: object
    models.StorefrontMapData:
      properties:
        accepts_cards:
          type: boolean
        address:
          description: Краткая информация для попапа
          type: string
        has_delivery:
          type: boolean
        has_self_pickup:
          type: boolean
        id:
          type: integer
        latitude:
          type: number
        logo_url:
          type: string
        longitude:
          type: number
        name:
          type: string
        phone:
          type: string
        products_count:
          type: integer
        rating:
          type: number
        slug:
          type: string
        supports_cod:
          description: Ключевые фичи
          type: boolean
        working_now:
          type: boolean
      type: object
    models.StorefrontOrder:
      properties:
        billing_address:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        canceled_at:
          type: string
        commission_amount:
          type: number
        confirmed_at:
          description: Временные метки
          type: string
        created_at:
          type: string
        currency:
          type: string
        customer:
          $ref: "#/components/schemas/models.User"
        customer_id:
          description: Реальное поле в БД
          type: integer
        customer_notes:
          type: string
        delivered_at:
          type: string
        discount:
          type: number
        escrow_days:
          type: integer
        escrow_release_date:
          type: string
        id:
          type: integer
        items:
          description: Связанные данные
          items:
            $ref: "#/components/schemas/models.StorefrontOrderItem"
          type: array
        metadata:
          additionalProperties: true
          type: object
        notes:
          description: Заметки и метаданные
          type: string
        order_number:
          type: string
        payment_method:
          description: Платежные данные
          type: string
        payment_status:
          type: string
        payment_transaction:
          $ref: "#/components/schemas/models.PaymentTransaction"
        payment_transaction_id:
          type: string
        pickup_address:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Адрес забора товара у продавца
        seller:
          $ref: "#/components/schemas/models.User"
        seller_amount:
          type: number
        seller_notes:
          type: string
        shipped_at:
          type: string
        shipping:
          description: Алиас для ShippingAmount
          type: number
        shipping_address:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Доставка и адреса
        shipping_amount:
          type: number
        shipping_method:
          type: string
        shipping_provider:
          type: string
        status:
          allOf:
            - $ref: "#/components/schemas/models.OrderStatus"
          description: Статус и escrow
        storefront:
          $ref: "#/components/schemas/models.Storefront"
        storefront_id:
          type: integer
        subtotal:
          description: Финансовые данные
          type: number
        subtotal_amount:
          type: number
        tax:
          description: Алиас для TaxAmount
          type: number
        tax_amount:
          type: number
        total:
          description: Алиас для TotalAmount
          type: number
        total_amount:
          type: number
        tracking_number:
          type: string
        updated_at:
          type: string
        user_id:
          description: Для совместимости с API
          type: integer
      type: object
    models.StorefrontOrderItem:
      properties:
        created_at:
          type: string
        id:
          type: integer
        order_id:
          type: integer
        price_per_unit:
          type: number
        product:
          allOf:
            - $ref: "#/components/schemas/models.StorefrontProduct"
          description: Связанные данные
        product_attributes:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Snapshot атрибутов
        product_id:
          type: integer
        product_name:
          description: Snapshot данных на момент заказа
          type: string
        product_sku:
          type: string
        quantity:
          type: integer
        total_price:
          type: number
        variant:
          $ref: "#/components/schemas/models.StorefrontProductVariant"
        variant_id:
          type: integer
        variant_name:
          type: string
      type: object
    models.StorefrontPaymentMethod:
      properties:
        cod_fee:
          description: Специфично для COD (наложенный платеж)
          type: number
        created_at:
          type: string
        id:
          type: integer
        is_enabled:
          type: boolean
        max_amount:
          type: number
        method_type:
          $ref: "#/components/schemas/models.PaymentMethodType"
        min_amount:
          type: number
        provider:
          description: Настройки провайдера
          type: string
        settings:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        storefront_id:
          type: integer
        transaction_fee:
          description: Комиссии и лимиты
          type: number
      type: object
    models.StorefrontProduct:
      properties:
        address_translations:
          additionalProperties:
            type: string
          description: 'AddressTranslations - map[language]address, e.g. {"en": "Street
            12, Novi Sad", "ru": "Улица 12, Нови-Сад"}'
          type: object
        attributes:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        barcode:
          type: string
        category:
          $ref: "#/components/schemas/models.MarketplaceCategory"
        category_id:
          type: integer
        created_at:
          type: string
        currency:
          type: string
        description:
          type: string
        has_individual_location:
          description: Location fields
          type: boolean
        has_variants:
          description: Variant fields
          type: boolean
        id:
          type: integer
        images:
          description: Relations
          items:
            $ref: "#/components/schemas/models.StorefrontProductImage"
          type: array
        individual_address:
          type: string
        individual_latitude:
          type: number
        individual_longitude:
          type: number
        is_active:
          type: boolean
        location_privacy:
          type: string
        name:
          type: string
        price:
          type: number
        show_on_map:
          type: boolean
        sku:
          type: string
        sold_count:
          type: integer
        stock_quantity:
          type: integer
        stock_status:
          description: in_stock, low_stock, out_of_stock
          type: string
        storefront_id:
          type: integer
        translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          description: 'Translations - map[language]map[field]text, e.g. {"ru": {"title":
            "...", "description": "..."}}'
          type: object
        updated_at:
          type: string
        variants:
          items:
            $ref: "#/components/schemas/models.StorefrontProductVariant"
          type: array
        view_count:
          type: integer
      type: object
    models.StorefrontProductImage:
      properties:
        content_type:
          type: string
        created_at:
          type: string
        display_order:
          type: integer
        file_name:
          type: string
        file_path:
          type: string
        file_size:
          type: integer
        id:
          type: integer
        image_url:
          type: string
        is_default:
          type: boolean
        public_url:
          type: string
        storage_bucket:
          type: string
        storage_type:
          type: string
        storefront_product_id:
          type: integer
        thumbnail_url:
          type: string
      type: object
    models.StorefrontProductVariant:
      properties:
        barcode:
          type: string
        compare_at_price:
          type: number
        cost_price:
          type: number
        created_at:
          type: string
        dimensions:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        id:
          type: integer
        is_active:
          type: boolean
        is_default:
          type: boolean
        low_stock_threshold:
          type: integer
        price:
          type: number
        product_id:
          type: integer
        sku:
          type: string
        sold_count:
          type: integer
        stock_quantity:
          type: integer
        stock_status:
          type: string
        updated_at:
          type: string
        variant_attributes:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: 'e.g., {"color": "red", "size": "L"}'
        view_count:
          type: integer
        weight:
          type: number
      type: object
    models.StorefrontRatingSummary:
      properties:
        average_rating:
          type: number
        name:
          type: string
        rating_1:
          type: integer
        rating_2:
          type: integer
        rating_3:
          type: integer
        rating_4:
          type: integer
        rating_5:
          type: integer
        storefront_id:
          type: integer
        total_reviews:
          type: integer
      type: object
    models.StorefrontStaff:
      properties:
        actions_count:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        last_active_at:
          description: Отслеживание активности
          type: string
        permissions:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        role:
          $ref: "#/components/schemas/models.StaffRole"
        storefront_id:
          type: integer
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.StorefrontUpdateDTO:
      properties:
        ai_agent_enabled:
          description: Функции
          type: boolean
        banner_url:
          type: string
        description:
          type: string
        email:
          type: string
        group_buying_enabled:
          type: boolean
        is_active:
          type: boolean
        live_shopping_enabled:
          type: boolean
        location:
          allOf:
            - $ref: "#/components/schemas/models.Location"
          description: Локация
        logo_url:
          description: Брендинг
          type: string
        name:
          maxLength: 255
          minLength: 3
          type: string
        phone:
          description: Контактная информация
          type: string
        seo_meta:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        settings:
          allOf:
            - $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
          description: Настройки
        theme:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        website:
          type: string
      type: object
    models.SubscriptionPlanDetails:
      properties:
        code:
          type: string
        commission_rate:
          type: number
        created_at:
          type: string
        free_trial_days:
          type: integer
        has_ai_assistant:
          type: boolean
        has_analytics:
          type: boolean
        has_custom_domain:
          type: boolean
        has_export_data:
          type: boolean
        has_live_shopping:
          type: boolean
        has_priority_support:
          type: boolean
        id:
          type: integer
        is_active:
          type: boolean
        is_recommended:
          type: boolean
        max_b2c_stores:
          type: integer
        max_images_total:
          type: integer
        max_products_per_storefront:
          type: integer
        max_staff_per_storefront:
          type: integer
        name:
          type: string
        price_monthly:
          type: number
        price_yearly:
          type: number
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    models.SubscriptionPlanType:
      enum:
        - starter
        - professional
        - business
        - enterprise
      type: string
      x-enum-varnames:
        - SubscriptionPlanStarter
        - SubscriptionPlanProfessional
        - SubscriptionPlanBusiness
        - SubscriptionPlanEnterprise
    models.SubscriptionStatus:
      enum:
        - active
        - trial
        - expired
        - canceled
        - suspended
      type: string
      x-enum-varnames:
        - SubscriptionStatusActive
        - SubscriptionStatusTrial
        - SubscriptionStatusExpired
        - SubscriptionStatusCanceled
        - SubscriptionStatusSuspended
    models.TextChange:
      properties:
        length:
          type: integer
        new_text:
          type: string
        old_text:
          type: string
        position:
          type: integer
        type:
          description: '"addition", "deletion", "modification"'
          type: string
      type: object
    models.TranslateModuleRequest:
      properties:
        module:
          type: string
        only_missing:
          type: boolean
        provider:
          type: string
        source_lang:
          type: string
        target_langs:
          items:
            type: string
          minItems: 1
          type: array
      required:
        - module
        - source_lang
        - target_langs
      type: object
    models.TranslateModuleResponse:
      properties:
        module:
          type: string
        results:
          items:
            $ref: "#/components/schemas/models.AITranslationResult"
          type: array
        total_keys:
          type: integer
        translated_keys:
          type: integer
      type: object
    models.TranslateResult:
      properties:
        alternative_translations:
          additionalProperties:
            items:
              type: string
            type: array
          type: object
        confidence:
          type: number
        key:
          type: string
        module:
          type: string
        provider:
          type: string
        translations:
          additionalProperties:
            type: string
          type: object
      type: object
    models.Translation:
      properties:
        created_at:
          type: string
        current_version:
          type: integer
        entity_id:
          type: integer
        entity_type:
          type: string
        field_name:
          type: string
        id:
          type: integer
        is_machine_translated:
          type: boolean
        is_verified:
          type: boolean
        language:
          type: string
        last_modified_at:
          type: string
        last_modified_by:
          type: integer
        metadata:
          additionalProperties: true
          type: object
        translated_text:
          type: string
        updated_at:
          type: string
        updated_by:
          type: integer
        version:
          type: integer
      type: object
    models.TranslationAuditLog:
      properties:
        action:
          type: string
        created_at:
          type: string
        entity_id:
          type: integer
        entity_type:
          type: string
        id:
          type: integer
        ip_address:
          type: string
        new_value:
          type: string
        old_value:
          type: string
        user_agent:
          type: string
        user_id:
          type: integer
      type: object
    models.TranslationImportRequest:
      properties:
        data: {}
        format:
          $ref: "#/components/schemas/models.ExportFormat"
        metadata:
          additionalProperties: true
          type: object
        overwrite_existing:
          type: boolean
        validate_only:
          type: boolean
      type: object
    models.TranslationItem:
      properties:
        key:
          type: string
        module:
          type: string
        text:
          type: string
      required:
        - key
        - text
      type: object
    models.TranslationMap:
      additionalProperties:
        additionalProperties:
          type: string
        type: object
      type: object
    models.TranslationMetadata:
      properties:
        character_count:
          type: integer
        provider:
          type: string
        quality_score:
          type: number
        translated_at:
          type: string
        translated_by:
          type: integer
        verified_at:
          type: string
        verified_by:
          type: integer
        word_count:
          type: integer
      type: object
    models.TranslationProvider:
      properties:
        created_at:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        name:
          type: string
        priority:
          type: integer
        provider_type:
          type: string
        settings:
          additionalProperties: true
          type: object
        updated_at:
          type: string
        usage_current:
          type: integer
        usage_limit:
          type: integer
      type: object
    models.TranslationStatistics:
      properties:
        complete_translations:
          type: integer
        language_stats:
          additionalProperties:
            $ref: "#/components/schemas/models.LanguageStats"
          type: object
        missing_translations:
          type: integer
        module_stats:
          items:
            $ref: "#/components/schemas/models.FrontendModule"
          type: array
        placeholder_count:
          type: integer
        recent_changes:
          items:
            $ref: "#/components/schemas/models.TranslationAuditLog"
          type: array
        total_translations:
          type: integer
      type: object
    models.TranslationStatus:
      enum:
        - complete
        - incomplete
        - placeholder
        - missing
        - outdated
      type: string
      x-enum-varnames:
        - StatusComplete
        - StatusIncomplete
        - StatusPlaceholder
        - StatusMissing
        - StatusOutdated
    models.TranslationUpdate:
      properties:
        key:
          type: string
        language:
          type: string
        module:
          type: string
        value:
          type: string
      required:
        - key
        - language
        - module
        - value
      type: object
    models.TranslationUpdateRequest:
      properties:
        is_machine_translated:
          type: boolean
        is_verified:
          type: boolean
        metadata:
          additionalProperties: true
          type: object
        translated_text:
          type: string
      type: object
    models.TranslationVersion:
      properties:
        change_reason:
          type: string
        change_type:
          type: string
        changed_at:
          type: string
        changed_by:
          type: integer
        entity_id:
          type: integer
        entity_type:
          type: string
        field_name:
          type: string
        id:
          type: integer
        language:
          type: string
        metadata:
          additionalProperties: true
          type: object
        previous_text:
          type: string
        translated_text:
          type: string
        translation_id:
          type: integer
        version:
          type: integer
      type: object
    models.TrendPoint:
      properties:
        date:
          type: string
        delivered:
          type: integer
        problems:
          type: integer
        shipments:
          type: integer
      type: object
    models.UnifiedAttribute:
      properties:
        affects_price:
          type: boolean
        affects_stock:
          type: boolean
        attribute_type:
          type: string
        code:
          type: string
        created_at:
          type: string
        display_name:
          type: string
        id:
          type: integer
        is_active:
          type: boolean
        is_filterable:
          type: boolean
        is_required:
          type: boolean
        is_searchable:
          type: boolean
        is_variant_compatible:
          type: boolean
        name:
          type: string
        option_translations:
          additionalProperties:
            additionalProperties:
              type: string
            type: object
          type: object
        options:
          items:
            type: integer
          type: array
        purpose:
          $ref: "#/components/schemas/models.AttributePurpose"
        sort_order:
          type: integer
        translations:
          additionalProperties:
            type: string
          description: Дополнительные поля для удобства работы
          type: object
        ui_settings:
          items:
            type: integer
          type: array
        updated_at:
          type: string
        validation_rules:
          items:
            type: integer
          type: array
      type: object
    models.UnifiedAttributeValue:
      properties:
        attribute:
          allOf:
            - $ref: "#/components/schemas/models.UnifiedAttribute"
          description: Связанные объекты для удобства
        attribute_id:
          type: integer
        boolean_value:
          type: boolean
        created_at:
          type: string
        date_value:
          type: string
        display_value:
          description: Вспомогательные поля
          type: string
        entity_id:
          type: integer
        entity_type:
          $ref: "#/components/schemas/models.AttributeEntityType"
        id:
          type: integer
        json_value:
          items:
            type: integer
          type: array
        numeric_value:
          type: number
        text_value:
          type: string
        unit:
          type: string
        updated_at:
          type: string
      type: object
    models.UnifiedCategoryAttribute:
      properties:
        attribute:
          allOf:
            - $ref: "#/components/schemas/models.UnifiedAttribute"
          description: Связанные объекты
        attribute_id:
          type: integer
        category:
          $ref: "#/components/schemas/models.MarketplaceCategory"
        category_id:
          type: integer
        category_specific_options:
          items:
            type: integer
          type: array
        created_at:
          type: string
        id:
          type: integer
        is_enabled:
          type: boolean
        is_filter:
          type: boolean
        is_required:
          type: boolean
        sort_order:
          type: integer
        updated_at:
          type: string
      type: object
    models.UnifiedImage:
      properties:
        display_order:
          type: integer
        id:
          type: integer
        is_main:
          type: boolean
        thumbnail_url:
          type: string
        url:
          type: string
      type: object
    models.UnifiedListing:
      properties:
        category:
          $ref: "#/components/schemas/models.MarketplaceCategory"
        category_id:
          type: integer
        city:
          type: string
        condition:
          type: string
        country:
          type: string
        created_at:
          type: string
        description:
          type: string
        discount_percentage:
          type: integer
        has_discount:
          type: boolean
        id:
          type: integer
        images:
          description: Связанные данные (загружаются отдельно)
          items:
            $ref: "#/components/schemas/models.UnifiedImage"
          type: array
        is_favorite:
          description: Флаги и дополнительные поля
          type: boolean
        latitude:
          type: number
        location:
          type: string
        longitude:
          type: number
        metadata:
          additionalProperties: true
          type: object
        old_price:
          type: number
        original_language:
          type: string
        price:
          type: number
        show_on_map:
          type: boolean
        source_type:
          description: '"c2c" или "b2c"'
          type: string
        status:
          type: string
        storefront:
          allOf:
            - $ref: "#/components/schemas/models.Storefront"
          description: только для B2C
        storefront_id:
          description: только для B2C
          type: integer
        title:
          type: string
        translations:
          additionalProperties: true
          type: object
        updated_at:
          type: string
        user:
          $ref: "#/components/schemas/models.User"
        user_id:
          type: integer
        views_count:
          type: integer
      type: object
    models.UnifiedListingsResponse:
      properties:
        data:
          items:
            $ref: "#/components/schemas/models.UnifiedListing"
          type: array
        limit:
          type: integer
        offset:
          type: integer
        source_type:
          type: string
        total:
          type: integer
      type: object
    models.UnifiedSuggestion:
      properties:
        category_id:
          description: ID категории для type="category"
          type: integer
        count:
          description: Количество результатов
          type: integer
        icon:
          description: Иконка
          type: string
        label:
          description: Отображаемый текст
          type: string
        metadata:
          allOf:
            - $ref: "#/components/schemas/models.UnifiedSuggestionMeta"
          description: Дополнительные данные
        product_id:
          description: ID товара для type="product"
          type: integer
        type:
          description: '"query", "product", "category"'
          type: string
        value:
          description: Основное значение для поиска
          type: string
      type: object
    models.UnifiedSuggestionMeta:
      properties:
        category:
          description: Название категории
          type: string
        image:
          description: URL изображения
          type: string
        last_searched:
          description: Дата последнего поиска
          type: string
        parent_id:
          description: ID родительской категории
          type: integer
        price:
          description: Цена товара
          type: number
        source_type:
          description: '"marketplace" или "storefront"'
          type: string
        storefront:
          description: Название витрины
          type: string
        storefront_id:
          description: ID витрины
          type: integer
        storefront_slug:
          description: Slug витрины
          type: string
      type: object
    models.UpdateAttributeGroupRequest:
      properties:
        description:
          type: string
        display_name:
          type: string
        icon:
          type: string
        is_active:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
      type: object
    models.UpdateCartItemRequest:
      properties:
        quantity:
          description: 0 = удалить из корзины
          minimum: 0
          type: integer
      required:
        - quantity
      type: object
    models.UpdateCategoryProposalRequest:
      properties:
        description:
          type: string
        name:
          type: string
        name_translations:
          $ref: "#/components/schemas/models.NameTranslations"
        parent_category_id:
          type: integer
        tags:
          items:
            type: string
          type: array
      type: object
    models.UpdateContactRequest:
      properties:
        notes:
          type: string
        status:
          enum:
            - accepted
            - blocked
          type: string
      required:
        - status
      type: object
    models.UpdateCustomComponentRequest:
      properties:
        component_type:
          type: string
        description:
          type: string
        is_active:
          type: boolean
        name:
          type: string
        props_schema:
          items:
            type: integer
          type: array
        styles:
          type: string
        template_code:
          type: string
      type: object
    models.UpdateInventoryRequest:
      properties:
        notes:
          type: string
        quantity:
          type: integer
        reason:
          type: string
        type:
          enum:
            - in
            - out
            - adjustment
          type: string
      required:
        - quantity
        - reason
        - type
      type: object
    models.UpdateOrderStatusRequest:
      properties:
        seller_notes:
          type: string
        status:
          $ref: "#/components/schemas/models.OrderStatus"
        tracking_number:
          type: string
      required:
        - status
      type: object
    models.UpdatePrivacySettingsRequest:
      properties:
        allow_contact_requests:
          type: boolean
        allow_messages_from_contacts_only:
          type: boolean
      type: object
    models.UpdateProductRequest:
      properties:
        attributes:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        barcode:
          type: string
        category_id:
          type: integer
        description:
          minLength: 10
          type: string
        has_individual_location:
          description: Location fields
          type: boolean
        individual_address:
          type: string
        individual_latitude:
          type: number
        individual_longitude:
          type: number
        is_active:
          type: boolean
        location_privacy:
          enum:
            - exact
            - street
            - district
            - city
          type: string
        name:
          maxLength: 255
          minLength: 3
          type: string
        price:
          minimum: 0
          type: number
        show_on_map:
          type: boolean
        sku:
          type: string
        stock_quantity:
          minimum: 0
          type: integer
      type: object
    models.UpgradeSubscriptionRequest:
      properties:
        billing_cycle:
          allOf:
            - $ref: "#/components/schemas/models.BillingCycle"
          enum:
            - monthly
            - yearly
        plan_code:
          type: string
      required:
        - plan_code
      type: object
    models.User:
      properties:
        created_at:
          type: string
        email:
          type: string
        google_id:
          type: string
        id:
          type: integer
        name:
          type: string
        phone:
          type: string
        picture_url:
          type: string
        provider:
          type: string
      type: object
    models.UserBalance:
      properties:
        balance:
          type: number
        currency:
          type: string
        frozen_balance:
          type: number
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.UserContact:
      properties:
        added_from_chat_id:
          description: Дополнительные поля
          type: integer
        contact_user:
          $ref: "#/components/schemas/models.User"
        contact_user_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        notes:
          type: string
        status:
          description: pending, accepted, blocked
          type: string
        updated_at:
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/models.User"
          description: Связанные объекты
        user_id:
          type: integer
      type: object
    models.UserPrivacySettings:
      properties:
        allow_contact_requests:
          type: boolean
        allow_messages_from_contacts_only:
          type: boolean
        created_at:
          type: string
        settings:
          additionalProperties: true
          description: JSONB поле для расширяемых настроек (chat settings и др.)
          type: object
        updated_at:
          type: string
        user_id:
          type: integer
      type: object
    models.UserProfile:
      properties:
        account_status:
          type: string
        bio:
          type: string
        city:
          description: Теперь используем обычные строки, а не указатели
          type: string
        country:
          type: string
        created_at:
          type: string
        email:
          type: string
        google_id:
          type: string
        id:
          type: integer
        is_admin:
          description: Флаг администратора
          type: boolean
        last_seen:
          type: string
        name:
          type: string
        notification_email:
          type: boolean
        phone:
          type: string
        picture_url:
          type: string
        provider:
          type: string
        role:
          $ref: "#/components/schemas/models.Role"
        role_id:
          type: integer
        settings:
          items:
            type: integer
          type: array
        timezone:
          type: string
      type: object
    models.UserProfileUpdate:
      properties:
        bio:
          type: string
        city:
          description: Указатель правильный для обновлений
          type: string
        country:
          type: string
        name:
          type: string
        notification_email:
          type: boolean
        phone:
          type: string
        settings:
          items:
            type: integer
          type: array
        timezone:
          type: string
      type: object
    models.UserRatingSummary:
      properties:
        average_rating:
          type: number
        name:
          type: string
        rating_1:
          type: integer
        rating_2:
          type: integer
        rating_3:
          type: integer
        rating_4:
          type: integer
        rating_5:
          type: integer
        total_reviews:
          type: integer
        user_id:
          type: integer
      type: object
    models.UserSubscription:
      properties:
        auto_renew:
          type: boolean
        billing_cycle:
          $ref: "#/components/schemas/models.BillingCycle"
        canceled_at:
          type: string
        created_at:
          type: string
        current_period_end:
          type: string
        current_period_start:
          type: string
        expires_at:
          type: string
        id:
          type: integer
        last_payment_at:
          type: string
        last_payment_id:
          type: integer
        metadata:
          $ref: "#/components/schemas/backend_internal_domain_models.JSONB"
        next_payment_at:
          type: string
        notes:
          type: string
        payment_method:
          type: string
        plan:
          $ref: "#/components/schemas/models.SubscriptionPlanDetails"
        plan_id:
          type: integer
        started_at:
          type: string
        status:
          $ref: "#/components/schemas/models.SubscriptionStatus"
        trial_ends_at:
          type: string
        updated_at:
          type: string
        used_b2c_stores:
          type: integer
        user_id:
          type: integer
      type: object
    models.UserSubscriptionInfo:
      properties:
        billing_cycle:
          type: string
        expires_at:
          type: string
        has_ai:
          type: boolean
        has_custom_domain:
          type: boolean
        has_export:
          type: boolean
        has_live:
          type: boolean
        max_b2c_stores:
          type: integer
        max_images:
          type: integer
        max_products:
          type: integer
        max_staff:
          type: integer
        next_payment_at:
          type: string
        plan_code:
          type: string
        plan_name:
          type: string
        price:
          type: number
        status:
          type: string
        subscription_id:
          type: integer
        trial_ends_at:
          type: string
        used_b2c_stores:
          type: integer
      type: object
    models.VINDecodeRequest:
      properties:
        listing_id:
          type: integer
        vin:
          type: string
      required:
        - vin
      type: object
    models.VINDecodeResult:
      properties:
        body_type:
          type: string
        decoded_at:
          type: string
        drive_type:
          type: string
        engine:
          $ref: "#/components/schemas/models.VINEngineInfo"
        fuel_type:
          type: string
        make_id:
          type: integer
        make_name:
          type: string
        manufacturer:
          $ref: "#/components/schemas/models.VINManufacturerInfo"
        model_id:
          type: integer
        model_name:
          type: string
        raw_data:
          additionalProperties: true
          type: object
        source:
          description: nhtsa, vehicle_databases, etc
          type: string
        transmission:
          type: string
        trim:
          type: string
        valid:
          type: boolean
        vin:
          type: string
        year:
          type: integer
      type: object
    models.VINEngineInfo:
      properties:
        configuration:
          description: inline, V, etc
          type: string
        cylinders:
          type: integer
        displacement:
          description: в литрах
          type: number
        power_hp:
          type: integer
        power_kw:
          type: integer
        type:
          type: string
      type: object
    models.VINManufacturerInfo:
      properties:
        country:
          type: string
        name:
          type: string
        plant_city:
          type: string
        plant_code:
          type: string
      type: object
    models.ValidateTranslationsRequest:
      properties:
        check_html:
          type: boolean
        check_length:
          type: boolean
        check_variables:
          type: boolean
        languages:
          items:
            type: string
          type: array
        module:
          type: string
      type: object
    models.ValidationIssue:
      properties:
        language:
          type: string
        message:
          type: string
        severity:
          description: '"error", "warning", "info"'
          type: string
        type:
          description: '"missing", "placeholder", "variable_mismatch", "length", "html"'
          type: string
      type: object
    models.ValidationResult:
      properties:
        issues:
          items:
            $ref: "#/components/schemas/models.ValidationIssue"
          type: array
        key:
          type: string
        module:
          type: string
      type: object
    models.VariantAttributeMapping:
      properties:
        attribute:
          allOf:
            - $ref: "#/components/schemas/models.UnifiedAttribute"
          description: Связанные объекты
        category:
          $ref: "#/components/schemas/models.MarketplaceCategory"
        category_id:
          type: integer
        created_at:
          type: string
        id:
          type: integer
        is_required:
          type: boolean
        sort_order:
          type: integer
        updated_at:
          type: string
        variant_attribute_id:
          type: integer
      type: object
    models.VariantAttributeMappingCreateRequest:
      properties:
        category_id:
          type: integer
        is_required:
          type: boolean
        sort_order:
          type: integer
        variant_attribute_id:
          type: integer
      required:
        - category_id
        - variant_attribute_id
      type: object
    models.VariantAttributeMappingUpdateRequest:
      properties:
        is_required:
          type: boolean
        sort_order:
          type: integer
      type: object
    models.VariantSettings:
      properties:
        continue_selling:
          description: continue selling when out of stock
          type: boolean
        require_shipping:
          type: boolean
        selected_attributes:
          description: which attributes are used for variants
          items:
            type: string
          type: array
        taxable_product:
          type: boolean
        track_inventory:
          type: boolean
        weight_unit:
          description: kg, g, lb, oz
          type: string
      type: object
    models.VersionDiff:
      properties:
        metadata_changes:
          additionalProperties: true
          type: object
        text_changes:
          items:
            $ref: "#/components/schemas/models.TextChange"
          type: array
        version1:
          $ref: "#/components/schemas/models.TranslationVersion"
        version2:
          $ref: "#/components/schemas/models.TranslationVersion"
      type: object
    models.VersionHistoryResponse:
      properties:
        current_version:
          type: integer
        total_versions:
          type: integer
        translation_id:
          type: integer
        versions:
          items:
            $ref: "#/components/schemas/models.TranslationVersion"
          type: array
      type: object
    models.Warehouse:
      properties:
        address:
          type: string
        city:
          type: string
        code:
          type: string
        country:
          type: string
        created_at:
          type: string
        current_occupancy_m3:
          type: number
        email:
          type: string
        has_loading_dock:
          type: boolean
        has_refrigeration:
          type: boolean
        id:
          type: integer
        is_active:
          type: boolean
        latitude:
          type: number
        longitude:
          type: number
        manager_name:
          type: string
        manager_phone:
          type: string
        max_capacity_m3:
          type: number
        name:
          type: string
        phone:
          type: string
        postal_code:
          type: string
        storage_area_m2:
          type: number
        supports_fbs:
          type: boolean
        supports_pickup:
          type: boolean
        total_area_m2:
          type: number
        type:
          type: string
        updated_at:
          type: string
        working_hours:
          items:
            type: integer
          type: array
      type: object
    models.WarehousePickupOrder:
      properties:
        created_at:
          type: string
        customer_email:
          type: string
        customer_name:
          type: string
        customer_phone:
          type: string
        expires_at:
          type: string
        id:
          type: integer
        id_document_number:
          type: string
        id_document_type:
          type: string
        marketplace_order_id:
          type: integer
        notes:
          type: string
        notification_sent_at:
          type: string
        picked_up_at:
          type: string
        pickup_code:
          type: string
        pickup_confirmed_by:
          type: string
        pickup_photo_url:
          type: string
        qr_code_url:
          type: string
        ready_at:
          type: string
        reminder_sent_at:
          type: string
        signature_url:
          type: string
        status:
          $ref: "#/components/schemas/models.PickupOrderStatus"
        storefront_order_id:
          type: integer
        updated_at:
          type: string
        warehouse_id:
          type: integer
      type: object
    opensearch.StorefrontSearchItem:
      properties:
        address:
          type: string
        city:
          type: string
        country:
          type: string
        description:
          type: string
        distance:
          description: Расстояние в км (если есть)
          format: float64
          type: number
        email:
          type: string
        hasDelivery:
          type: boolean
        hasSelfPickup:
          type: boolean
        highlights:
          additionalProperties:
            items:
              type: string
            type: array
          description: Подсвеченные фрагменты
          type: object
        id:
          type: integer
        isOpenNow:
          type: boolean
        isVerified:
          type: boolean
        latitude:
          format: float64
          type: number
        longitude:
          format: float64
          type: number
        name:
          type: string
        paymentMethods:
          items:
            type: string
          type: array
        phone:
          type: string
        productsCount:
          type: integer
        rating:
          format: float64
          type: number
        reviewsCount:
          type: integer
        score:
          description: Релевантность
          format: float64
          type: number
        slug:
          type: string
        userID:
          type: integer
      type: object
    opensearch.StorefrontSearchResult:
      properties:
        storefronts:
          items:
            $ref: "#/components/schemas/opensearch.StorefrontSearchItem"
          type: array
        total:
          type: integer
      type: object
    postgres.DashboardOrder:
      properties:
        created_at:
          type: string
        currency:
          type: string
        customer:
          type: string
        id:
          type: integer
        items_count:
          type: integer
        order_id:
          type: string
        status:
          type: string
        total:
          type: number
      type: object
    postgres.DashboardStats:
      properties:
        active_products:
          type: integer
        low_stock_products:
          type: integer
        pending_orders:
          type: integer
        total_products:
          type: integer
        unread_messages:
          type: integer
      type: object
    postgres.LowStockProduct:
      properties:
        id:
          type: integer
        min_stock:
          type: integer
        name:
          type: string
        stock_quantity:
          type: integer
      type: object
    ratelimit.Status:
      properties:
        limit:
          type: integer
        remaining:
          type: integer
        reset:
          type: string
      type: object
    recommendations.RecommendationRequest:
      properties:
        category:
          type: string
        current_item_id:
          type: integer
        limit:
          type: integer
        type:
          enum:
            - similar
            - personal
            - trending
            - new
            - discounted
            - recommended
          type: string
        user_id:
          type: integer
      required:
        - category
        - type
      type: object
    recommendations.ViewHistoryRequest:
      properties:
        category_id:
          type: integer
        interaction_type:
          enum:
            - view
            - click_phone
            - add_favorite
          type: string
        listing_id:
          type: integer
        view_duration_seconds:
          type: integer
      required:
        - category_id
        - interaction_type
        - listing_id
      type: object
    recommendations.ViewStatistics:
      properties:
        avg_duration:
          type: number
        unique_users:
          type: integer
        views_count:
          type: integer
      type: object
    search.AdvancedGeoFilters:
      properties:
        density_filter:
          allOf:
            - $ref: "#/components/schemas/search.DensityFilter"
          description: Фильтр по плотности объявлений
        poi_filter:
          allOf:
            - $ref: "#/components/schemas/search.POIFilter"
          description: Фильтр по точкам интереса
        travel_time:
          allOf:
            - $ref: "#/components/schemas/search.TravelTimeFilter"
          description: Фильтр по времени пути
      type: object
    search.Bucket:
      properties:
        count:
          description: Количество документов
          type: integer
        key:
          description: Ключ бакета
          type: string
      type: object
    search.DensityFilter:
      properties:
        avoid_crowded:
          type: boolean
        max_density:
          type: number
        min_density:
          type: number
      type: object
    search.POIFilter:
      properties:
        max_distance:
          type: integer
        min_count:
          type: integer
        poi_type:
          type: string
      type: object
    search.ServiceParams:
      properties:
        advanced_geo_filters:
          allOf:
            - $ref: "#/components/schemas/search.AdvancedGeoFilters"
          description: Расширенные геофильтры
        aggregations:
          description: Запрашиваемые агрегации
          items:
            type: string
          type: array
        attributeFilters:
          additionalProperties:
            type: string
          description: поле для фильтров атрибутов
          type: object
        categoryID:
          description: ID категории (для обратной совместимости)
          type: string
        categoryIDs:
          description: Массив ID категорий для множественного выбора
          items:
            type: string
          type: array
        city:
          description: Город
          type: string
        condition:
          description: Состояние (новое, б/у)
          type: string
        country:
          description: Страна
          type: string
        distance:
          description: Радиус поиска
          type: string
        documentType:
          description: 'Тип документа для фильтрации: "listing" или "product"'
          type: string
        fuzziness:
          description: Уровень нечеткости (AUTO, 1, 2, ...)
          type: string
        language:
          description: Язык для поиска
          type: string
        latitude:
          description: Широта для геопоиска
          format: float64
          type: number
        longitude:
          description: Долгота для геопоиска
          format: float64
          type: number
        minimumShouldMatch:
          description: Минимальное количество совпадений (70%, 50% и т.д.)
          type: string
        page:
          description: Номер страницы
          type: integer
        priceMax:
          description: Максимальная цена
          format: float64
          type: number
        priceMin:
          description: Минимальная цена
          format: float64
          type: number
        query:
          description: Текстовый запрос
          type: string
        size:
          description: Размер страницы
          type: integer
        sort:
          description: Поле сортировки
          type: string
        sortDirection:
          description: Направление сортировки (asc, desc)
          type: string
        status:
          type: string
        storefrontFilter:
          description: 'Фильтр для B2C объявлений: "include_b2c", "exclude_b2c", пустая
            строка = exclude_b2c по умолчанию'
          type: string
        storefrontID:
          description: ID витрины
          type: string
        useSynonyms:
          description: Использовать расширение запроса синонимами
          type: boolean
      type: object
    search.TravelTimeFilter:
      properties:
        center_lat:
          type: number
        center_lng:
          type: number
        max_minutes:
          type: integer
        transport_mode:
          type: string
      type: object
    service.AnalyticsPeriod:
      properties:
        from:
          type: string
        to:
          type: string
      type: object
    service.CategoryAnalysisResult:
      properties:
        insights:
          items:
            $ref: "#/components/schemas/service.CategoryInsight"
          type: array
        new_category_proposals:
          items:
            $ref: "#/components/schemas/service.NewCategoryProposal"
          type: array
        total_categories:
          type: integer
        unique_categories_found:
          type: integer
      type: object
    service.CategoryInsight:
      properties:
        external_category:
          type: string
        importance:
          description: 0-1, основано на количестве товаров
          type: number
        is_unique:
          description: Нет аналога в нашей системе
          type: boolean
        product_count:
          type: integer
        suggested_new_category:
          $ref: "#/components/schemas/service.NewCategoryProposal"
      type: object
    service.CategorySearchResult:
      properties:
        category_id:
          type: integer
        category_name:
          type: string
        category_slug:
          type: string
        similarity_score:
          type: number
      type: object
    service.ClientCategoryInfo:
      properties:
        path:
          type: string
        productCount:
          type: integer
        sampleProducts:
          description: Примеры названий товаров
          items:
            type: string
          type: array
      type: object
    service.CreateShipmentRequest:
      properties:
        cod_amount:
          type: number
        delivery_type:
          type: string
        from_address:
          $ref: "#/components/schemas/interfaces.Address"
        insurance_value:
          type: number
        notes:
          type: string
        order_id:
          type: integer
        packages:
          items:
            $ref: "#/components/schemas/interfaces.Package"
          type: array
        pickup_date:
          type: string
        provider_code:
          type: string
        provider_id:
          type: integer
        reference:
          type: string
        services:
          items:
            type: string
          type: array
        to_address:
          $ref: "#/components/schemas/interfaces.Address"
      type: object
    service.DeliveryAnalytics:
      properties:
        average_cost:
          type: number
        average_delivery_days:
          additionalProperties:
            format: float64
            type: number
          type: object
        period:
          $ref: "#/components/schemas/service.AnalyticsPeriod"
        provider_breakdown:
          items:
            $ref: "#/components/schemas/service.ProviderStatistics"
          type: array
        status_breakdown:
          additionalProperties:
            type: integer
          type: object
        top_routes:
          items:
            $ref: "#/components/schemas/service.RouteStatistics"
          type: array
        total_cost:
          type: number
        total_shipments:
          type: integer
      type: object
    service.IndexInfo:
      properties:
        aliases:
          items:
            type: string
          type: array
        created_at:
          type: string
        document_count:
          type: integer
        health:
          type: string
        index_name:
          type: string
        last_updated:
          type: string
        mappings:
          additionalProperties: true
          type: object
        number_of_shards:
          type: integer
        settings:
          additionalProperties: true
          type: object
        size_formatted:
          type: string
        size_in_bytes:
          type: integer
        status:
          type: string
      type: object
    service.IndexStatistics:
      properties:
        documents_by_category:
          additionalProperties:
            format: int64
            type: integer
          type: object
        documents_by_status:
          additionalProperties:
            format: int64
            type: integer
          type: object
        index_health:
          type: string
        last_reindexed:
          type: string
        listings_count:
          type: integer
        products_count:
          type: integer
        searchable_fields:
          items:
            type: string
          type: array
        total_documents:
          type: integer
      type: object
    service.IndexedDocument:
      properties:
        category_id:
          type: integer
        category_name:
          type: string
        id:
          type: string
        indexed_at:
          type: string
        last_modified:
          type: string
        searchable_fields:
          additionalProperties: true
          type: object
        status:
          type: string
        storefront_id:
          type: integer
        title:
          type: string
        type:
          description: listing или product
          type: string
        user_id:
          type: integer
      type: object
    service.ItemPerformance:
      properties:
        category_id:
          type: integer
        clicks:
          type: integer
        conversions:
          type: integer
        ctr:
          type: number
        item_id:
          type: integer
        revenue:
          type: number
        title:
          type: string
        views:
          type: integer
      type: object
    service.NewCategoryProposal:
      properties:
        description:
          type: string
        expected_products:
          type: integer
        name:
          type: string
        name_translations:
          additionalProperties:
            type: string
          description: ru, en, sr
          type: object
        parent_category_id:
          type: integer
        reasoning:
          type: string
        similar_categories:
          description: Связанные категории
          items:
            type: integer
          type: array
        tags:
          items:
            type: string
          type: array
      type: object
    service.OptimizationConfig:
      properties:
        default_analysis_period_days:
          type: integer
        default_confidence_level:
          type: number
        default_learning_rate:
          type: number
        default_max_iterations:
          type: integer
        default_min_sample_size:
          type: integer
        max_weight:
          description: Максимальное значение веса
          type: number
        max_weight_change:
          description: Максимальное изменение веса за одну оптимизацию
          type: number
        min_weight:
          description: Минимальное значение веса
          type: number
      type: object
    service.PaymentInitiationResponse:
      properties:
        amount:
          type: number
        currency:
          type: string
        message:
          type: string
        payment_intent_id:
          type: string
        payment_required:
          type: boolean
        redirect_url:
          type: string
      type: object
    service.ProviderStatistics:
      properties:
        average_cost:
          type: number
        provider_id:
          type: integer
        provider_name:
          type: string
        shipment_count:
          type: integer
        success_rate:
          type: number
        total_cost:
          type: number
      type: object
    service.RouteStatistics:
      properties:
        average_cost:
          type: number
        average_days:
          type: number
        from_city:
          type: string
        shipment_count:
          type: integer
        to_city:
          type: string
      type: object
    service.SearchMetrics:
      properties:
        avg_click_position:
          type: number
        avg_results_shown:
          type: number
        ctr:
          type: number
        search_trends:
          items:
            $ref: "#/components/schemas/service.SearchTrend"
          type: array
        top_queries:
          items:
            $ref: "#/components/schemas/service.TopQuery"
          type: array
        total_searches:
          type: integer
        unique_searches:
          type: integer
        zero_result_rate:
          type: number
      type: object
    service.SearchTrend:
      properties:
        ctr:
          type: number
        date:
          type: string
        searches:
          type: integer
      type: object
    service.TopQuery:
      properties:
        avg_results:
          type: integer
        count:
          type: integer
        ctr:
          type: number
        query:
          type: string
      type: object
    service.TrackingInfo:
      properties:
        current_location:
          type: string
        delivered_date:
          type: string
        estimated_date:
          type: string
        events:
          items:
            $ref: "#/components/schemas/interfaces.TrackingEvent"
          type: array
        last_updated:
          type: string
        proof_of_delivery:
          $ref: "#/components/schemas/interfaces.ProofOfDelivery"
        shipment_id:
          type: integer
        status:
          type: string
        status_text:
          type: string
        tracking_number:
          type: string
      type: object
    services.AIDetectionInput:
      properties:
        aiHints:
          $ref: "#/components/schemas/services.AIHints"
        description:
          type: string
        entityType:
          description: '"listing" или "product"'
          type: string
        listingId:
          type: integer
        title:
          type: string
        userId:
          type: integer
      type: object
    services.AIDetectionResult:
      properties:
        aiHints:
          $ref: "#/components/schemas/services.AIHints"
        algorithm:
          type: string
        alternativeIds:
          items:
            type: integer
          type: array
        categoryId:
          type: integer
        categoryName:
          type: string
        categoryPath:
          type: string
        confidenceScore:
          type: number
        keywords:
          items:
            type: string
          type: array
        processingTimeMs:
          type: integer
      type: object
    services.AIHints:
      properties:
        categoryPath:
          type: string
        domain:
          type: string
        keywords:
          items:
            type: string
          type: array
        productType:
          type: string
      type: object
    services.CategoryKeywordMapping:
      properties:
        categoryId:
          type: integer
        keywords:
          items:
            $ref: "#/components/schemas/services.GeneratedKeyword"
          type: array
      type: object
    services.GeneratedKeyword:
      properties:
        confidence:
          description: AI confidence in this keyword
          type: number
        description:
          description: Why this keyword is relevant
          type: string
        keyword:
          type: string
        type:
          description: main, synonym, brand, attribute, context
          type: string
        weight:
          description: 0.1-2.0
          type: number
      type: object
    services.KeywordGenerationRequest:
      properties:
        categoryId:
          type: integer
        categoryName:
          type: string
        language:
          type: string
        minKeywords:
          type: integer
      required:
        - categoryId
        - categoryName
      type: object
    services.KeywordGenerationResult:
      properties:
        categories:
          items:
            $ref: "#/components/schemas/services.CategoryKeywordMapping"
          type: array
        categoryId:
          type: integer
        generatedCount:
          type: integer
        keywords:
          items:
            $ref: "#/components/schemas/services.GeneratedKeyword"
          type: array
        processingTimeMs:
          type: integer
      type: object
    services.LearningMetrics:
      properties:
        accuracyImprovement:
          type: number
        avgProcessingTimeMs:
          type: integer
        improvementsApplied:
          type: integer
        incorrectDetections:
          type: integer
        keywordsLearned:
          type: integer
        lastLearningSession:
          type: string
        recommendedActions:
          items:
            type: string
          type: array
        totalFeedbacks:
          type: integer
      type: object
    services.UploadImageResponse:
      properties:
        display_order:
          type: integer
        id:
          type: integer
        image_url:
          type: string
        is_main:
          type: boolean
        public_url:
          type: string
        thumbnail_url:
          type: string
      type: object
    services.ValidationRequest:
      properties:
        categoryName:
          type: string
        description:
          type: string
        language:
          type: string
        title:
          type: string
      required:
        - categoryName
        - title
      type: object
    services.ValidationResult:
      properties:
        confidence:
          type: number
        isCorrect:
          type: boolean
        keywords:
          items:
            type: string
          type: array
        processingTimeMs:
          type: integer
        reasoning:
          type: string
        suggestedCategory:
          type: string
      type: object
    storage.WarehouseStatistics:
      properties:
        average_pickup_time:
          type: number
        canceled_orders:
          type: integer
        completed_orders:
          type: integer
        completed_pickup_orders:
          type: integer
        occupancy_percent:
          type: number
        pending_orders:
          type: integer
        pending_pickup_orders:
          type: integer
        ready_orders:
          type: integer
        total_inventory_items:
          type: integer
        total_orders:
          type: integer
        total_pickup_orders:
          description: Дополнительные поля для совместимости с repository
          type: integer
        total_value:
          type: number
        total_volume_m3:
          type: number
        warehouse_id:
          type: integer
        warehouse_name:
          type: string
      type: object
    tgbotapi.Animation:
      properties:
        file_id:
          type: string
        file_name:
          type: string
        file_size:
          type: integer
        mime_type:
          type: string
        thumb:
          $ref: "#/components/schemas/tgbotapi.PhotoSize"
      type: object
    tgbotapi.Audio:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
        performer:
          description: optional
          type: string
        title:
          description: optional
          type: string
      type: object
    tgbotapi.CallbackQuery:
      properties:
        chat_instance:
          type: string
        data:
          description: optional
          type: string
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        game_short_name:
          description: optional
          type: string
        id:
          type: string
        inline_message_id:
          description: optional
          type: string
        message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
      type: object
    tgbotapi.Chat:
      properties:
        all_members_are_administrators:
          description: optional
          type: boolean
        description:
          description: optional
          type: string
        first_name:
          description: optional
          type: string
        id:
          type: integer
        invite_link:
          description: optional
          type: string
        last_name:
          description: optional
          type: string
        photo:
          $ref: "#/components/schemas/tgbotapi.ChatPhoto"
        title:
          description: optional
          type: string
        type:
          type: string
        username:
          description: optional
          type: string
      type: object
    tgbotapi.ChatAnimation:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_name:
          description: optional
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.ChatPhoto:
      properties:
        big_file_id:
          type: string
        small_file_id:
          type: string
      type: object
    tgbotapi.ChosenInlineResult:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        inline_message_id:
          type: string
        location:
          $ref: "#/components/schemas/tgbotapi.Location"
        query:
          type: string
        result_id:
          type: string
      type: object
    tgbotapi.Contact:
      properties:
        first_name:
          type: string
        last_name:
          description: optional
          type: string
        phone_number:
          type: string
        user_id:
          description: optional
          type: integer
      type: object
    tgbotapi.Document:
      properties:
        file_id:
          type: string
        file_name:
          description: optional
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
      type: object
    tgbotapi.EncryptedCredentials:
      properties:
        data:
          description: >-
            Base64-encoded encrypted JSON-serialized data with unique user's

            payload, data hashes and secrets required for EncryptedPassportElement

            decryption and authentication
          type: string
        hash:
          description: Base64-encoded data hash for data authentication
          type: string
        secret:
          description: |-
            Base64-encoded secret, encrypted with the bot's public RSA key,
            required for data decryption
          type: string
      type: object
    tgbotapi.EncryptedPassportElement:
      properties:
        data:
          description: |-
            Base64-encoded encrypted Telegram Passport element data provided by
            the user, available for "personal_details", "passport",
            "driver_license", "identity_card", "identity_passport" and "address"
            types. Can be decrypted and verified using the accompanying
            EncryptedCredentials.
          type: string
        email:
          description: User's verified email address, available only for "email" type
          type: string
        files:
          description: >-
            Array of encrypted files with documents provided by the user,

            available for "utility_bill", "bank_statement", "rental_agreement",

            "passport_registration" and "temporary_registration" types. Files can

            be decrypted and verified using the accompanying EncryptedCredentials.
          items:
            $ref: "#/components/schemas/tgbotapi.PassportFile"
          type: array
        front_side:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: >-
            Encrypted file with the front side of the document, provided by the

            user. Available for "passport", "driver_license", "identity_card" and

            "internal_passport". The file can be decrypted and verified using the

            accompanying EncryptedCredentials.
        phone_number:
          description: User's verified phone number, available only for "phone_number" type
          type: string
        reverse_side:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: >-
            Encrypted file with the reverse side of the document, provided by
            the

            user. Available for "driver_license" and "identity_card". The file can

            be decrypted and verified using the accompanying EncryptedCredentials.
        selfie:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportFile"
          description: |-
            Encrypted file with the selfie of the user holding a document,
            provided by the user; available for "passport", "driver_license",
            "identity_card" and "internal_passport". The file can be decrypted
            and verified using the accompanying EncryptedCredentials.
        type:
          description: Element type.
          type: string
      type: object
    tgbotapi.Game:
      properties:
        animation:
          $ref: "#/components/schemas/tgbotapi.Animation"
        description:
          type: string
        photo:
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        text:
          type: string
        text_entities:
          items:
            $ref: "#/components/schemas/tgbotapi.MessageEntity"
          type: array
        title:
          type: string
      type: object
    tgbotapi.InlineQuery:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        location:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Location"
          description: optional
        offset:
          type: string
        query:
          type: string
      type: object
    tgbotapi.Invoice:
      properties:
        currency:
          type: string
        description:
          type: string
        start_parameter:
          type: string
        title:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.Location:
      properties:
        latitude:
          type: number
        longitude:
          type: number
      type: object
    tgbotapi.Message:
      properties:
        animation:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.ChatAnimation"
          description: optional
        audio:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Audio"
          description: optional
        caption:
          description: optional
          type: string
        channel_chat_created:
          description: optional
          type: boolean
        chat:
          $ref: "#/components/schemas/tgbotapi.Chat"
        contact:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Contact"
          description: optional
        date:
          type: integer
        delete_chat_photo:
          description: optional
          type: boolean
        document:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Document"
          description: optional
        edit_date:
          description: optional
          type: integer
        entities:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.MessageEntity"
          type: array
        forward_date:
          description: optional
          type: integer
        forward_from:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        forward_from_chat:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Chat"
          description: optional
        forward_from_message_id:
          description: optional
          type: integer
        from:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        game:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Game"
          description: optional
        group_chat_created:
          description: optional
          type: boolean
        invoice:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Invoice"
          description: optional
        left_chat_member:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
        location:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Location"
          description: optional
        message_id:
          type: integer
        migrate_from_chat_id:
          description: optional
          type: integer
        migrate_to_chat_id:
          description: optional
          type: integer
        new_chat_members:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.User"
          type: array
        new_chat_photo:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        new_chat_title:
          description: optional
          type: string
        passport_data:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PassportData"
          description: optional
        photo:
          description: optional
          items:
            $ref: "#/components/schemas/tgbotapi.PhotoSize"
          type: array
        pinned_message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
        reply_to_message:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Message"
          description: optional
        sticker:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Sticker"
          description: optional
        successful_payment:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.SuccessfulPayment"
          description: optional
        supergroup_chat_created:
          description: optional
          type: boolean
        text:
          description: optional
          type: string
        venue:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Venue"
          description: optional
        video:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Video"
          description: optional
        video_note:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.VideoNote"
          description: optional
        voice:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.Voice"
          description: optional
      type: object
    tgbotapi.MessageEntity:
      properties:
        length:
          type: integer
        offset:
          type: integer
        type:
          type: string
        url:
          description: optional
          type: string
        user:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.User"
          description: optional
      type: object
    tgbotapi.OrderInfo:
      properties:
        email:
          type: string
        name:
          type: string
        phone_number:
          type: string
        shipping_address:
          $ref: "#/components/schemas/tgbotapi.ShippingAddress"
      type: object
    tgbotapi.PassportData:
      properties:
        credentials:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.EncryptedCredentials"
          description: Encrypted credentials required to decrypt the data
        data:
          description: |-
            Array with information about documents and other Telegram Passport
            elements that was shared with the bot
          items:
            $ref: "#/components/schemas/tgbotapi.EncryptedPassportElement"
          type: array
      type: object
    tgbotapi.PassportFile:
      properties:
        file_date:
          description: Unix time when the file was uploaded
          type: integer
        file_id:
          description: Unique identifier for this file
          type: string
        file_size:
          description: File size
          type: integer
      type: object
    tgbotapi.PhotoSize:
      properties:
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        width:
          type: integer
      type: object
    tgbotapi.PreCheckoutQuery:
      properties:
        currency:
          type: string
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        invoice_payload:
          type: string
        order_info:
          $ref: "#/components/schemas/tgbotapi.OrderInfo"
        shipping_option_id:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.ShippingAddress:
      properties:
        city:
          type: string
        country_code:
          type: string
        post_code:
          type: string
        state:
          type: string
        street_line1:
          type: string
        street_line2:
          type: string
      type: object
    tgbotapi.ShippingQuery:
      properties:
        from:
          $ref: "#/components/schemas/tgbotapi.User"
        id:
          type: string
        invoice_payload:
          type: string
        shipping_address:
          $ref: "#/components/schemas/tgbotapi.ShippingAddress"
      type: object
    tgbotapi.Sticker:
      properties:
        emoji:
          description: optional
          type: string
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        set_name:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.SuccessfulPayment:
      properties:
        currency:
          type: string
        invoice_payload:
          type: string
        order_info:
          $ref: "#/components/schemas/tgbotapi.OrderInfo"
        provider_payment_charge_id:
          type: string
        shipping_option_id:
          type: string
        telegram_payment_charge_id:
          type: string
        total_amount:
          type: integer
      type: object
    tgbotapi.Update:
      properties:
        callback_query:
          $ref: "#/components/schemas/tgbotapi.CallbackQuery"
        channel_post:
          $ref: "#/components/schemas/tgbotapi.Message"
        chosen_inline_result:
          $ref: "#/components/schemas/tgbotapi.ChosenInlineResult"
        edited_channel_post:
          $ref: "#/components/schemas/tgbotapi.Message"
        edited_message:
          $ref: "#/components/schemas/tgbotapi.Message"
        inline_query:
          $ref: "#/components/schemas/tgbotapi.InlineQuery"
        message:
          $ref: "#/components/schemas/tgbotapi.Message"
        pre_checkout_query:
          $ref: "#/components/schemas/tgbotapi.PreCheckoutQuery"
        shipping_query:
          $ref: "#/components/schemas/tgbotapi.ShippingQuery"
        update_id:
          type: integer
      type: object
    tgbotapi.User:
      properties:
        first_name:
          type: string
        id:
          type: integer
        is_bot:
          description: optional
          type: boolean
        language_code:
          description: optional
          type: string
        last_name:
          description: optional
          type: string
        username:
          description: optional
          type: string
      type: object
    tgbotapi.Venue:
      properties:
        address:
          type: string
        foursquare_id:
          description: optional
          type: string
        location:
          $ref: "#/components/schemas/tgbotapi.Location"
        title:
          type: string
      type: object
    tgbotapi.Video:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        height:
          type: integer
        mime_type:
          description: optional
          type: string
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
        width:
          type: integer
      type: object
    tgbotapi.VideoNote:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        length:
          type: integer
        thumb:
          allOf:
            - $ref: "#/components/schemas/tgbotapi.PhotoSize"
          description: optional
      type: object
    tgbotapi.Voice:
      properties:
        duration:
          type: integer
        file_id:
          type: string
        file_size:
          description: optional
          type: integer
        mime_type:
          description: optional
          type: string
      type: object
    tracking.CourierLocation:
      properties:
        heading:
          type: integer
        latitude:
          format: float64
          type: number
        longitude:
          format: float64
          type: number
        speed:
          format: float64
          type: number
        updatedAt:
          type: string
      type: object
    tracking.CourierLocationUpdate:
      properties:
        heading:
          maximum: 359
          minimum: 0
          type: integer
        latitude:
          maximum: 90
          minimum: -90
          type: number
        longitude:
          maximum: 180
          minimum: -180
          type: number
        speed:
          minimum: 0
          type: number
      required:
        - latitude
        - longitude
      type: object
    tracking.CreateDeliveryRequest:
      properties:
        courier_id:
          minimum: 1
          type: integer
        delivery_address:
          minLength: 5
          type: string
        delivery_latitude:
          maximum: 90
          minimum: -90
          type: number
        delivery_longitude:
          maximum: 180
          minimum: -180
          type: number
        order_id:
          minimum: 1
          type: integer
        pickup_address:
          minLength: 5
          type: string
        pickup_latitude:
          maximum: 90
          minimum: -90
          type: number
        pickup_longitude:
          maximum: 180
          minimum: -180
          type: number
      required:
        - courier_id
        - delivery_address
        - delivery_latitude
        - delivery_longitude
        - order_id
        - pickup_address
        - pickup_latitude
        - pickup_longitude
      type: object
    tracking.Delivery:
      properties:
        actualDeliveryTime:
          type: string
        courierID:
          type: integer
        courierLocation:
          $ref: "#/components/schemas/tracking.CourierLocation"
        courierName:
          type: string
        courierPhone:
          type: string
        createdAt:
          type: string
        deliveryAddress:
          type: string
        deliveryLatitude:
          format: float64
          type: number
        deliveryLongitude:
          format: float64
          type: number
        distance:
          description: в метрах
          type: integer
        duration:
          description: в минутах
          type: integer
        estimatedDeliveryTime:
          type: string
        id:
          type: integer
        lastKnownLocation:
          $ref: "#/components/schemas/tracking.LocationUpdate"
        orderID:
          type: integer
        pickupAddress:
          type: string
        pickupLatitude:
          format: float64
          type: number
        pickupLongitude:
          format: float64
          type: number
        status:
          type: string
        trackingToken:
          type: string
        updatedAt:
          type: string
      type: object
    tracking.DeliveryStatusUpdate:
      properties:
        status:
          enum:
            - pending
            - picked_up
            - in_transit
            - delivered
            - failed
          type: string
      required:
        - status
      type: object
    tracking.LocationUpdate:
      properties:
        courier_id:
          type: integer
        heading:
          type: integer
        latitude:
          type: number
        longitude:
          type: number
        speed:
          type: number
      type: object
    translation_admin.ProviderCosts:
      properties:
        daily_costs:
          additionalProperties:
            format: float64
            type: number
          description: map[date]cost
          type: object
        hourly_costs:
          additionalProperties:
            format: float64
            type: number
          description: map[hour]cost
          type: object
        last_updated:
          type: string
        provider:
          type: string
        total_cost:
          type: number
        total_requests:
          type: integer
        total_tokens:
          type: integer
      type: object
    types.AddressComponents:
      properties:
        city:
          type: string
        country:
          type: string
        country_code:
          type: string
        district:
          type: string
        formatted:
          type: string
        house_number:
          type: string
        postal_code:
          type: string
        street:
          type: string
      type: object
    types.AddressSuggestion:
      properties:
        address_components:
          $ref: "#/components/schemas/types.AddressComponents"
        confidence:
          type: number
        id:
          type: string
        location:
          $ref: "#/components/schemas/types.Point"
        place_name:
          type: string
        place_types:
          items:
            type: string
          type: array
        text:
          type: string
      type: object
    types.AdvancedGeoFilters:
      properties:
        bounding_box:
          allOf:
            - $ref: "#/components/schemas/types.BoundingBox"
          description: Базовые геофильтры
        density_filter:
          allOf:
            - $ref: "#/components/schemas/types.DensityFilter"
          description: Фильтр по плотности объявлений
        poi_filter:
          allOf:
            - $ref: "#/components/schemas/types.POIFilter"
          description: Фильтр по точкам интереса
        radius:
          $ref: "#/components/schemas/types.RadiusFilter"
        travel_time:
          allOf:
            - $ref: "#/components/schemas/types.TravelTimeFilter"
          description: Фильтр по времени пути
      type: object
    types.ApplyAdvancedFiltersRequest:
      properties:
        filters:
          $ref: "#/components/schemas/types.AdvancedGeoFilters"
        listing_ids:
          items:
            type: string
          type: array
      type: object
    types.AttributeValue:
      properties:
        color_hex:
          type: string
        display_name:
          type: string
        image_url:
          type: string
        is_custom:
          description: true if added by seller
          type: boolean
        value:
          type: string
      type: object
    types.BoundingBox:
      properties:
        max_lat:
          type: number
        max_lng:
          type: number
        min_lat:
          type: number
        min_lng:
          type: number
      required:
        - max_lat
        - max_lng
        - min_lat
        - min_lng
      type: object
    types.Bounds:
      properties:
        east:
          maximum: 180
          minimum: -180
          type: number
        north:
          maximum: 90
          minimum: -90
          type: number
        south:
          maximum: 90
          minimum: -90
          type: number
        west:
          maximum: 180
          minimum: -180
          type: number
      required:
        - east
        - north
        - south
        - west
      type: object
    types.BulkUpdateStockRequest:
      properties:
        updates:
          items:
            $ref: "#/components/schemas/types.StockUpdateItem"
          minItems: 1
          type: array
      required:
        - updates
      type: object
    types.City:
      properties:
        area_km2:
          type: number
        boundary:
          $ref: "#/components/schemas/types.Polygon"
        center_point:
          $ref: "#/components/schemas/types.Point"
        country_code:
          type: string
        created_at:
          type: string
        has_districts:
          type: boolean
        id:
          type: string
        name:
          type: string
        population:
          type: integer
        postal_codes:
          items:
            type: string
          type: array
        priority:
          type: integer
        slug:
          type: string
        updated_at:
          type: string
      type: object
    types.CityWithDistance:
      properties:
        city:
          $ref: "#/components/schemas/types.City"
        distance:
          description: расстояние в метрах
          type: number
      type: object
    types.DensityAnalysisResult:
      properties:
        area_km2:
          type: number
        center_lat:
          type: number
        center_lng:
          type: number
        density:
          type: number
        grid_cell_id:
          type: string
        listing_count:
          type: integer
      type: object
    types.DensityFilter:
      properties:
        avoid_crowded:
          description: Избегать переполненных районов
          type: boolean
        max_density:
          description: Максимальное количество объявлений на км²
          minimum: 0
          type: number
        min_density:
          description: Минимальное количество объявлений на км²
          minimum: 0
          type: number
      type: object
    types.District:
      properties:
        area_km2:
          type: number
        boundary:
          $ref: "#/components/schemas/types.Polygon"
        center_point:
          $ref: "#/components/schemas/types.Point"
        city_id:
          type: string
        country_code:
          type: string
        created_at:
          type: string
        id:
          type: string
        name:
          type: string
        population:
          type: integer
        postal_codes:
          items:
            type: string
          type: array
        updated_at:
          type: string
      type: object
    types.DistrictBoundaryResponse:
      properties:
        boundary:
          description: GeoJSON polygon as JSON object
          items:
            type: integer
          type: array
        city_id:
          type: string
        id:
          type: string
        name:
          type: string
      type: object
    types.EnhancedListingGeo:
      properties:
        address_components:
          $ref: "#/components/schemas/types.AddressComponents"
        address_verified:
          type: boolean
        blur_radius:
          type: number
        blurred_location:
          $ref: "#/components/schemas/types.Point"
        created_at:
          type: string
        formatted_address:
          type: string
        geocoding_confidence:
          type: number
        geohash:
          type: string
        id:
          type: integer
        input_method:
          $ref: "#/components/schemas/types.InputMethod"
        is_precise:
          type: boolean
        listing_id:
          type: integer
        location:
          $ref: "#/components/schemas/types.Point"
        location_privacy:
          $ref: "#/components/schemas/types.LocationPrivacyLevel"
        updated_at:
          type: string
      type: object
    types.GeoListing:
      properties:
        address:
          type: string
        blur_radius_meters:
          type: integer
        category:
          type: string
        created_at:
          type: string
        description:
          type: string
        display_strategy:
          description: individual, storefront_grouped
          type: string
        distance:
          description: Расстояние от точки поиска (в метрах)
          type: number
        id:
          type: integer
        images:
          items:
            type: string
          type: array
        item_type:
          description: marketplace_listing, storefront_product, storefront
          type: string
        location:
          $ref: "#/components/schemas/types.Point"
        price:
          type: number
        privacy_level:
          type: string
        products:
          description: Товары витрины
          items:
            $ref: "#/components/schemas/types.ProductInfo"
          type: array
        rating:
          type: number
        status:
          type: string
        storefront_id:
          type: integer
        title:
          type: string
        updated_at:
          type: string
        user_id:
          type: integer
        views_count:
          type: integer
      type: object
    types.GeocodeContext:
      properties:
        bounds:
          $ref: "#/components/schemas/types.Bounds"
        place_types:
          items:
            type: string
          type: array
        proximity_to:
          $ref: "#/components/schemas/types.Point"
      type: object
    types.GeocodeValidateRequest:
      properties:
        address:
          minLength: 5
          type: string
        context:
          $ref: "#/components/schemas/types.GeocodeContext"
        country_code:
          type: string
        language:
          type: string
      required:
        - address
      type: object
    types.GeocodeValidateResponse:
      properties:
        address_components:
          $ref: "#/components/schemas/types.AddressComponents"
        confidence:
          type: number
        formatted_address:
          type: string
        location:
          $ref: "#/components/schemas/types.Point"
        success:
          type: boolean
        suggestions:
          items:
            $ref: "#/components/schemas/types.AddressSuggestion"
          type: array
        warnings:
          items:
            type: string
          type: array
      type: object
    types.InputMethod:
      enum:
        - manual
        - geocoded
        - map_click
        - current_location
      type: string
      x-enum-varnames:
        - InputManual
        - InputGeocoded
        - InputMapClick
        - InputCurrentLocation
    types.IsohronResponse:
      properties:
        features:
          items:
            properties:
              geometry:
                properties:
                  coordinates:
                    items:
                      items:
                        items:
                          format: float64
                          type: number
                        type: array
                      type: array
                    type: array
                  type:
                    type: string
                type: object
              properties:
                properties:
                  contour:
                    type: integer
                type: object
            type: object
          type: array
      type: object
    types.LocationPrivacyLevel:
      enum:
        - exact
        - street
        - district
        - city
      type: string
      x-enum-comments:
        PrivacyCity: Только город
        PrivacyDistrict: Размытие ±500-1000м
        PrivacyExact: Точный адрес
        PrivacyStreet: Размытие ±100-200м
      x-enum-descriptions:
        - Точный адрес
        - Размытие ±100-200м
        - Размытие ±500-1000м
        - Только город
      x-enum-varnames:
        - PrivacyExact
        - PrivacyStreet
        - PrivacyDistrict
        - PrivacyCity
    types.MultilingualGeocodeRequest:
      properties:
        latitude:
          maximum: 90
          minimum: -90
          type: number
        longitude:
          maximum: 180
          minimum: -180
          type: number
      required:
        - latitude
        - longitude
      type: object
    types.MultilingualGeocodeResponse:
      properties:
        address_en:
          description: Английский
          type: string
        address_ru:
          description: Русский
          type: string
        address_sr:
          description: Сербский
          type: string
      type: object
    types.Municipality:
      properties:
        area_km2:
          type: number
        boundary:
          $ref: "#/components/schemas/types.Polygon"
        center_point:
          $ref: "#/components/schemas/types.Point"
        country_code:
          type: string
        created_at:
          type: string
        district_id:
          type: string
        id:
          type: string
        name:
          type: string
        population:
          type: integer
        postal_codes:
          items:
            type: string
          type: array
        updated_at:
          type: string
      type: object
    types.POIFilter:
      properties:
        max_distance:
          description: Максимальное расстояние в метрах
          maximum: 5000
          minimum: 100
          type: integer
        min_count:
          description: Минимальное количество POI в радиусе
          maximum: 10
          minimum: 0
          type: integer
        poi_type:
          allOf:
            - $ref: "#/components/schemas/types.POIType"
          description: Тип точки интереса
      required:
        - max_distance
        - poi_type
      type: object
    types.POISearchResult:
      properties:
        distance:
          type: number
        id:
          type: string
        lat:
          type: number
        lng:
          type: number
        name:
          type: string
        type:
          $ref: "#/components/schemas/types.POIType"
      type: object
    types.POIType:
      enum:
        - school
        - hospital
        - metro
        - supermarket
        - park
        - bank
        - pharmacy
        - bus_stop
      type: string
      x-enum-varnames:
        - POISchool
        - POIHospital
        - POIMetro
        - POISupermarket
        - POIPark
        - POIBank
        - POIPharmacy
        - POIBusStop
    types.Point:
      properties:
        lat:
          maximum: 90
          minimum: -90
          type: number
        lng:
          maximum: 180
          minimum: -180
          type: number
      required:
        - lat
        - lng
      type: object
    types.Polygon:
      properties:
        coordinates:
          items:
            items:
              items:
                format: float64
                type: number
              type: array
            type: array
          type: array
        type:
          type: string
      type: object
    types.ProductInfo:
      properties:
        category:
          type: string
        id:
          type: integer
        image:
          type: string
        price:
          type: number
        title:
          type: string
      type: object
    types.ProductVariant:
      properties:
        available_quantity:
          description: "NEW: computed field"
          type: integer
        barcode:
          type: string
        compare_at_price:
          type: number
        cost_price:
          type: number
        created_at:
          type: string
        dimensions:
          additionalProperties: true
          type: object
        id:
          type: integer
        images:
          description: Related data
          items:
            $ref: "#/components/schemas/types.ProductVariantImage"
          type: array
        is_active:
          type: boolean
        is_default:
          type: boolean
        low_stock_threshold:
          type: integer
        price:
          type: number
        product_id:
          type: integer
        reserved_quantity:
          description: NEW
          type: integer
        sku:
          type: string
        sold_count:
          type: integer
        stock_quantity:
          type: integer
        stock_status:
          type: string
        updated_at:
          type: string
        variant_attributes:
          additionalProperties: true
          type: object
        view_count:
          type: integer
        weight:
          type: number
      type: object
    types.ProductVariantAttribute:
      properties:
        affects_stock:
          description: "NEW: determines if this attribute requires separate stock tracking"
          type: boolean
        created_at:
          type: string
        display_name:
          type: string
        id:
          type: integer
        is_required:
          type: boolean
        name:
          type: string
        sort_order:
          type: integer
        type:
          description: text, color, image, number
          type: string
        updated_at:
          type: string
      type: object
    types.ProductVariantAttributeValue:
      properties:
        attribute_id:
          type: integer
        color_hex:
          type: string
        created_at:
          type: string
        display_name:
          type: string
        id:
          type: integer
        image_url:
          type: string
        is_active:
          type: boolean
        is_popular:
          description: NEW
          type: boolean
        metadata:
          additionalProperties: true
          description: NEW
          type: object
        sort_order:
          type: integer
        updated_at:
          type: string
        usage_count:
          description: NEW
          type: integer
        value:
          type: string
      type: object
    types.ProductVariantImage:
      properties:
        alt_text:
          type: string
        created_at:
          type: string
        display_order:
          type: integer
        id:
          type: integer
        image_url:
          type: string
        is_main:
          type: boolean
        thumbnail_url:
          type: string
        variant_id:
          type: integer
      type: object
    types.RadiusFilter:
      properties:
        center_lat:
          type: number
        center_lng:
          type: number
        radius_km:
          maximum: 50
          minimum: 0.1
          type: number
      required:
        - center_lat
        - center_lng
        - radius_km
      type: object
    types.RadiusSearchResponse:
      properties:
        has_more:
          type: boolean
        listings:
          items:
            $ref: "#/components/schemas/types.GeoListing"
          type: array
        search_center:
          allOf:
            - $ref: "#/components/schemas/types.Point"
          description: центр поиска
        search_radius:
          description: радиус в метрах
          type: number
        total_count:
          type: integer
      type: object
    types.SearchResponse:
      properties:
        has_more:
          type: boolean
        listings:
          items:
            $ref: "#/components/schemas/types.GeoListing"
          type: array
        total_count:
          type: integer
      type: object
    types.StockUpdateItem:
      properties:
        stock_quantity:
          minimum: 0
          type: integer
        variant_id:
          type: integer
      required:
        - variant_id
      type: object
    types.TransportMode:
      enum:
        - walking
        - driving
        - cycling
        - transit
      type: string
      x-enum-varnames:
        - TransportWalking
        - TransportDriving
        - TransportCycling
        - TransportTransit
    types.TravelTimeFilter:
      properties:
        center_lat:
          description: Центральная точка для расчета изохрон
          type: number
        center_lng:
          type: number
        max_minutes:
          description: Максимальное время пути в минутах (5-60)
          maximum: 60
          minimum: 5
          type: integer
        transport_mode:
          allOf:
            - $ref: "#/components/schemas/types.TransportMode"
          description: Тип транспорта
          enum:
            - walking
            - driving
            - cycling
            - transit
      required:
        - center_lat
        - center_lng
        - max_minutes
        - transport_mode
      type: object
    types.UpdateAddressRequest:
      properties:
        address:
          minLength: 5
          type: string
        address_components:
          $ref: "#/components/schemas/types.AddressComponents"
        input_method:
          $ref: "#/components/schemas/types.InputMethod"
        location:
          $ref: "#/components/schemas/types.Point"
        location_privacy:
          $ref: "#/components/schemas/types.LocationPrivacyLevel"
        verified:
          type: boolean
      required:
        - address
        - input_method
        - location
        - location_privacy
      type: object
    types.UpdateLocationRequest:
      properties:
        address:
          maxLength: 500
          minLength: 5
          type: string
        lat:
          maximum: 90
          minimum: -90
          type: number
        lng:
          maximum: 180
          minimum: -180
          type: number
      required:
        - address
        - lat
        - lng
      type: object
    types.UpdateVariantRequest:
      properties:
        barcode:
          type: string
        compare_at_price:
          type: number
        cost_price:
          type: number
        dimensions:
          additionalProperties: true
          type: object
        is_active:
          type: boolean
        is_default:
          type: boolean
        low_stock_threshold:
          type: integer
        price:
          type: number
        sku:
          type: string
        stock_quantity:
          minimum: 0
          type: integer
        variant_attributes:
          additionalProperties: true
          type: object
        weight:
          type: number
      type: object
    types.VariantAnalyticsResponse:
      properties:
        best_seller:
          $ref: "#/components/schemas/types.ProductVariant"
        low_stock_variants:
          items:
            $ref: "#/components/schemas/types.ProductVariant"
          type: array
        sales_by_attribute:
          additionalProperties:
            additionalProperties:
              type: integer
            type: object
          type: object
        stock_by_attribute:
          additionalProperties:
            additionalProperties:
              type: integer
            type: object
          description: 'e.g. {"color": {"red": 50, "blue": 30}}'
          type: object
        total_sold:
          type: integer
        total_stock:
          type: integer
        total_variants:
          type: integer
      type: object
    types.VariantMatrixResponse:
      properties:
        attributes:
          additionalProperties:
            items:
              $ref: "#/components/schemas/types.AttributeValue"
            type: array
          description: available attributes and their values
          type: object
        existing_variants:
          description: already created variants
          items:
            $ref: "#/components/schemas/types.ProductVariant"
          type: array
        possible_combinations:
          description: total number of possible combinations
          type: integer
      type: object
    types.VisibleCitiesRequest:
      properties:
        bounds:
          $ref: "#/components/schemas/types.Bounds"
        center:
          $ref: "#/components/schemas/types.Point"
      required:
        - bounds
        - center
      type: object
    types.VisibleCitiesResponse:
      properties:
        closest_city:
          $ref: "#/components/schemas/types.CityWithDistance"
        visible_cities:
          items:
            $ref: "#/components/schemas/types.CityWithDistance"
          type: array
      type: object
    utils.ErrorResponseSwag:
      properties:
        error:
          example: Описание ошибки
          type: string
      type: object
    utils.SuccessResponseSwag:
      properties:
        data: {}
        success:
          example: true
          type: boolean
      type: object
    viber.EstimateCostRequest:
      properties:
        is_rich_media:
          type: boolean
        viber_id:
          type: string
      required:
        - viber_id
      type: object
    viber.SendMessageRequest:
      properties:
        text:
          maxLength: 7000
          minLength: 1
          type: string
        viber_id:
          type: string
      required:
        - text
        - viber_id
      type: object
    viber.SendTrackingRequest:
      properties:
        delivery_id:
          minimum: 1
          type: integer
        viber_id:
          type: string
      required:
        - delivery_id
        - viber_id
      type: object
