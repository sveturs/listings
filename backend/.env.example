# Backend Environment Variables Template
# Copy this file to .env and replace placeholders with actual values

# Database Configuration
DATABASE_URL=postgres://postgres:YOUR_SECURE_PASSWORD@localhost:5432/svetubd?sslmode=disable

# JWT Configuration
# Generate with: openssl rand -base64 32
JWT_SECRET=YOUR_SECURE_JWT_SECRET_HERE
JWT_EXPIRATION_HOURS=24

# Google OAuth Configuration
GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID
# NEVER commit actual secret values!
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET
# Default redirect URL (dynamic redirect is supported for VPN/LAN access)
# See docs/OAUTH_DYNAMIC_REDIRECT_SETUP.md for configuration details
GOOGLE_OAUTH_REDIRECT_URL=http://localhost:3000/auth/google/callback

# Frontend Configuration
FRONTEND_URL=http://localhost:3001
ENV=development
PORT=3000

# Auth Service Configuration (REQUIRED)
# The Auth Service handles all authentication, OAuth, sessions, and tokens
AUTH_SERVICE_URL=http://localhost:28080

# Redis Configuration
REDIS_URL=localhost:6379
# Generate with: openssl rand -base64 20 | tr -d "=+/\n" | cut -c1-18
REDIS_PASSWORD=YOUR_REDIS_PASSWORD
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_CATEGORIES_TTL=6h
REDIS_ATTRIBUTES_TTL=4h
REDIS_ATTRIBUTE_GROUP_TTL=4h

# MinIO Configuration
FILE_STORAGE_PROVIDER=minio
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
# Generate with: openssl rand -base64 24 | tr -d "=+/\n" | cut -c1-20
MINIO_SECRET_KEY=YOUR_SECURE_MINIO_SECRET
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=listings
MINIO_CHAT_BUCKET=chat-files
MINIO_STOREFRONT_BUCKET=storefront-products
MINIO_REVIEW_PHOTOS_BUCKET=review-photos
MINIO_LOCATION=eu-central-1
FILE_STORAGE_PUBLIC_URL=http://localhost:3000

# OpenSearch Configuration
OPENSEARCH_URL=http://localhost:9200
# TODO: Enable security and set proper credentials
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=YOUR_SECURE_OPENSEARCH_PASSWORD
OPENSEARCH_MARKETPLACE_INDEX=marketplace

# Feature Flags
# Enable unified attributes system (v2 API)
USE_UNIFIED_ATTRIBUTES=false
# Enable fallback to legacy system if v2 fails
UNIFIED_ATTRIBUTES_FALLBACK=true
# Percentage of traffic to route to v2 (0-100)
UNIFIED_ATTRIBUTES_PERCENT=0

# Email Configuration
EMAIL_PASSWORD=YOUR_EMAIL_PASSWORD

# API Keys (Optional - Only if features are used)
# Get your keys from respective providers
# OPENAI_API_KEY=YOUR_OPENAI_KEY
# CLAUDE_API_KEY=YOUR_CLAUDE_KEY
# DEEPL_API_KEY=YOUR_DEEPL_KEY
# TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN
# STRIPE_API_KEY=YOUR_STRIPE_SECRET_KEY
# STRIPE_PUBLISHABLE_KEY=YOUR_STRIPE_PUBLIC_KEY
# STRIPE_WEBHOOK_SECRET=YOUR_STRIPE_WEBHOOK_SECRET
# MAPBOX_ACCESS_TOKEN=YOUR_MAPBOX_PUBLIC_TOKEN
# MAPBOX_SECRET_TOKEN=YOUR_MAPBOX_SECRET_TOKEN

# CarAPI Integration (Optional)
# CARAPI_TOKEN=YOUR_CARAPI_TOKEN
# CARAPI_SECRET=YOUR_CARAPI_SECRET
# CARAPI_BASE_URL=https://carapi.app/api

# Translation Services (Optional)
# GOOGLE_TRANSLATE_API_KEY=YOUR_GOOGLE_TRANSLATE_KEY
# GOOGLE_APPLICATION_CREDENTIALS=/app/credentials/your-credentials.json

# Geocoding Configuration
GEOCODING_CACHE_TTL_HOURS=720
GEOCODING_MAX_SUGGESTIONS=10
GEOCODING_DEBOUNCE_MS=300
GEOCODING_FALLBACK_PROVIDER=nominatim

# Logging
LOG_LEVEL=debug

# Documentation
DOCS_ROOT_PATH=/data/hostel-booking-system

# Shipping Integrations (Optional)
# BEX_API_URL=https://bexexpress.rs/api
# BEX_AUTH_TOKEN=YOUR_BEX_TOKEN
# BEX_CLIENT_ID=YOUR_BEX_CLIENT_ID

SERVER_HOST=http://localhost:3000

# Security Notes:
# 1. NEVER commit actual secrets to version control
# 2. Use strong, randomly generated passwords
# 3. Rotate secrets regularly
# 4. Use different secrets for development/staging/production
# 5. Consider using a secret management system in production
