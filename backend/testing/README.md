# Search API Testing

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö search-related endpoints –≤ Sve Tu Backend API.

## –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### üìã –û—Ç—á–µ—Ç—ã
- `search_endpoints_test_report.md` - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Å–µ—Ö search endpoints
- `README.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª

### üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã  
- `postman_collection_search_endpoints.json` - Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö endpoints

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞
```bash
cd /data/hostel-booking-system/backend
go run ./cmd/api/main.go
```

### 2. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:3000/api/health

# –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫
curl "http://localhost:3000/api/v1/search?query=–∫–≤–∞—Ä—Ç–∏—Ä–∞&limit=20"

# Marketplace –ø–æ–∏—Å–∫
curl "http://localhost:3000/api/v1/marketplace/search?query=–¥–æ–º&page=1&size=10"

# –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
curl "http://localhost:3000/api/v1/marketplace/suggestions?prefix=–¥–æ–º&size=10"

# –ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
curl "http://localhost:3000/api/v1/marketplace/listings/17/similar?limit=5"

# –ö–∞—Ä—Ç–∞ - –ø–æ–∏—Å–∫ –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö
curl "http://localhost:3000/api/v1/marketplace/map/bounds?ne_lat=45.0&ne_lng=21.0&sw_lat=44.0&sw_lng=20.0&zoom=10"
```

### 3. –ò–º–ø–æ—Ä—Ç –≤ Postman
1. –û—Ç–∫—Ä—ã—Ç—å Postman
2. File ‚Üí Import
3. –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª `postman_collection_search_endpoints.json`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:
   - `base_url`: `http://localhost:3000`
   - `jwt_token`: (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö endpoints)

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ endpoints (12):
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫
- Marketplace –ø–æ–∏—Å–∫ (–æ—Å–Ω–æ–≤–Ω–æ–π + —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (suggestions)
- –ü–æ—Ö–æ–∂–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ü–æ–∏—Å–∫ –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –∫–∞—Ä—Ç—ã
- –ö–ª–∞—Å—Ç–µ—Ä—ã –¥–ª—è –∫–∞—Ä—Ç—ã
- –ò –¥—Ä—É–≥–∏–µ...

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (6):
- Search admin endpoints (–ø—Ä–æ–±–ª–µ–º–∞ —Å middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- –í–µ—Å–∞ –ø–æ–∏—Å–∫–∞, —Å–∏–Ω–æ–Ω–∏–º—ã, –ø—Ä–∞–≤–∏–ª–∞ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Middleware –∫–æ–Ω—Ñ–ª–∏–∫—Ç**: Search admin GET endpoints —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤–º–µ—Å—Ç–æ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
2. **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É middleware –≤ server.go –¥–ª—è search_admin –º–æ–¥—É–ª—è

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ `search_endpoints_test_report.md`.