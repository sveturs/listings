# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

## –î–∞—Ç–∞: 2025-07-23

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è 000134 –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É translations
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
   - –ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

2. **Backend API**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/gis/geocode/multilingual`
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `GetMultilingualAddress` –≤ GeocodingService
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –≤ `gis/types/geo_types.go`
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Ä–æ—É—Ç–∞—Ö
   - Backend –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏–Ω—Ç–µ—Ä–æ–º
   - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

3. **Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ `addressUtils.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
     - `formatAddressWithPrivacy` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
     - `getLocalizedAddress` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
     - `getFullLocalizedAddress` - —Å–±–æ—Ä–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω —Ö—É–∫ `useAddressGeocoding` —Å –º–µ—Ç–æ–¥–æ–º `getMultilingualAddress`
   - –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LocationPicker` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞–ª–∏
   - –û–±–Ω–æ–≤–ª–µ–Ω `MarketplaceCard` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ `marketplace/[id]/page.tsx`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –≤ `MarketplaceItem` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend**
   - Backend —É–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã —á–µ—Ä–µ–∑ –ø–æ–ª–µ `translations` –≤ –º–æ–¥–µ–ª–∏
   - Frontend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ
   - Fallback –Ω–∞ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

5. **–ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è**
   - –û–±–Ω–æ–≤–ª–µ–Ω `LocationPicker` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
   - –û–±–Ω–æ–≤–ª–µ–Ω `CreateListingContext` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω `LocationStep` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –î–æ–±–∞–≤–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Accept-Language` –≤ apiClient –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

6. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã**
   - –û–±–Ω–æ–≤–ª–µ–Ω `MarkerHoverPopup` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω `MarkerClickPopup` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `getLocalizedAddress` –∏–∑ `addressUtils.ts`

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ:

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:**
- Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –∞–¥—Ä–µ—Å–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- Frontend –ø–æ–ª—É—á–∞–µ—Ç –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–π API —ç–Ω–¥–ø–æ–∏–Ω—Ç
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π

### üìã –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å:

1. **Backend**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å batch-–º–∏–≥—Ä–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–¥—Ä–µ—Å–æ–≤

2. **Frontend**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –≤ storefronts

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
   - E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ñ–ª–æ—É

### üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏:

1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `translations`
2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —è–∑—ã–∫–∏: sr (—Å–µ—Ä–±—Å–∫–∏–π), en (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π), ru (—Ä—É—Å—Å–∫–∏–π)
3. Backend API –≥–æ—Ç–æ–≤, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
4. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã, –Ω–æ –Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:

```bash
# Backend
cd /data/hostel-booking-system/backend
make format && make lint && make generate-types

# Frontend
cd /data/hostel-booking-system/frontend/svetu
yarn format && yarn lint && yarn build

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
cd /data/hostel-booking-system/backend
./migrator up
```

### üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

**Backend:**
- `/backend/migrations/000134_add_multilingual_addresses_support.up.sql`
- `/backend/migrations/000134_add_multilingual_addresses_support.down.sql`
- `/backend/internal/proj/gis/types/geo_types.go`
- `/backend/internal/proj/gis/service/geocoding_service.go`
- `/backend/internal/proj/gis/handler/geocoding.go`
- `/backend/internal/proj/gis/handler/routes.go`

**Frontend:**
- `/frontend/svetu/src/utils/addressUtils.ts` (–Ω–æ–≤—ã–π)
- `/frontend/svetu/src/hooks/useAddressGeocoding.ts`
- `/frontend/svetu/src/components/MarketplaceCard.tsx`
- `/frontend/svetu/src/app/[locale]/marketplace/[id]/page.tsx`
- `/frontend/svetu/src/types/marketplace.ts`

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ marketplace service
2. –û–±–Ω–æ–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π
3. –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ñ–ª–æ—É –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è