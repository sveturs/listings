# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤–µ–∑–¥–µ –≤ —Å–∏—Å—Ç–µ–º–µ

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç CategoryTreeSelector**
2. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–µ—à–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π**
3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å**
4. **–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ**

## –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç CategoryTreeSelector

‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**: `frontend/svetu/src/components/common/CategoryTreeSelector.tsx`

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ single –∏ multi —Ä–µ–∂–∏–º–æ–≤ –≤—ã–±–æ—Ä–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–µ—à–µ–º
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–≥–∞–ª–æ—á–∫–∞)
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –ø–∞–ø–æ–∫ (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ) –∏ —Ñ–∞–π–ª–æ–≤ (–ª–∏—Å—Ç–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (badge)

### API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
```typescript
interface CategoryTreeSelectorProps {
  value?: number | number[];  // ID –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  onChange: (value: number | number[]) => void;
  multiple?: boolean;  // –º—É–ª—å—Ç–∏-–≤—ã–±–æ—Ä
  placeholder?: string;
  disabled?: boolean;
  required?: boolean;
  showPath?: boolean;  // –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
  allowParentSelection?: boolean;  // —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—ã–±–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  maxDepth?: number;  // –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  className?: string;
}
```

## –ú–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π ‚úÖ
- **–§–∞–π–ª—ã**: 
  - `frontend/svetu/src/app/[locale]/create-listing/page.tsx` (–æ–±–Ω–æ–≤–ª–µ–Ω)
  - `frontend/svetu/src/components/create-listing/steps/CategorySelectionStep.tsx` (–æ–±–Ω–æ–≤–ª–µ–Ω)
  - `frontend/svetu/src/app/[locale]/marketplace/listings/[id]/edit/page.tsx`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - Single –≤—ã–±–æ—Ä ‚úÖ
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å ‚úÖ
  - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—ã–±–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Ç–æ–ª—å–∫–æ –ª–∏—Å—Ç—å—è) ‚úÖ
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ dropdown –¥–ª—è –ª—É—á—à–µ–≥–æ UX

### 2. –í–∏—Ç—Ä–∏–Ω—ã (Showcase)
- **–§–∞–π–ª—ã**:
  - `frontend/svetu/src/app/[locale]/marketplace/showcase/create/page.tsx`
  - `frontend/svetu/src/app/[locale]/marketplace/showcase/[id]/edit/page.tsx`
  - `frontend/svetu/src/app/[locale]/marketplace/showcase/[id]/products/page.tsx`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - Multi –≤—ã–±–æ—Ä –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –≤–∏—Ç—Ä–∏–Ω—ã
  - Single –≤—ã–±–æ—Ä –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∞–º–æ–π –≤–∏—Ç—Ä–∏–Ω—ã
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 3. –§–∏–ª—å—Ç—Ä—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚úÖ
- **–§–∞–π–ª—ã**:
  - `frontend/svetu/src/components/marketplace/HomePage.tsx`
  - `frontend/svetu/src/components/categories/CategorySidebar.tsx`
  - `frontend/svetu/src/components/marketplace/ListingFilters.tsx`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - Single –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Å–∞–π–¥–±–∞—Ä–µ ‚úÖ
  - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ —Ñ–∏–ª—å—Ç—Ä—ã ‚úÖ
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚úÖ
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - CategorySidebar –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ID –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ ListingFilters
  - ListingFilters –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã —Å —Ñ–ª–∞–≥–æ–º is_filterable

### 4. –§–∏–ª—å—Ç—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- **–§–∞–π–ª—ã**:
  - `frontend/svetu/src/app/[locale]/map/page.tsx`
  - `frontend/svetu/src/components/map/MapFilters.tsx`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - Multi –≤—ã–±–æ—Ä
  - –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  - –ë—ã—Å—Ç—Ä–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### 5. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–§–∞–π–ª—ã**:
  - `frontend/svetu/src/app/[locale]/admin/categories/page.tsx`
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞
  - Drag & Drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

## –†–∞–±–æ—Ç–∞ —Å –∫–µ—à–µ–º

### Backend endpoints —Å –∫–µ—à–µ–º:
- `GET /api/v1/marketplace/categories` - –æ—Å–Ω–æ–≤–Ω–æ–π endpoint (–∫–µ—à 6 —á–∞—Å–æ–≤)
- `GET /api/v1/marketplace/categories/tree` - –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–∫–µ—à 6 —á–∞—Å–æ–≤)
- `GET /api/v1/marketplace/categories/{id}` - –æ–¥–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–∫–µ—à 6 —á–∞—Å–æ–≤)
- `GET /api/v1/marketplace/categories/{id}/attributes` - –∞—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∫–µ—à 6 —á–∞—Å–æ–≤)
- `GET /api/v1/admin/categories/all` - –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∫–µ—à 6 —á–∞—Å–æ–≤)

### –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏:
- –°–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –£–¥–∞–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ parent_id
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞:
```bash
# –ß–µ—Ä–µ–∑ Redis CLI
docker exec -it redis redis-cli
KEYS *categories*
DEL <key_name>

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ –∫–µ—à–∞ Redis
echo "FLUSHALL" | nc localhost 6379

# –ß–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É
cd backend && go run cmd/cache-monitor/main.go
```

### –í–ê–ñ–ù–û –æ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö:
–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è —Å –∫–ª—é—á–æ–º, –∑–∞–≤–∏—Å—è—â–∏–º –æ—Ç —è–∑—ã–∫–∞. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ –ë–î –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ‚úÖ
1. –°–æ–∑–¥–∞—Ç—å `CategoryTreeSelector.tsx` ‚úÖ
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚úÖ
3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–∏—Å–∫–∞ ‚úÖ
4. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

### –®–∞–≥ 2: –ó–∞–º–µ–Ω–∞ –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö
1. –ó–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞ CategoryTreeSelector
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å props –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–µ—à–µ–º
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UX

### –®–∞–≥ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
1. –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å lazy loading –¥–ª—è –≥–ª—É–±–æ–∫–∏—Ö –¥–µ—Ä–µ–≤—å–µ–≤
3. –î–æ–±–∞–≤–∏—Ç—å keyboard navigation
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

## –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- [x] –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [x] –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–µ—à–µ–º
- [x] –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ i18n (–º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å) - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useLocale() –∏–∑ next-intl
- [x] –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)
- [x] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —è–∑—ã–∫–∞ –≤ API –∑–∞–ø—Ä–æ—Å—ã (?lang=locale)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:
```tsx
<CategoryTreeSelector
  value={formData.categoryId}
  onChange={(id) => setFormData({...formData, categoryId: id as number})}
  placeholder={t('selectCategory')}
  required
  showPath
  allowParentSelection={false}
/>
```

### –í —Ñ–∏–ª—å—Ç—Ä–∞—Ö:
```tsx
<CategoryTreeSelector
  value={selectedCategories}
  onChange={setSelectedCategories}
  multiple
  placeholder={t('filterByCategory')}
  showPath={false}
/>
```

### –í —Å–∞–π–¥–±–∞—Ä–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
```tsx
<CategorySidebar
  onCategorySelect={handleCategorySelect}
  selectedCategoryId={selectedCategoryId}
  className="sticky top-4"
/>
```

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–µ—à –≤ Redis
2. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –≤—Ä—É—á–Ω—É—é
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ backend

### –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ parent_id –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API
4. **–í–∞–∂–Ω–æ**: Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.memo
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏—é

## –í–∞–∂–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. UX –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ CategoryTreeSelector –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ dropdown –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–æ —ç—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ª–∏—à–Ω–∏–π –∫–ª–∏–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –∑–∞ –≤—ã–±–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ—ç—Ç–æ–º—É –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API
Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø–æ–ª–µ–º parent_id. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä–æ–∏—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –¥–≤–∞ –ø—Ä–æ—Ö–æ–¥–∞:
- –ü–µ—Ä–≤—ã–π –ø—Ä–æ—Ö–æ–¥: —Å–æ–∑–¥–∞–Ω–∏–µ Map –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —á–µ—Ä–µ–∑ —Å–≤—è–∑–∏ parent_id

### 3. –ò–∫–æ–Ω–∫–∏ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–í–º–µ—Å—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ lucide-react –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ SVG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ –∏ —É–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω—é—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

### 4. –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü–∞–ø–∫–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π, —Ñ–∞–π–ª—ã –¥–ª—è –ª–∏—Å—Ç–æ–≤—ã—Ö
- –ì–∞–ª–æ—á–∫–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- Badge —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ü–≤–µ—Ç–æ–º primary

### 5. –ü–µ—Ä–µ–≤–æ–¥—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
–ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è marketplace –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–µ–∫—Ü–∏–∏ `marketplace` —Ñ–∞–π–ª–æ–≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –≤ –∫–æ—Ä–Ω–µ.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è 21.07.2025

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤:
1. CategorySidebar —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ —Ñ–∏–ª—å—Ç—Ä—ã
2. ListingFilters –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ SmartFilters –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
4. –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ API –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∏—Å–∫–∞

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤:

#### 1. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –≤ MarketplaceList
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û–±—ä–µ–∫—Ç `filters` –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `useMemo` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ `filtersKey`
- **–§–∞–π–ª**: `frontend/svetu/src/components/marketplace/MarketplaceList.tsx`

#### 2. –¶–∏–∫–ª –≤ SmartFilters –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: `onChange({})` –≤—ã–∑—ã–≤–∞–ª—Å—è –≤ useEffect —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç `onChange`
- **–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–ª–∏ `onChange` –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π useEffect
- **–§–∞–π–ª**: `frontend/svetu/src/components/marketplace/SmartFilters.tsx`

### ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤:

#### 1. –ü–µ—Ä–µ–≤–æ–¥—ã condition
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π –≤ ru.json
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤–æ –≤—Å–µ —è–∑—ã–∫–∏ (ru, en, sr)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π namespace: `marketplace.condition.*`

#### 2. –ü–µ—Ä–µ–≤–æ–¥ clearFilter
- –î–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ —è–∑—ã–∫–∏: `marketplace.filters.clearFilter`

#### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ namespace
- SmartFilters –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª 'map' –≤–º–µ—Å—Ç–æ 'marketplace' - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ListingFilters —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `t('condition.new')` —Å namespace 'marketplace'

### üí° –í–∞–∂–Ω—ã–µ —É—Ä–æ–∫–∏:
1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ useMemo –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö useEffect**
2. **–ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–ª–ª–±—ç–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect, –µ—Å–ª–∏ —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —Ü–∏–∫–ª**
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ JSON —Ñ–∞–π–ª—ã –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π**
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ namespace –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤**

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤:
1. CategorySidebar —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ —Ñ–∏–ª—å—Ç—Ä—ã
2. ListingFilters –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ SmartFilters –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
4. –§–∏–ª—å—Ç—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ API –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∏—Å–∫–∞

### ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:
1. **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–æ–∑–Ω–∏–∫–∞–ª –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ–±—ä–µ–∫—Ç `filters` –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
2. **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `useMemo` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ `filtersKey`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
3. **–§–∞–π–ª**: `frontend/svetu/src/components/marketplace/MarketplaceList.tsx`
4. **–í–∞–∂–Ω–æ**: –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö useEffect –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–º–æ–∏–∑–∞—Ü–∏—é –∏–ª–∏ –≥–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### üìù –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤:
1. –ö–ª—é—á–∏ –¥–ª—è `condition` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ `marketplace.condition`, –∞ –Ω–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º `condition`
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `ru.json`: `marketplace.condition.new`, `marketplace.condition.used`, `marketplace.condition.refurbished`, `marketplace.condition.damaged`
3. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã